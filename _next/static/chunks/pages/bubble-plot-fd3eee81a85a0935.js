(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[237],{3035:function(n,e,p){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bubble-plot",function(){return p(7353)}])},33:function(n,e,p){"use strict";p.d(e,{$:function(){return l}});var t=p(5893),o=p(7294),i=p(217),r=p(4893),c=p(5380),a=p(7975),l=function(n){var e=n.VizComponent,p=n.vizName,l=n.height,u=void 0===l?400:l,d=n.maxWidth,f=void 0===d?800:d,s=n.caption,g=(0,o.useState)(!1),x=g[0],y=g[1],E=(0,o.useRef)(null),P=(0,i.B)(E);return(0,t.jsx)("div",{style:{marginLeft:"-50vw",left:"50%"},className:"my-4 py-4 w-screen relative",children:x?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center w-full",children:[(0,t.jsx)("div",{style:{maxWidth:2e3},className:"w-full",children:(0,t.jsx)(a.X,{vizName:p})}),(0,t.jsx)("div",{className:"flex justify-center mt-2",children:(0,t.jsx)(r.z,{size:"sm",onClick:function(){return y(!x)},children:"Hide Sandbox"})})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)("div",{className:"bg-gray-50 w-screen flex justify-center",children:(0,t.jsx)("div",{style:{height:u,width:"100%",maxWidth:f},ref:E,children:(0,t.jsx)(e,{height:u,width:P.width})})}),(0,t.jsx)(c.Y,{children:s}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(r.z,{size:"sm",onClick:function(){return y(!x)},children:"Show code"})})]})})}},7975:function(n,e,p){"use strict";p.d(e,{X:function(){return o}});var t=p(5893),o=(p(7294),function(n){var e="https://codesandbox.io/embed/github/holtzy/react-graph-gallery/tree/main/viz/"+n.vizName+"?fontsize=14&hidenavigation=1&theme=dark&expanddevtools=0";return(0,t.jsx)("iframe",{src:e,style:{width:"100%",height:"500px",border:"solid",borderWidth:2,borderRadius:"4px",overflow:"hidden"},allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})})},4893:function(n,e,p){"use strict";p.d(e,{z:function(){return o}});var t=p(5893),o=function(n){var e=n.children,p=n.onClick,o=n.isFilled,i=n.size,r=void 0===i?"md":i,c="rounded m-1 cursor-pointer border-reactGallery border ";return"sm"===r&&(c+="text-sm py-1 px-2"),"md"===r&&(c+="text-md py-2 px-4"),c+=o?" bg-reactGallery hover:bg-reactGallery text-white":" bg-white hover:bg-reactGallery hover:text-white text-reactGallery",(0,t.jsx)("button",{className:c,onClick:p,children:e})}},8193:function(n,e,p){"use strict";p.d(e,{d:function(){return c}});var t=p(5893),o=p(4725),i=p.n(o),r=p(7294),c=function(n){var e=n.code,p=(0,r.useRef)(null);return(0,r.useEffect)((function(){p.current&&i().highlightElement(p.current)}),[p,e]),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("pre",{className:"rounded-md line-numbers",children:(0,t.jsx)("code",{ref:p,className:"p-0 language-js",children:e})})})}},217:function(n,e,p){"use strict";p.d(e,{B:function(){return o}});var t=p(7294),o=function(n){var e=function(){return{width:n.current?n.current.offsetWidth:0,height:n.current?n.current.offsetHeight:0}},p=(0,t.useState)(e),o=p[0],i=p[1],r=function(){i(e())};return(0,t.useEffect)((function(){return window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}}),[]),(0,t.useLayoutEffect)((function(){r()}),[]),o}},7353:function(n,e,p){"use strict";p.r(e),p.d(e,{default:function(){return G}});var t=p(5893),o=p(7294),i=p(4813),r=p(8807),c=p(7197),a=p(6978),l=p(3485),u=p(8193),d=p(33),f=p(1664),s=[{country:"Afghanistan",continent:"Asia",lifeExp:43.828,pop:31889923,gdpPercap:974.5803384},{country:"Albania",continent:"Europe",lifeExp:76.423,pop:3600523,gdpPercap:5937.029526},{country:"Algeria",continent:"Africa",lifeExp:72.301,pop:33333216,gdpPercap:6223.367465},{country:"Angola",continent:"Africa",lifeExp:42.731,pop:12420476,gdpPercap:4797.231267},{country:"Argentina",continent:"Americas",lifeExp:75.32,pop:40301927,gdpPercap:12779.37964},{country:"Australia",continent:"Oceania",lifeExp:81.235,pop:20434176,gdpPercap:34435.36744},{country:"Austria",continent:"Europe",lifeExp:79.829,pop:8199783,gdpPercap:36126.4927},{country:"Bahrain",continent:"Asia",lifeExp:75.635,pop:708573,gdpPercap:29796.04834},{country:"Bangladesh",continent:"Asia",lifeExp:64.062,pop:150448339,gdpPercap:1391.253792},{country:"Belgium",continent:"Europe",lifeExp:79.441,pop:10392226,gdpPercap:33692.60508},{country:"Benin",continent:"Africa",lifeExp:56.728,pop:8078314,gdpPercap:1441.284873},{country:"Bolivia",continent:"Americas",lifeExp:65.554,pop:9119152,gdpPercap:3822.137084},{country:"Bosnia and Herzegovina",continent:"Europe",lifeExp:74.852,pop:4552198,gdpPercap:7446.298803},{country:"Botswana",continent:"Africa",lifeExp:50.728,pop:1639131,gdpPercap:12569.85177},{country:"Brazil",continent:"Americas",lifeExp:72.39,pop:190010647,gdpPercap:9065.800825},{country:"Bulgaria",continent:"Europe",lifeExp:73.005,pop:7322858,gdpPercap:10680.79282},{country:"Burkina Faso",continent:"Africa",lifeExp:52.295,pop:14326203,gdpPercap:1217.032994},{country:"Burundi",continent:"Africa",lifeExp:49.58,pop:8390505,gdpPercap:430.0706916},{country:"Cambodia",continent:"Asia",lifeExp:59.723,pop:14131858,gdpPercap:1713.778686},{country:"Cameroon",continent:"Africa",lifeExp:50.43,pop:17696293,gdpPercap:2042.09524},{country:"Canada",continent:"Americas",lifeExp:80.653,pop:33390141,gdpPercap:36319.23501},{country:"Central African Republic",continent:"Africa",lifeExp:44.741,pop:4369038,gdpPercap:706.016537},{country:"Chad",continent:"Africa",lifeExp:50.651,pop:10238807,gdpPercap:1704.063724},{country:"Chile",continent:"Americas",lifeExp:78.553,pop:16284741,gdpPercap:13171.63885},{country:"China",continent:"Asia",lifeExp:72.961,pop:1318683096,gdpPercap:4959.114854},{country:"Colombia",continent:"Americas",lifeExp:72.889,pop:44227550,gdpPercap:7006.580419},{country:"Comoros",continent:"Africa",lifeExp:65.152,pop:710960,gdpPercap:986.1478792},{country:"Congo, Dem. Rep.",continent:"Africa",lifeExp:46.462,pop:64606759,gdpPercap:277.5518587},{country:"Congo, Rep.",continent:"Africa",lifeExp:55.322,pop:3800610,gdpPercap:3632.557798},{country:"Costa Rica",continent:"Americas",lifeExp:78.782,pop:4133884,gdpPercap:9645.06142},{country:"Cote d'Ivoire",continent:"Africa",lifeExp:48.328,pop:18013409,gdpPercap:1544.750112},{country:"Croatia",continent:"Europe",lifeExp:75.748,pop:4493312,gdpPercap:14619.22272},{country:"Cuba",continent:"Americas",lifeExp:78.273,pop:11416987,gdpPercap:8948.102923},{country:"Czech Republic",continent:"Europe",lifeExp:76.486,pop:10228744,gdpPercap:22833.30851},{country:"Denmark",continent:"Europe",lifeExp:78.332,pop:5468120,gdpPercap:35278.41874},{country:"Djibouti",continent:"Africa",lifeExp:54.791,pop:496374,gdpPercap:2082.481567},{country:"Dominican Republic",continent:"Americas",lifeExp:72.235,pop:9319622,gdpPercap:6025.374752},{country:"Ecuador",continent:"Americas",lifeExp:74.994,pop:13755680,gdpPercap:6873.262326},{country:"Egypt",continent:"Africa",lifeExp:71.338,pop:80264543,gdpPercap:5581.180998},{country:"El Salvador",continent:"Americas",lifeExp:71.878,pop:6939688,gdpPercap:5728.353514},{country:"Equatorial Guinea",continent:"Africa",lifeExp:51.579,pop:551201,gdpPercap:12154.08975},{country:"Eritrea",continent:"Africa",lifeExp:58.04,pop:4906585,gdpPercap:641.3695236},{country:"Ethiopia",continent:"Africa",lifeExp:52.947,pop:76511887,gdpPercap:690.8055759},{country:"Finland",continent:"Europe",lifeExp:79.313,pop:5238460,gdpPercap:33207.0844},{country:"France",continent:"Europe",lifeExp:80.657,pop:61083916,gdpPercap:30470.0167},{country:"Gabon",continent:"Africa",lifeExp:56.735,pop:1454867,gdpPercap:13206.48452},{country:"Gambia",continent:"Africa",lifeExp:59.448,pop:1688359,gdpPercap:752.7497265},{country:"Germany",continent:"Europe",lifeExp:79.406,pop:82400996,gdpPercap:32170.37442},{country:"Ghana",continent:"Africa",lifeExp:60.022,pop:22873338,gdpPercap:1327.60891},{country:"Greece",continent:"Europe",lifeExp:79.483,pop:10706290,gdpPercap:27538.41188},{country:"Guatemala",continent:"Americas",lifeExp:70.259,pop:12572928,gdpPercap:5186.050003},{country:"Guinea",continent:"Africa",lifeExp:56.007,pop:9947814,gdpPercap:942.6542111},{country:"Guinea-Bissau",continent:"Africa",lifeExp:46.388,pop:1472041,gdpPercap:579.231743},{country:"Haiti",continent:"Americas",lifeExp:60.916,pop:8502814,gdpPercap:1201.637154},{country:"Honduras",continent:"Americas",lifeExp:70.198,pop:7483763,gdpPercap:3548.330846},{country:"Hong Kong, China",continent:"Asia",lifeExp:82.208,pop:6980412,gdpPercap:39724.97867},{country:"Hungary",continent:"Europe",lifeExp:73.338,pop:9956108,gdpPercap:18008.94444},{country:"Iceland",continent:"Europe",lifeExp:81.757,pop:301931,gdpPercap:36180.78919},{country:"India",continent:"Asia",lifeExp:64.698,pop:1110396331,gdpPercap:2452.210407},{country:"Indonesia",continent:"Asia",lifeExp:70.65,pop:223547e3,gdpPercap:3540.651564},{country:"Iran",continent:"Asia",lifeExp:70.964,pop:69453570,gdpPercap:11605.71449},{country:"Iraq",continent:"Asia",lifeExp:59.545,pop:27499638,gdpPercap:4471.061906},{country:"Ireland",continent:"Europe",lifeExp:78.885,pop:4109086,gdpPercap:40675.99635},{country:"Israel",continent:"Asia",lifeExp:80.745,pop:6426679,gdpPercap:25523.2771},{country:"Italy",continent:"Europe",lifeExp:80.546,pop:58147733,gdpPercap:28569.7197},{country:"Jamaica",continent:"Americas",lifeExp:72.567,pop:2780132,gdpPercap:7320.880262},{country:"Japan",continent:"Asia",lifeExp:82.603,pop:127467972,gdpPercap:31656.06806},{country:"Jordan",continent:"Asia",lifeExp:72.535,pop:6053193,gdpPercap:4519.461171},{country:"Kenya",continent:"Africa",lifeExp:54.11,pop:35610177,gdpPercap:1463.249282},{country:"Korea, Dem. Rep.",continent:"Asia",lifeExp:67.297,pop:23301725,gdpPercap:1593.06548},{country:"Korea, Rep.",continent:"Asia",lifeExp:78.623,pop:49044790,gdpPercap:23348.13973},{country:"Kuwait",continent:"Asia",lifeExp:77.588,pop:2505559,gdpPercap:47306.98978},{country:"Lebanon",continent:"Asia",lifeExp:71.993,pop:3921278,gdpPercap:10461.05868},{country:"Lesotho",continent:"Africa",lifeExp:42.592,pop:2012649,gdpPercap:1569.331442},{country:"Liberia",continent:"Africa",lifeExp:45.678,pop:3193942,gdpPercap:414.5073415},{country:"Libya",continent:"Africa",lifeExp:73.952,pop:6036914,gdpPercap:12057.49928},{country:"Madagascar",continent:"Africa",lifeExp:59.443,pop:19167654,gdpPercap:1044.770126},{country:"Malawi",continent:"Africa",lifeExp:48.303,pop:13327079,gdpPercap:759.3499101},{country:"Malaysia",continent:"Asia",lifeExp:74.241,pop:24821286,gdpPercap:12451.6558},{country:"Mali",continent:"Africa",lifeExp:54.467,pop:12031795,gdpPercap:1042.581557},{country:"Mauritania",continent:"Africa",lifeExp:64.164,pop:3270065,gdpPercap:1803.151496},{country:"Mauritius",continent:"Africa",lifeExp:72.801,pop:1250882,gdpPercap:10956.99112},{country:"Mexico",continent:"Americas",lifeExp:76.195,pop:108700891,gdpPercap:11977.57496},{country:"Mongolia",continent:"Asia",lifeExp:66.803,pop:2874127,gdpPercap:3095.772271},{country:"Montenegro",continent:"Europe",lifeExp:74.543,pop:684736,gdpPercap:9253.896111},{country:"Morocco",continent:"Africa",lifeExp:71.164,pop:33757175,gdpPercap:3820.17523},{country:"Mozambique",continent:"Africa",lifeExp:42.082,pop:19951656,gdpPercap:823.6856205},{country:"Myanmar",continent:"Asia",lifeExp:62.069,pop:47761980,gdpPercap:944},{country:"Namibia",continent:"Africa",lifeExp:52.906,pop:2055080,gdpPercap:4811.060429},{country:"Nepal",continent:"Asia",lifeExp:63.785,pop:28901790,gdpPercap:1091.359778},{country:"Netherlands",continent:"Europe",lifeExp:79.762,pop:16570613,gdpPercap:36797.93332},{country:"New Zealand",continent:"Oceania",lifeExp:80.204,pop:4115771,gdpPercap:25185.00911},{country:"Nicaragua",continent:"Americas",lifeExp:72.899,pop:5675356,gdpPercap:2749.320965},{country:"Niger",continent:"Africa",lifeExp:56.867,pop:12894865,gdpPercap:619.6768924},{country:"Nigeria",continent:"Africa",lifeExp:46.859,pop:135031164,gdpPercap:2013.977305},{country:"Norway",continent:"Europe",lifeExp:80.196,pop:4627926,gdpPercap:49357.19017},{country:"Oman",continent:"Asia",lifeExp:75.64,pop:3204897,gdpPercap:22316.19287},{country:"Pakistan",continent:"Asia",lifeExp:65.483,pop:169270617,gdpPercap:2605.94758},{country:"Panama",continent:"Americas",lifeExp:75.537,pop:3242173,gdpPercap:9809.185636},{country:"Paraguay",continent:"Americas",lifeExp:71.752,pop:6667147,gdpPercap:4172.838464},{country:"Peru",continent:"Americas",lifeExp:71.421,pop:28674757,gdpPercap:7408.905561},{country:"Philippines",continent:"Asia",lifeExp:71.688,pop:91077287,gdpPercap:3190.481016},{country:"Poland",continent:"Europe",lifeExp:75.563,pop:38518241,gdpPercap:15389.92468},{country:"Portugal",continent:"Europe",lifeExp:78.098,pop:10642836,gdpPercap:20509.64777},{country:"Puerto Rico",continent:"Americas",lifeExp:78.746,pop:3942491,gdpPercap:19328.70901},{country:"Reunion",continent:"Africa",lifeExp:76.442,pop:798094,gdpPercap:7670.122558},{country:"Romania",continent:"Europe",lifeExp:72.476,pop:22276056,gdpPercap:10808.47561},{country:"Rwanda",continent:"Africa",lifeExp:46.242,pop:8860588,gdpPercap:863.0884639},{country:"Sao Tome and Principe",continent:"Africa",lifeExp:65.528,pop:199579,gdpPercap:1598.435089},{country:"Saudi Arabia",continent:"Asia",lifeExp:72.777,pop:27601038,gdpPercap:21654.83194},{country:"Senegal",continent:"Africa",lifeExp:63.062,pop:12267493,gdpPercap:1712.472136},{country:"Serbia",continent:"Europe",lifeExp:74.002,pop:10150265,gdpPercap:9786.534714},{country:"Sierra Leone",continent:"Africa",lifeExp:42.568,pop:6144562,gdpPercap:862.5407561},{country:"Singapore",continent:"Asia",lifeExp:79.972,pop:4553009,gdpPercap:47143.17964},{country:"Slovak Republic",continent:"Europe",lifeExp:74.663,pop:5447502,gdpPercap:18678.31435},{country:"Slovenia",continent:"Europe",lifeExp:77.926,pop:2009245,gdpPercap:25768.25759},{country:"Somalia",continent:"Africa",lifeExp:48.159,pop:9118773,gdpPercap:926.1410683},{country:"South Africa",continent:"Africa",lifeExp:49.339,pop:43997828,gdpPercap:9269.657808},{country:"Spain",continent:"Europe",lifeExp:80.941,pop:40448191,gdpPercap:28821.0637},{country:"Sri Lanka",continent:"Asia",lifeExp:72.396,pop:20378239,gdpPercap:3970.095407},{country:"Sudan",continent:"Africa",lifeExp:58.556,pop:42292929,gdpPercap:2602.394995},{country:"Swaziland",continent:"Africa",lifeExp:39.613,pop:1133066,gdpPercap:4513.480643},{country:"Sweden",continent:"Europe",lifeExp:80.884,pop:9031088,gdpPercap:33859.74835},{country:"Switzerland",continent:"Europe",lifeExp:81.701,pop:7554661,gdpPercap:37506.41907},{country:"Syria",continent:"Asia",lifeExp:74.143,pop:19314747,gdpPercap:4184.548089},{country:"Taiwan",continent:"Asia",lifeExp:78.4,pop:23174294,gdpPercap:28718.27684},{country:"Tanzania",continent:"Africa",lifeExp:52.517,pop:38139640,gdpPercap:1107.482182},{country:"Thailand",continent:"Asia",lifeExp:70.616,pop:65068149,gdpPercap:7458.396327},{country:"Togo",continent:"Africa",lifeExp:58.42,pop:5701579,gdpPercap:882.9699438},{country:"Trinidad and Tobago",continent:"Americas",lifeExp:69.819,pop:1056608,gdpPercap:18008.50924},{country:"Tunisia",continent:"Africa",lifeExp:73.923,pop:10276158,gdpPercap:7092.923025},{country:"Turkey",continent:"Europe",lifeExp:71.777,pop:71158647,gdpPercap:8458.276384},{country:"Uganda",continent:"Africa",lifeExp:51.542,pop:29170398,gdpPercap:1056.380121},{country:"United Kingdom",continent:"Europe",lifeExp:79.425,pop:60776238,gdpPercap:33203.26128},{country:"United ys",continent:"Americas",lifeExp:78.242,pop:301139947,gdpPercap:42951.65309},{country:"Uruguay",continent:"Americas",lifeExp:76.384,pop:3447496,gdpPercap:10611.46299},{country:"Venezuela",continent:"Americas",lifeExp:73.747,pop:26084662,gdpPercap:11415.80569},{country:"Vietnam",continent:"Asia",lifeExp:74.249,pop:85262356,gdpPercap:2441.576404},{country:"West Bank and Gaza",continent:"Asia",lifeExp:73.422,pop:4018332,gdpPercap:3025.349798},{country:"Yemen, Rep.",continent:"Asia",lifeExp:62.698,pop:22211743,gdpPercap:2280.769906},{country:"Zambia",continent:"Africa",lifeExp:42.384,pop:11746035,gdpPercap:1271.211593},{country:"Zimbabwe",continent:"Africa",lifeExp:43.487,pop:12311143,gdpPercap:469.7092981}],g=p(2535);function x(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var p=[],t=!0,o=!1,i=void 0;try{for(var r,c=n[Symbol.iterator]();!(t=(r=c.next()).done)&&(p.push(r.value),!e||p.length!==e);t=!0);}catch(a){o=!0,i=a}finally{try{t||null==c.return||c.return()}finally{if(o)throw i}}return p}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y={top:30,right:30,bottom:80,left:100},E=function(n){var e=n.width,p=n.height,i=n.data,r=(0,o.useRef)(null),c=e-y.right-y.left,a=p-y.top-y.bottom,l=(0,o.useMemo)((function(){var n=x(g.Wem(i.map((function(n){return n.lifeExp}))),2),e=n[0],p=n[1];return g.BYU().domain([e,p]).range([a,0]).nice()}),[i,p]),u=(0,o.useMemo)((function(){var n=x(g.Wem(i.map((function(n){return n.gdpPercap}))),2),e=(n[0],n[1]);return g.BYU().domain([0,e]).range([0,c]).nice()}),[i,e]),d=i.map((function(n){return n.continent})).filter((function(n,e,p){return p.indexOf(n)==e})),f=g.PKp().domain(d).range(["#e0ac2b","#e85252","#6689c6","#9a6fb0","#a53253"]),s=(0,o.useMemo)((function(){var n=x(g.Wem(i.map((function(n){return n.pop}))),2),e=(n[0],n[1]);return g.BYU().domain([0,e]).range([4,40])}),[i,e]);(0,o.useEffect)((function(){var n=g.Ys(r.current);n.selectAll("*").remove();var e=g.LLu(u);n.append("g").attr("transform","translate(0,"+(a+20)+")").call(e),n.append("text").attr("font-size",12).attr("text-anchor","end").attr("x",c).attr("y",a+60).text("Gdp per Capita");var p=g.y4O(l);n.append("g").attr("transform","translate(-20,0)").call(p),n.append("text").attr("font-size",12).attr("text-anchor","end").attr("x",0).attr("y",-60).text("Life expectancy").attr("transform","rotate(-90)")}),[u,l,a,c]);var E=i.sort((function(n,e){return e.pop-n.pop})).map((function(n,e){return(0,t.jsx)("circle",{r:s(n.pop),cx:u(n.gdpPercap),cy:l(n.lifeExp),opacity:1,stroke:f(n.continent),fill:f(n.continent),fillOpacity:.4,strokeWidth:1},e)}));return(0,t.jsx)("div",{children:(0,t.jsxs)("svg",{width:e,height:p,children:[(0,t.jsx)("g",{width:c,height:a,transform:"translate(".concat([y.left,y.top].join(","),")"),children:E}),(0,t.jsx)("g",{width:c,height:a,ref:r,transform:"translate(".concat([y.left,y.top].join(","),")")})]})})},P=function(n){var e=n.width,p=void 0===e?700:e,o=n.height,i=void 0===o?400:o;return(0,t.jsx)(E,{data:s,width:p,height:i})},h=[{country:"Afghanistan",continent:"Asia",lifeExp:43.828,pop:31889923,gdpPercap:974.5803384},{country:"Albania",continent:"Europe",lifeExp:76.423,pop:3600523,gdpPercap:5937.029526},{country:"Algeria",continent:"Africa",lifeExp:72.301,pop:33333216,gdpPercap:6223.367465},{country:"Angola",continent:"Africa",lifeExp:42.731,pop:12420476,gdpPercap:4797.231267},{country:"Argentina",continent:"Americas",lifeExp:75.32,pop:40301927,gdpPercap:12779.37964},{country:"Australia",continent:"Oceania",lifeExp:81.235,pop:20434176,gdpPercap:34435.36744},{country:"Austria",continent:"Europe",lifeExp:79.829,pop:8199783,gdpPercap:36126.4927},{country:"Bahrain",continent:"Asia",lifeExp:75.635,pop:708573,gdpPercap:29796.04834},{country:"Bangladesh",continent:"Asia",lifeExp:64.062,pop:150448339,gdpPercap:1391.253792},{country:"Belgium",continent:"Europe",lifeExp:79.441,pop:10392226,gdpPercap:33692.60508},{country:"Benin",continent:"Africa",lifeExp:56.728,pop:8078314,gdpPercap:1441.284873},{country:"Bolivia",continent:"Americas",lifeExp:65.554,pop:9119152,gdpPercap:3822.137084},{country:"Bosnia and Herzegovina",continent:"Europe",lifeExp:74.852,pop:4552198,gdpPercap:7446.298803},{country:"Botswana",continent:"Africa",lifeExp:50.728,pop:1639131,gdpPercap:12569.85177},{country:"Brazil",continent:"Americas",lifeExp:72.39,pop:190010647,gdpPercap:9065.800825},{country:"Bulgaria",continent:"Europe",lifeExp:73.005,pop:7322858,gdpPercap:10680.79282},{country:"Burkina Faso",continent:"Africa",lifeExp:52.295,pop:14326203,gdpPercap:1217.032994},{country:"Burundi",continent:"Africa",lifeExp:49.58,pop:8390505,gdpPercap:430.0706916},{country:"Cambodia",continent:"Asia",lifeExp:59.723,pop:14131858,gdpPercap:1713.778686},{country:"Cameroon",continent:"Africa",lifeExp:50.43,pop:17696293,gdpPercap:2042.09524},{country:"Canada",continent:"Americas",lifeExp:80.653,pop:33390141,gdpPercap:36319.23501},{country:"Central African Republic",continent:"Africa",lifeExp:44.741,pop:4369038,gdpPercap:706.016537},{country:"Chad",continent:"Africa",lifeExp:50.651,pop:10238807,gdpPercap:1704.063724},{country:"Chile",continent:"Americas",lifeExp:78.553,pop:16284741,gdpPercap:13171.63885},{country:"China",continent:"Asia",lifeExp:72.961,pop:1318683096,gdpPercap:4959.114854},{country:"Colombia",continent:"Americas",lifeExp:72.889,pop:44227550,gdpPercap:7006.580419},{country:"Comoros",continent:"Africa",lifeExp:65.152,pop:710960,gdpPercap:986.1478792},{country:"Congo, Dem. Rep.",continent:"Africa",lifeExp:46.462,pop:64606759,gdpPercap:277.5518587},{country:"Congo, Rep.",continent:"Africa",lifeExp:55.322,pop:3800610,gdpPercap:3632.557798},{country:"Costa Rica",continent:"Americas",lifeExp:78.782,pop:4133884,gdpPercap:9645.06142},{country:"Cote d'Ivoire",continent:"Africa",lifeExp:48.328,pop:18013409,gdpPercap:1544.750112},{country:"Croatia",continent:"Europe",lifeExp:75.748,pop:4493312,gdpPercap:14619.22272},{country:"Cuba",continent:"Americas",lifeExp:78.273,pop:11416987,gdpPercap:8948.102923},{country:"Czech Republic",continent:"Europe",lifeExp:76.486,pop:10228744,gdpPercap:22833.30851},{country:"Denmark",continent:"Europe",lifeExp:78.332,pop:5468120,gdpPercap:35278.41874},{country:"Djibouti",continent:"Africa",lifeExp:54.791,pop:496374,gdpPercap:2082.481567},{country:"Dominican Republic",continent:"Americas",lifeExp:72.235,pop:9319622,gdpPercap:6025.374752},{country:"Ecuador",continent:"Americas",lifeExp:74.994,pop:13755680,gdpPercap:6873.262326},{country:"Egypt",continent:"Africa",lifeExp:71.338,pop:80264543,gdpPercap:5581.180998},{country:"El Salvador",continent:"Americas",lifeExp:71.878,pop:6939688,gdpPercap:5728.353514},{country:"Equatorial Guinea",continent:"Africa",lifeExp:51.579,pop:551201,gdpPercap:12154.08975},{country:"Eritrea",continent:"Africa",lifeExp:58.04,pop:4906585,gdpPercap:641.3695236},{country:"Ethiopia",continent:"Africa",lifeExp:52.947,pop:76511887,gdpPercap:690.8055759},{country:"Finland",continent:"Europe",lifeExp:79.313,pop:5238460,gdpPercap:33207.0844},{country:"France",continent:"Europe",lifeExp:80.657,pop:61083916,gdpPercap:30470.0167},{country:"Gabon",continent:"Africa",lifeExp:56.735,pop:1454867,gdpPercap:13206.48452},{country:"Gambia",continent:"Africa",lifeExp:59.448,pop:1688359,gdpPercap:752.7497265},{country:"Germany",continent:"Europe",lifeExp:79.406,pop:82400996,gdpPercap:32170.37442},{country:"Ghana",continent:"Africa",lifeExp:60.022,pop:22873338,gdpPercap:1327.60891},{country:"Greece",continent:"Europe",lifeExp:79.483,pop:10706290,gdpPercap:27538.41188},{country:"Guatemala",continent:"Americas",lifeExp:70.259,pop:12572928,gdpPercap:5186.050003},{country:"Guinea",continent:"Africa",lifeExp:56.007,pop:9947814,gdpPercap:942.6542111},{country:"Guinea-Bissau",continent:"Africa",lifeExp:46.388,pop:1472041,gdpPercap:579.231743},{country:"Haiti",continent:"Americas",lifeExp:60.916,pop:8502814,gdpPercap:1201.637154},{country:"Honduras",continent:"Americas",lifeExp:70.198,pop:7483763,gdpPercap:3548.330846},{country:"Hong Kong, China",continent:"Asia",lifeExp:82.208,pop:6980412,gdpPercap:39724.97867},{country:"Hungary",continent:"Europe",lifeExp:73.338,pop:9956108,gdpPercap:18008.94444},{country:"Iceland",continent:"Europe",lifeExp:81.757,pop:301931,gdpPercap:36180.78919},{country:"India",continent:"Asia",lifeExp:64.698,pop:1110396331,gdpPercap:2452.210407},{country:"Indonesia",continent:"Asia",lifeExp:70.65,pop:223547e3,gdpPercap:3540.651564},{country:"Iran",continent:"Asia",lifeExp:70.964,pop:69453570,gdpPercap:11605.71449},{country:"Iraq",continent:"Asia",lifeExp:59.545,pop:27499638,gdpPercap:4471.061906},{country:"Ireland",continent:"Europe",lifeExp:78.885,pop:4109086,gdpPercap:40675.99635},{country:"Israel",continent:"Asia",lifeExp:80.745,pop:6426679,gdpPercap:25523.2771},{country:"Italy",continent:"Europe",lifeExp:80.546,pop:58147733,gdpPercap:28569.7197},{country:"Jamaica",continent:"Americas",lifeExp:72.567,pop:2780132,gdpPercap:7320.880262},{country:"Japan",continent:"Asia",lifeExp:82.603,pop:127467972,gdpPercap:31656.06806},{country:"Jordan",continent:"Asia",lifeExp:72.535,pop:6053193,gdpPercap:4519.461171},{country:"Kenya",continent:"Africa",lifeExp:54.11,pop:35610177,gdpPercap:1463.249282},{country:"Korea, Dem. Rep.",continent:"Asia",lifeExp:67.297,pop:23301725,gdpPercap:1593.06548},{country:"Korea, Rep.",continent:"Asia",lifeExp:78.623,pop:49044790,gdpPercap:23348.13973},{country:"Kuwait",continent:"Asia",lifeExp:77.588,pop:2505559,gdpPercap:47306.98978},{country:"Lebanon",continent:"Asia",lifeExp:71.993,pop:3921278,gdpPercap:10461.05868},{country:"Lesotho",continent:"Africa",lifeExp:42.592,pop:2012649,gdpPercap:1569.331442},{country:"Liberia",continent:"Africa",lifeExp:45.678,pop:3193942,gdpPercap:414.5073415},{country:"Libya",continent:"Africa",lifeExp:73.952,pop:6036914,gdpPercap:12057.49928},{country:"Madagascar",continent:"Africa",lifeExp:59.443,pop:19167654,gdpPercap:1044.770126},{country:"Malawi",continent:"Africa",lifeExp:48.303,pop:13327079,gdpPercap:759.3499101},{country:"Malaysia",continent:"Asia",lifeExp:74.241,pop:24821286,gdpPercap:12451.6558},{country:"Mali",continent:"Africa",lifeExp:54.467,pop:12031795,gdpPercap:1042.581557},{country:"Mauritania",continent:"Africa",lifeExp:64.164,pop:3270065,gdpPercap:1803.151496},{country:"Mauritius",continent:"Africa",lifeExp:72.801,pop:1250882,gdpPercap:10956.99112},{country:"Mexico",continent:"Americas",lifeExp:76.195,pop:108700891,gdpPercap:11977.57496},{country:"Mongolia",continent:"Asia",lifeExp:66.803,pop:2874127,gdpPercap:3095.772271},{country:"Montenegro",continent:"Europe",lifeExp:74.543,pop:684736,gdpPercap:9253.896111},{country:"Morocco",continent:"Africa",lifeExp:71.164,pop:33757175,gdpPercap:3820.17523},{country:"Mozambique",continent:"Africa",lifeExp:42.082,pop:19951656,gdpPercap:823.6856205},{country:"Myanmar",continent:"Asia",lifeExp:62.069,pop:47761980,gdpPercap:944},{country:"Namibia",continent:"Africa",lifeExp:52.906,pop:2055080,gdpPercap:4811.060429},{country:"Nepal",continent:"Asia",lifeExp:63.785,pop:28901790,gdpPercap:1091.359778},{country:"Netherlands",continent:"Europe",lifeExp:79.762,pop:16570613,gdpPercap:36797.93332},{country:"New Zealand",continent:"Oceania",lifeExp:80.204,pop:4115771,gdpPercap:25185.00911},{country:"Nicaragua",continent:"Americas",lifeExp:72.899,pop:5675356,gdpPercap:2749.320965},{country:"Niger",continent:"Africa",lifeExp:56.867,pop:12894865,gdpPercap:619.6768924},{country:"Nigeria",continent:"Africa",lifeExp:46.859,pop:135031164,gdpPercap:2013.977305},{country:"Norway",continent:"Europe",lifeExp:80.196,pop:4627926,gdpPercap:49357.19017},{country:"Oman",continent:"Asia",lifeExp:75.64,pop:3204897,gdpPercap:22316.19287},{country:"Pakistan",continent:"Asia",lifeExp:65.483,pop:169270617,gdpPercap:2605.94758},{country:"Panama",continent:"Americas",lifeExp:75.537,pop:3242173,gdpPercap:9809.185636},{country:"Paraguay",continent:"Americas",lifeExp:71.752,pop:6667147,gdpPercap:4172.838464},{country:"Peru",continent:"Americas",lifeExp:71.421,pop:28674757,gdpPercap:7408.905561},{country:"Philippines",continent:"Asia",lifeExp:71.688,pop:91077287,gdpPercap:3190.481016},{country:"Poland",continent:"Europe",lifeExp:75.563,pop:38518241,gdpPercap:15389.92468},{country:"Portugal",continent:"Europe",lifeExp:78.098,pop:10642836,gdpPercap:20509.64777},{country:"Puerto Rico",continent:"Americas",lifeExp:78.746,pop:3942491,gdpPercap:19328.70901},{country:"Reunion",continent:"Africa",lifeExp:76.442,pop:798094,gdpPercap:7670.122558},{country:"Romania",continent:"Europe",lifeExp:72.476,pop:22276056,gdpPercap:10808.47561},{country:"Rwanda",continent:"Africa",lifeExp:46.242,pop:8860588,gdpPercap:863.0884639},{country:"Sao Tome and Principe",continent:"Africa",lifeExp:65.528,pop:199579,gdpPercap:1598.435089},{country:"Saudi Arabia",continent:"Asia",lifeExp:72.777,pop:27601038,gdpPercap:21654.83194},{country:"Senegal",continent:"Africa",lifeExp:63.062,pop:12267493,gdpPercap:1712.472136},{country:"Serbia",continent:"Europe",lifeExp:74.002,pop:10150265,gdpPercap:9786.534714},{country:"Sierra Leone",continent:"Africa",lifeExp:42.568,pop:6144562,gdpPercap:862.5407561},{country:"Singapore",continent:"Asia",lifeExp:79.972,pop:4553009,gdpPercap:47143.17964},{country:"Slovak Republic",continent:"Europe",lifeExp:74.663,pop:5447502,gdpPercap:18678.31435},{country:"Slovenia",continent:"Europe",lifeExp:77.926,pop:2009245,gdpPercap:25768.25759},{country:"Somalia",continent:"Africa",lifeExp:48.159,pop:9118773,gdpPercap:926.1410683},{country:"South Africa",continent:"Africa",lifeExp:49.339,pop:43997828,gdpPercap:9269.657808},{country:"Spain",continent:"Europe",lifeExp:80.941,pop:40448191,gdpPercap:28821.0637},{country:"Sri Lanka",continent:"Asia",lifeExp:72.396,pop:20378239,gdpPercap:3970.095407},{country:"Sudan",continent:"Africa",lifeExp:58.556,pop:42292929,gdpPercap:2602.394995},{country:"Swaziland",continent:"Africa",lifeExp:39.613,pop:1133066,gdpPercap:4513.480643},{country:"Sweden",continent:"Europe",lifeExp:80.884,pop:9031088,gdpPercap:33859.74835},{country:"Switzerland",continent:"Europe",lifeExp:81.701,pop:7554661,gdpPercap:37506.41907},{country:"Syria",continent:"Asia",lifeExp:74.143,pop:19314747,gdpPercap:4184.548089},{country:"Taiwan",continent:"Asia",lifeExp:78.4,pop:23174294,gdpPercap:28718.27684},{country:"Tanzania",continent:"Africa",lifeExp:52.517,pop:38139640,gdpPercap:1107.482182},{country:"Thailand",continent:"Asia",lifeExp:70.616,pop:65068149,gdpPercap:7458.396327},{country:"Togo",continent:"Africa",lifeExp:58.42,pop:5701579,gdpPercap:882.9699438},{country:"Trinidad and Tobago",continent:"Americas",lifeExp:69.819,pop:1056608,gdpPercap:18008.50924},{country:"Tunisia",continent:"Africa",lifeExp:73.923,pop:10276158,gdpPercap:7092.923025},{country:"Turkey",continent:"Europe",lifeExp:71.777,pop:71158647,gdpPercap:8458.276384},{country:"Uganda",continent:"Africa",lifeExp:51.542,pop:29170398,gdpPercap:1056.380121},{country:"United Kingdom",continent:"Europe",lifeExp:79.425,pop:60776238,gdpPercap:33203.26128},{country:"United ys",continent:"Americas",lifeExp:78.242,pop:301139947,gdpPercap:42951.65309},{country:"Uruguay",continent:"Americas",lifeExp:76.384,pop:3447496,gdpPercap:10611.46299},{country:"Venezuela",continent:"Americas",lifeExp:73.747,pop:26084662,gdpPercap:11415.80569},{country:"Vietnam",continent:"Asia",lifeExp:74.249,pop:85262356,gdpPercap:2441.576404},{country:"West Bank and Gaza",continent:"Asia",lifeExp:73.422,pop:4018332,gdpPercap:3025.349798},{country:"Yemen, Rep.",continent:"Asia",lifeExp:62.698,pop:22211743,gdpPercap:2280.769906},{country:"Zambia",continent:"Africa",lifeExp:42.384,pop:11746035,gdpPercap:1271.211593},{country:"Zimbabwe",continent:"Africa",lifeExp:43.487,pop:12311143,gdpPercap:469.7092981}],A=function(n){var e=n.scale,p=n.tickNumber,o=e.ticks(p),i=o[o.length-1],r=2*e(i),c=o.map((function(n,p){var o=r/2,i=r-2*e(n),c=r-e(n);return(0,t.jsxs)("g",{children:[(0,t.jsx)("circle",{cx:o,cy:c,r:e(n),fill:"none",stroke:"black"}),(0,t.jsx)("line",{x1:o,x2:o+50,y1:i,y2:i,stroke:"black",strokeDasharray:"2,2"}),(0,t.jsx)("text",{x:o+50+4,y:i,fontSize:10,alignmentBaseline:"middle",children:n})]},p)}));return(0,t.jsx)("svg",{width:"200",height:"100",overflow:"visible",children:c})};function m(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var p=[],t=!0,o=!1,i=void 0;try{for(var r,c=n[Symbol.iterator]();!(t=(r=c.next()).done)&&(p.push(r.value),!e||p.length!==e);t=!0);}catch(a){o=!0,i=a}finally{try{t||null==c.return||c.return()}finally{if(o)throw i}}return p}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b={top:30,right:30,bottom:80,left:100},v=function(n){var e=n.width,p=n.height,i=n.data,r=(0,o.useRef)(null),c=e-b.right-b.left,a=p-b.top-b.bottom,l=(0,o.useMemo)((function(){var n=m(g.Wem(i.map((function(n){return n.lifeExp}))),2),e=n[0],p=n[1];return g.BYU().domain([e,p]).range([a,0]).nice()}),[i,p]),u=(0,o.useMemo)((function(){var n=m(g.Wem(i.map((function(n){return n.gdpPercap}))),2),e=(n[0],n[1]);return g.BYU().domain([0,e]).range([0,c]).nice()}),[i,e]),d=i.map((function(n){return n.continent})).filter((function(n,e,p){return p.indexOf(n)==e})),f=g.PKp().domain(d).range(["#e0ac2b","#e85252","#6689c6","#9a6fb0","#a53253"]),s=(0,o.useMemo)((function(){var n=m(g.Wem(i.map((function(n){return n.pop}))),2),e=(n[0],n[1]);return g.PUr().domain([0,e]).range([4,40])}),[i,e]);(0,o.useEffect)((function(){var n=g.Ys(r.current);n.selectAll("*").remove();var e=g.LLu(u);n.append("g").attr("transform","translate(0,"+(a+20)+")").call(e),n.append("text").attr("font-size",12).attr("text-anchor","end").attr("x",c).attr("y",a+60).text("Gdp per Capita");var p=g.y4O(l);n.append("g").attr("transform","translate(-20,0)").call(p),n.append("text").attr("font-size",12).attr("text-anchor","end").attr("x",0).attr("y",-60).text("Life expectancy").attr("transform","rotate(-90)")}),[u,l,a,c]);var x=i.sort((function(n,e){return e.pop-n.pop})).map((function(n,e){return(0,t.jsx)("circle",{r:s(n.pop),cx:u(n.gdpPercap),cy:l(n.lifeExp),opacity:1,stroke:f(n.continent),fill:f(n.continent),fillOpacity:.4,strokeWidth:1},e)}));return(0,t.jsxs)("div",{style:{position:"relative",width:e,height:p},children:[(0,t.jsxs)("svg",{width:e,height:p,children:[(0,t.jsx)("g",{width:c,height:a,transform:"translate(".concat([b.left,b.top].join(","),")"),children:x}),(0,t.jsx)("g",{width:c,height:a,ref:r,transform:"translate(".concat([b.left,b.top].join(","),")")})]}),(0,t.jsx)("div",{style:{position:"absolute",right:0,bottom:100},children:(0,t.jsx)(A,{scale:s,tickNumber:4})})]})},j=function(n){var e=n.width,p=void 0===e?700:e,o=n.height,i=void 0===o?400:o;return(0,t.jsx)(v,{data:h,width:p,height:i})},w=[{country:"Afghanistan",continent:"Asia",lifeExp:43.828,pop:31889923,gdpPercap:974.5803384},{country:"Albania",continent:"Europe",lifeExp:76.423,pop:3600523,gdpPercap:5937.029526},{country:"Algeria",continent:"Africa",lifeExp:72.301,pop:33333216,gdpPercap:6223.367465},{country:"Angola",continent:"Africa",lifeExp:42.731,pop:12420476,gdpPercap:4797.231267},{country:"Argentina",continent:"Americas",lifeExp:75.32,pop:40301927,gdpPercap:12779.37964},{country:"Australia",continent:"Oceania",lifeExp:81.235,pop:20434176,gdpPercap:34435.36744},{country:"Austria",continent:"Europe",lifeExp:79.829,pop:8199783,gdpPercap:36126.4927},{country:"Bahrain",continent:"Asia",lifeExp:75.635,pop:708573,gdpPercap:29796.04834},{country:"Bangladesh",continent:"Asia",lifeExp:64.062,pop:150448339,gdpPercap:1391.253792},{country:"Belgium",continent:"Europe",lifeExp:79.441,pop:10392226,gdpPercap:33692.60508},{country:"Benin",continent:"Africa",lifeExp:56.728,pop:8078314,gdpPercap:1441.284873},{country:"Bolivia",continent:"Americas",lifeExp:65.554,pop:9119152,gdpPercap:3822.137084},{country:"Bosnia and Herzegovina",continent:"Europe",lifeExp:74.852,pop:4552198,gdpPercap:7446.298803},{country:"Botswana",continent:"Africa",lifeExp:50.728,pop:1639131,gdpPercap:12569.85177},{country:"Brazil",continent:"Americas",lifeExp:72.39,pop:190010647,gdpPercap:9065.800825},{country:"Bulgaria",continent:"Europe",lifeExp:73.005,pop:7322858,gdpPercap:10680.79282},{country:"Burkina Faso",continent:"Africa",lifeExp:52.295,pop:14326203,gdpPercap:1217.032994},{country:"Burundi",continent:"Africa",lifeExp:49.58,pop:8390505,gdpPercap:430.0706916},{country:"Cambodia",continent:"Asia",lifeExp:59.723,pop:14131858,gdpPercap:1713.778686},{country:"Cameroon",continent:"Africa",lifeExp:50.43,pop:17696293,gdpPercap:2042.09524},{country:"Canada",continent:"Americas",lifeExp:80.653,pop:33390141,gdpPercap:36319.23501},{country:"Central African Republic",continent:"Africa",lifeExp:44.741,pop:4369038,gdpPercap:706.016537},{country:"Chad",continent:"Africa",lifeExp:50.651,pop:10238807,gdpPercap:1704.063724},{country:"Chile",continent:"Americas",lifeExp:78.553,pop:16284741,gdpPercap:13171.63885},{country:"China",continent:"Asia",lifeExp:72.961,pop:1318683096,gdpPercap:4959.114854},{country:"Colombia",continent:"Americas",lifeExp:72.889,pop:44227550,gdpPercap:7006.580419},{country:"Comoros",continent:"Africa",lifeExp:65.152,pop:710960,gdpPercap:986.1478792},{country:"Congo, Dem. Rep.",continent:"Africa",lifeExp:46.462,pop:64606759,gdpPercap:277.5518587},{country:"Congo, Rep.",continent:"Africa",lifeExp:55.322,pop:3800610,gdpPercap:3632.557798},{country:"Costa Rica",continent:"Americas",lifeExp:78.782,pop:4133884,gdpPercap:9645.06142},{country:"Cote d'Ivoire",continent:"Africa",lifeExp:48.328,pop:18013409,gdpPercap:1544.750112},{country:"Croatia",continent:"Europe",lifeExp:75.748,pop:4493312,gdpPercap:14619.22272},{country:"Cuba",continent:"Americas",lifeExp:78.273,pop:11416987,gdpPercap:8948.102923},{country:"Czech Republic",continent:"Europe",lifeExp:76.486,pop:10228744,gdpPercap:22833.30851},{country:"Denmark",continent:"Europe",lifeExp:78.332,pop:5468120,gdpPercap:35278.41874},{country:"Djibouti",continent:"Africa",lifeExp:54.791,pop:496374,gdpPercap:2082.481567},{country:"Dominican Republic",continent:"Americas",lifeExp:72.235,pop:9319622,gdpPercap:6025.374752},{country:"Ecuador",continent:"Americas",lifeExp:74.994,pop:13755680,gdpPercap:6873.262326},{country:"Egypt",continent:"Africa",lifeExp:71.338,pop:80264543,gdpPercap:5581.180998},{country:"El Salvador",continent:"Americas",lifeExp:71.878,pop:6939688,gdpPercap:5728.353514},{country:"Equatorial Guinea",continent:"Africa",lifeExp:51.579,pop:551201,gdpPercap:12154.08975},{country:"Eritrea",continent:"Africa",lifeExp:58.04,pop:4906585,gdpPercap:641.3695236},{country:"Ethiopia",continent:"Africa",lifeExp:52.947,pop:76511887,gdpPercap:690.8055759},{country:"Finland",continent:"Europe",lifeExp:79.313,pop:5238460,gdpPercap:33207.0844},{country:"France",continent:"Europe",lifeExp:80.657,pop:61083916,gdpPercap:30470.0167},{country:"Gabon",continent:"Africa",lifeExp:56.735,pop:1454867,gdpPercap:13206.48452},{country:"Gambia",continent:"Africa",lifeExp:59.448,pop:1688359,gdpPercap:752.7497265},{country:"Germany",continent:"Europe",lifeExp:79.406,pop:82400996,gdpPercap:32170.37442},{country:"Ghana",continent:"Africa",lifeExp:60.022,pop:22873338,gdpPercap:1327.60891},{country:"Greece",continent:"Europe",lifeExp:79.483,pop:10706290,gdpPercap:27538.41188},{country:"Guatemala",continent:"Americas",lifeExp:70.259,pop:12572928,gdpPercap:5186.050003},{country:"Guinea",continent:"Africa",lifeExp:56.007,pop:9947814,gdpPercap:942.6542111},{country:"Guinea-Bissau",continent:"Africa",lifeExp:46.388,pop:1472041,gdpPercap:579.231743},{country:"Haiti",continent:"Americas",lifeExp:60.916,pop:8502814,gdpPercap:1201.637154},{country:"Honduras",continent:"Americas",lifeExp:70.198,pop:7483763,gdpPercap:3548.330846},{country:"Hong Kong, China",continent:"Asia",lifeExp:82.208,pop:6980412,gdpPercap:39724.97867},{country:"Hungary",continent:"Europe",lifeExp:73.338,pop:9956108,gdpPercap:18008.94444},{country:"Iceland",continent:"Europe",lifeExp:81.757,pop:301931,gdpPercap:36180.78919},{country:"India",continent:"Asia",lifeExp:64.698,pop:1110396331,gdpPercap:2452.210407},{country:"Indonesia",continent:"Asia",lifeExp:70.65,pop:223547e3,gdpPercap:3540.651564},{country:"Iran",continent:"Asia",lifeExp:70.964,pop:69453570,gdpPercap:11605.71449},{country:"Iraq",continent:"Asia",lifeExp:59.545,pop:27499638,gdpPercap:4471.061906},{country:"Ireland",continent:"Europe",lifeExp:78.885,pop:4109086,gdpPercap:40675.99635},{country:"Israel",continent:"Asia",lifeExp:80.745,pop:6426679,gdpPercap:25523.2771},{country:"Italy",continent:"Europe",lifeExp:80.546,pop:58147733,gdpPercap:28569.7197},{country:"Jamaica",continent:"Americas",lifeExp:72.567,pop:2780132,gdpPercap:7320.880262},{country:"Japan",continent:"Asia",lifeExp:82.603,pop:127467972,gdpPercap:31656.06806},{country:"Jordan",continent:"Asia",lifeExp:72.535,pop:6053193,gdpPercap:4519.461171},{country:"Kenya",continent:"Africa",lifeExp:54.11,pop:35610177,gdpPercap:1463.249282},{country:"Korea, Dem. Rep.",continent:"Asia",lifeExp:67.297,pop:23301725,gdpPercap:1593.06548},{country:"Korea, Rep.",continent:"Asia",lifeExp:78.623,pop:49044790,gdpPercap:23348.13973},{country:"Kuwait",continent:"Asia",lifeExp:77.588,pop:2505559,gdpPercap:47306.98978},{country:"Lebanon",continent:"Asia",lifeExp:71.993,pop:3921278,gdpPercap:10461.05868},{country:"Lesotho",continent:"Africa",lifeExp:42.592,pop:2012649,gdpPercap:1569.331442},{country:"Liberia",continent:"Africa",lifeExp:45.678,pop:3193942,gdpPercap:414.5073415},{country:"Libya",continent:"Africa",lifeExp:73.952,pop:6036914,gdpPercap:12057.49928},{country:"Madagascar",continent:"Africa",lifeExp:59.443,pop:19167654,gdpPercap:1044.770126},{country:"Malawi",continent:"Africa",lifeExp:48.303,pop:13327079,gdpPercap:759.3499101},{country:"Malaysia",continent:"Asia",lifeExp:74.241,pop:24821286,gdpPercap:12451.6558},{country:"Mali",continent:"Africa",lifeExp:54.467,pop:12031795,gdpPercap:1042.581557},{country:"Mauritania",continent:"Africa",lifeExp:64.164,pop:3270065,gdpPercap:1803.151496},{country:"Mauritius",continent:"Africa",lifeExp:72.801,pop:1250882,gdpPercap:10956.99112},{country:"Mexico",continent:"Americas",lifeExp:76.195,pop:108700891,gdpPercap:11977.57496},{country:"Mongolia",continent:"Asia",lifeExp:66.803,pop:2874127,gdpPercap:3095.772271},{country:"Montenegro",continent:"Europe",lifeExp:74.543,pop:684736,gdpPercap:9253.896111},{country:"Morocco",continent:"Africa",lifeExp:71.164,pop:33757175,gdpPercap:3820.17523},{country:"Mozambique",continent:"Africa",lifeExp:42.082,pop:19951656,gdpPercap:823.6856205},{country:"Myanmar",continent:"Asia",lifeExp:62.069,pop:47761980,gdpPercap:944},{country:"Namibia",continent:"Africa",lifeExp:52.906,pop:2055080,gdpPercap:4811.060429},{country:"Nepal",continent:"Asia",lifeExp:63.785,pop:28901790,gdpPercap:1091.359778},{country:"Netherlands",continent:"Europe",lifeExp:79.762,pop:16570613,gdpPercap:36797.93332},{country:"New Zealand",continent:"Oceania",lifeExp:80.204,pop:4115771,gdpPercap:25185.00911},{country:"Nicaragua",continent:"Americas",lifeExp:72.899,pop:5675356,gdpPercap:2749.320965},{country:"Niger",continent:"Africa",lifeExp:56.867,pop:12894865,gdpPercap:619.6768924},{country:"Nigeria",continent:"Africa",lifeExp:46.859,pop:135031164,gdpPercap:2013.977305},{country:"Norway",continent:"Europe",lifeExp:80.196,pop:4627926,gdpPercap:49357.19017},{country:"Oman",continent:"Asia",lifeExp:75.64,pop:3204897,gdpPercap:22316.19287},{country:"Pakistan",continent:"Asia",lifeExp:65.483,pop:169270617,gdpPercap:2605.94758},{country:"Panama",continent:"Americas",lifeExp:75.537,pop:3242173,gdpPercap:9809.185636},{country:"Paraguay",continent:"Americas",lifeExp:71.752,pop:6667147,gdpPercap:4172.838464},{country:"Peru",continent:"Americas",lifeExp:71.421,pop:28674757,gdpPercap:7408.905561},{country:"Philippines",continent:"Asia",lifeExp:71.688,pop:91077287,gdpPercap:3190.481016},{country:"Poland",continent:"Europe",lifeExp:75.563,pop:38518241,gdpPercap:15389.92468},{country:"Portugal",continent:"Europe",lifeExp:78.098,pop:10642836,gdpPercap:20509.64777},{country:"Puerto Rico",continent:"Americas",lifeExp:78.746,pop:3942491,gdpPercap:19328.70901},{country:"Reunion",continent:"Africa",lifeExp:76.442,pop:798094,gdpPercap:7670.122558},{country:"Romania",continent:"Europe",lifeExp:72.476,pop:22276056,gdpPercap:10808.47561},{country:"Rwanda",continent:"Africa",lifeExp:46.242,pop:8860588,gdpPercap:863.0884639},{country:"Sao Tome and Principe",continent:"Africa",lifeExp:65.528,pop:199579,gdpPercap:1598.435089},{country:"Saudi Arabia",continent:"Asia",lifeExp:72.777,pop:27601038,gdpPercap:21654.83194},{country:"Senegal",continent:"Africa",lifeExp:63.062,pop:12267493,gdpPercap:1712.472136},{country:"Serbia",continent:"Europe",lifeExp:74.002,pop:10150265,gdpPercap:9786.534714},{country:"Sierra Leone",continent:"Africa",lifeExp:42.568,pop:6144562,gdpPercap:862.5407561},{country:"Singapore",continent:"Asia",lifeExp:79.972,pop:4553009,gdpPercap:47143.17964},{country:"Slovak Republic",continent:"Europe",lifeExp:74.663,pop:5447502,gdpPercap:18678.31435},{country:"Slovenia",continent:"Europe",lifeExp:77.926,pop:2009245,gdpPercap:25768.25759},{country:"Somalia",continent:"Africa",lifeExp:48.159,pop:9118773,gdpPercap:926.1410683},{country:"South Africa",continent:"Africa",lifeExp:49.339,pop:43997828,gdpPercap:9269.657808},{country:"Spain",continent:"Europe",lifeExp:80.941,pop:40448191,gdpPercap:28821.0637},{country:"Sri Lanka",continent:"Asia",lifeExp:72.396,pop:20378239,gdpPercap:3970.095407},{country:"Sudan",continent:"Africa",lifeExp:58.556,pop:42292929,gdpPercap:2602.394995},{country:"Swaziland",continent:"Africa",lifeExp:39.613,pop:1133066,gdpPercap:4513.480643},{country:"Sweden",continent:"Europe",lifeExp:80.884,pop:9031088,gdpPercap:33859.74835},{country:"Switzerland",continent:"Europe",lifeExp:81.701,pop:7554661,gdpPercap:37506.41907},{country:"Syria",continent:"Asia",lifeExp:74.143,pop:19314747,gdpPercap:4184.548089},{country:"Taiwan",continent:"Asia",lifeExp:78.4,pop:23174294,gdpPercap:28718.27684},{country:"Tanzania",continent:"Africa",lifeExp:52.517,pop:38139640,gdpPercap:1107.482182},{country:"Thailand",continent:"Asia",lifeExp:70.616,pop:65068149,gdpPercap:7458.396327},{country:"Togo",continent:"Africa",lifeExp:58.42,pop:5701579,gdpPercap:882.9699438},{country:"Trinidad and Tobago",continent:"Americas",lifeExp:69.819,pop:1056608,gdpPercap:18008.50924},{country:"Tunisia",continent:"Africa",lifeExp:73.923,pop:10276158,gdpPercap:7092.923025},{country:"Turkey",continent:"Europe",lifeExp:71.777,pop:71158647,gdpPercap:8458.276384},{country:"Uganda",continent:"Africa",lifeExp:51.542,pop:29170398,gdpPercap:1056.380121},{country:"United Kingdom",continent:"Europe",lifeExp:79.425,pop:60776238,gdpPercap:33203.26128},{country:"United ys",continent:"Americas",lifeExp:78.242,pop:301139947,gdpPercap:42951.65309},{country:"Uruguay",continent:"Americas",lifeExp:76.384,pop:3447496,gdpPercap:10611.46299},{country:"Venezuela",continent:"Americas",lifeExp:73.747,pop:26084662,gdpPercap:11415.80569},{country:"Vietnam",continent:"Asia",lifeExp:74.249,pop:85262356,gdpPercap:2441.576404},{country:"West Bank and Gaza",continent:"Asia",lifeExp:73.422,pop:4018332,gdpPercap:3025.349798},{country:"Yemen, Rep.",continent:"Asia",lifeExp:62.698,pop:22211743,gdpPercap:2280.769906},{country:"Zambia",continent:"Africa",lifeExp:42.384,pop:11746035,gdpPercap:1271.211593},{country:"Zimbabwe",continent:"Africa",lifeExp:43.487,pop:12311143,gdpPercap:469.7092981}],C=function(n){var e=n.scale,p=n.tickNumber,o=e.ticks(p),i=o[o.length-1],r=2*e(i),c=o.map((function(n,p){var o=r/2,i=r-2*e(n),c=r-e(n);return(0,t.jsxs)("g",{children:[(0,t.jsx)("circle",{cx:o,cy:c,r:e(n),fill:"none",stroke:"black"}),(0,t.jsx)("line",{x1:o,x2:o+50,y1:i,y2:i,stroke:"black",strokeDasharray:"2,2"}),(0,t.jsx)("text",{x:o+50+4,y:i,fontSize:10,alignmentBaseline:"middle",children:n})]},p)}));return(0,t.jsx)("svg",{width:"200",height:"100",overflow:"visible",children:c})},S=function(n){var e=n.hoveredItem,p=n.width,o=n.height;return e?(0,t.jsx)("div",{style:{width:p,height:o,position:"absolute",top:0,left:0,pointerEvents:"none"},children:(0,t.jsxs)("div",{style:{position:"absolute",left:hoveredCell.xPos,top:hoveredCell.yPos,backgroundColor:"rgba(0, 0, 0, 0.8)",border:"black",borderRadius:"4px",color:"white",fontSize:16,padding:4,marginLeft:4,transform:"translateY(-50%)"},children:[(0,t.jsx)(z,{label:"x",value:hoveredCell.xLabel}),(0,t.jsx)(z,{label:"y",value:hoveredCell.yLabel}),(0,t.jsx)(z,{label:"value",value:String(hoveredCell.value)})]})}):null},z=function(n){var e=n.label,p=n.value;return(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:e}),(0,t.jsx)("span",{children:": "}),(0,t.jsx)("span",{children:p})]})};function k(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var p=[],t=!0,o=!1,i=void 0;try{for(var r,c=n[Symbol.iterator]();!(t=(r=c.next()).done)&&(p.push(r.value),!e||p.length!==e);t=!0);}catch(a){o=!0,i=a}finally{try{t||null==c.return||c.return()}finally{if(o)throw i}}return p}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var N={top:30,right:30,bottom:80,left:100},B=function(n){var e=n.width,p=n.height,i=n.data,r=(0,o.useRef)(null),c=e-N.right-N.left,a=p-N.top-N.bottom,l=(0,o.useState)(null),u=l[0],d=l[1],f=(0,o.useMemo)((function(){var n=k(g.Wem(i.map((function(n){return n.lifeExp}))),2),e=n[0],p=n[1];return g.BYU().domain([e,p]).range([a,0]).nice()}),[i,p]),s=(0,o.useMemo)((function(){var n=k(g.Wem(i.map((function(n){return n.gdpPercap}))),2),e=(n[0],n[1]);return g.BYU().domain([0,e]).range([0,c]).nice()}),[i,e]),x=i.map((function(n){return n.continent})).filter((function(n,e,p){return p.indexOf(n)==e})),y=g.PKp().domain(x).range(["#e0ac2b","#e85252","#6689c6","#9a6fb0","#a53253"]),E=(0,o.useMemo)((function(){var n=k(g.Wem(i.map((function(n){return n.pop}))),2),e=(n[0],n[1]);return g.PUr().domain([0,e]).range([4,40])}),[i,e]);(0,o.useEffect)((function(){var n=g.Ys(r.current);n.selectAll("*").remove();var e=g.LLu(s);n.append("g").attr("transform","translate(0,"+(a+20)+")").call(e),n.append("text").attr("font-size",12).attr("text-anchor","end").attr("x",c).attr("y",a+60).text("Gdp per Capita");var p=g.y4O(f);n.append("g").attr("transform","translate(-20,0)").call(p),n.append("text").attr("font-size",12).attr("text-anchor","end").attr("x",0).attr("y",-60).text("Life expectancy").attr("transform","rotate(-90)")}),[s,f,a,c]);var P=i.sort((function(n,e){return e.pop-n.pop})).map((function(n,e){return(0,t.jsx)("circle",{r:E(n.pop),cx:s(n.gdpPercap),cy:f(n.lifeExp),opacity:1,stroke:y(n.continent),fill:y(n.continent),fillOpacity:.4,strokeWidth:1,onMouseEnter:function(){return d(n.country)},onMouseLeave:function(){return d(null)}},e)}));return(0,t.jsxs)("div",{style:{position:"relative",width:e,height:p},children:[(0,t.jsxs)("svg",{width:e,height:p,children:[(0,t.jsx)("g",{width:c,height:a,transform:"translate(".concat([N.left,N.top].join(","),")"),children:P}),(0,t.jsx)("g",{width:c,height:a,ref:r,transform:"translate(".concat([N.left,N.top].join(","),")")})]}),(0,t.jsx)("div",{style:{position:"absolute",right:0,bottom:100},children:(0,t.jsx)(C,{scale:E,tickNumber:4})}),(0,t.jsx)(S,{hoveredItem:u,width:e,height:p})]})},R=function(n){var e=n.width,p=void 0===e?700:e,o=n.height,i=void 0===o?400:o;return(0,t.jsx)(B,{data:w,width:p,height:i})},M=(0,t.jsxs)("p",{children:["A ",(0,t.jsx)("a",{href:"https://www.data-to-viz.com/graph/bubble.html",children:"bubble plot"})," is an extension of a scatterplot, where each circle has its size proportional to a numeric values. This page describes how to build a bubble chart with",(0,t.jsx)("code",{children:"d3.js"})," in the context of a ",(0,t.jsx)("code",{children:"react"})," application."]}),T='\nconst data = [\n  {\n    "country": "Afghanistan",\n    "continent": "Asia",\n    "lifeExp": 43.828,\n    "pop": 31889923,\n    "gdpPercap": 974.5803384\n  },\n  {\n    "country": "Albania",\n    "continent": "Europe",\n    "lifeExp": 76.423,\n    "pop": 3600523,\n    "gdpPercap": 5937.029526\n  },\n  ...\n]\n'.trim();function G(){return(0,t.jsxs)(i.A,{title:"Bubble plot with React",seoDescription:"How to build a bubble plot with React and D3.js. A set of re-usable components",children:[(0,t.jsx)(r.Z,{title:"Bubble plot",description:M,chartType:"bubble"}),(0,t.jsxs)(l.U,{title:"The data",startOpen:!0,toc:"data",children:[(0,t.jsxs)("p",{children:["The dataset used to build a bubble plot is usually an array of object where each object is a data point. For each object, at least"," ",(0,t.jsx)("b",{children:"3 properties"})," are required."]}),(0,t.jsxs)("p",{children:["Two properties are used for the ",(0,t.jsx)("b",{children:"X"})," and ",(0,t.jsx)("b",{children:"Y"})," axis, the third one is used for the circle ",(0,t.jsx)("b",{children:"size"}),"."]}),(0,t.jsxs)("p",{children:["Note that you can add even more properties to the object, that can be used to color the bubbles like the ",(0,t.jsx)("code",{children:"continent"})," on the example below."]}),(0,t.jsx)(u.d,{code:T}),(0,t.jsxs)("p",{children:[(0,t.jsx)("u",{children:"Note"}),": this section is based on the"," ",(0,t.jsx)("a",{href:"https://www.data-to-viz.com/story/ThreeNum.html",children:"gapminder"})," ","dataset that provides some info like the life expectancy and the population for every country."]})]}),(0,t.jsx)("div",{className:"mt-20",children:(0,t.jsxs)("blockquote",{children:[(0,t.jsx)("b",{children:"Note"}),": This page considers you're already familiar with the process to build a ",(0,t.jsx)(f.default,{href:"scatter-plot",children:"scatterplot"}),". Start there for some basic examples!"]})}),(0,t.jsxs)(l.U,{title:"Static bubble chart",startOpen:!0,toc:"Static",children:[(0,t.jsxs)("p",{children:["A few additional steps are required to move from a"," ",(0,t.jsx)(f.default,{href:"scatter-plot",children:"scatterplot"})," to a bubble chart."]}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["One more ",(0,t.jsx)("code",{children:"linearScale"})," is needed to control the circle size. The ",(0,t.jsx)("code",{children:"range"})," is an arbitrary array where you define the min and max sizes you want to display. Don't forget you can use a log scale if you have extreme values in the dataset."]}),(0,t.jsxs)("li",{children:["Optionally, a fourth scale can be added for the color using a"," ",(0,t.jsx)("code",{children:"scaleOrdinal"}),"."]}),(0,t.jsx)("li",{children:"A bubble chart often have circle overlaps. It's strongly advised to use transparency and to sort the data: draw the big bubbles below, the small ones on top."})]}),(0,t.jsx)(d.$,{VizComponent:P,vizName:"BubblePlotBasic",maxWidth:600,height:500,caption:"A clean bubble chart built with d3.js in a react context. A color scale is used to represent a categorical variable."}),(0,t.jsxs)("p",{children:["This is starting to look not too bad, but we definitely need a"," ",(0,t.jsx)("b",{children:"legend"})," here, to understand what the size and color of each circle mean."]})]}),(0,t.jsxs)(l.U,{title:"Bubble chart with legend",startOpen:!0,toc:"Legend",children:[(0,t.jsxs)("p",{children:["There are"," ",(0,t.jsx)("a",{href:"https://d3-graph-gallery.com/graph/custom_legend.html",children:"many different ways"})," ","to add a legend to a d3.js graph."]}),(0,t.jsxs)("p",{children:["Here we need a legend that will properly describe both a numeric value (for the bubble ",(0,t.jsx)("b",{children:"size"}),") and an ordinal value (for the"," ",(0,t.jsx)("b",{children:"color"}),")."]}),(0,t.jsx)(d.$,{VizComponent:j,vizName:"BubblePlotLegend",maxWidth:600,height:500,caption:"Adding a legend to make sense of the bubble size. Legend is hand made, adding svg shapes with React."}),(0,t.jsx)("p",{children:"Not too bad but note to self: this needs some polish and a complete write-up."})]}),(0,t.jsxs)(l.U,{title:"Bubble chart with tooltip",startOpen:!0,toc:"Tooltip",children:[(0,t.jsx)("p",{children:"Complete writeup"}),(0,t.jsx)(d.$,{VizComponent:R,vizName:"BubblePlotTooltip",maxWidth:600,height:500,caption:"A clean bubble chart built with d3.js in a react context. A color scale is used to represent a categorical variable."}),(0,t.jsx)("p",{children:"Not too bad but note to self: this needs some polish and a complete write-up."})]}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("div",{className:"full-bleed border-t h-0 bg-gray-100 my-3"}),(0,t.jsx)(c.Z,{chartFamily:"correlation"}),(0,t.jsx)("div",{className:"mt-20"}),(0,t.jsx)(a.Z,{})]})}}},function(n){n.O(0,[3888,5660,4509,5884,9774,2888,179],(function(){return e=3035,n(n.s=e);var e}));var e=n.O();_N_E=e}]);