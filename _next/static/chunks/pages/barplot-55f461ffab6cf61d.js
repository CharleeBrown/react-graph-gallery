(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[370],{4142:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/barplot",function(){return n(3946)}])},33:function(e,t,n){"use strict";n.d(t,{$:function(){return c}});var i=n(5893),r=n(7294),a=n(217),s=n(4893),o=n(5380),l=n(7975),c=function(e){var t=e.VizComponent,n=e.vizName,c=e.height,d=void 0===c?400:c,h=e.maxWidth,u=void 0===h?800:h,m=e.caption,f=(0,r.useState)(!1),x=f[0],p=f[1],v=(0,r.useRef)(null),b=(0,a.B)(v);return(0,i.jsx)("div",{style:{marginLeft:"-50vw",left:"50%"},className:"my-4 py-4 w-screen relative",children:x?(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center w-full",children:[(0,i.jsx)("div",{style:{maxWidth:2e3},className:"w-full",children:(0,i.jsx)(l.X,{vizName:n})}),(0,i.jsx)("div",{className:"flex justify-center mt-2",children:(0,i.jsx)(s.z,{size:"sm",onClick:function(){return p(!x)},children:"Hide Sandbox"})})]}):(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,i.jsx)("div",{className:"bg-gray-50 w-screen flex justify-center",children:(0,i.jsx)("div",{style:{height:d,width:"100%",maxWidth:u},ref:v,children:(0,i.jsx)(t,{height:d,width:b.width})})}),(0,i.jsx)(o.Y,{children:m}),(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(s.z,{size:"sm",onClick:function(){return p(!x)},children:"Show code"})})]})})}},7975:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var i=n(5893),r=(n(7294),function(e){var t="https://codesandbox.io/embed/github/holtzy/react-graph-gallery/tree/main/viz/"+e.vizName+"?fontsize=14&hidenavigation=1&theme=dark&expanddevtools=0";return(0,i.jsx)("iframe",{src:t,style:{width:"100%",height:"500px",border:"solid",borderWidth:2,borderRadius:"4px",overflow:"hidden"},allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})})},3440:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(5893),r=(n(7294),n(1878)),a=n(1687),s=function(e){var t=e.imgLink,n=e.height,r=e.opacity,a=e.children;return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{style:{backgroundImage:"url("+t+")",height:n,backgroundAttachment:"fixed",opacity:r,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),(0,i.jsx)("div",{className:"absolute top-0 left-0 w-full h-full",children:a})]})};function o(e){var t,n=e.chartId,o=(null===(t=r.c.find((function(e){return e.id===n})))||void 0===t?void 0:t.label)||"chart";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{id:"inspiration",children:"More inspiration"}),(0,i.jsxs)("p",{children:["If you're looking for inspiration to create your next"," ",(0,i.jsx)("span",{children:o}),", note that"," ",(0,i.jsx)("a",{href:"https://www.dataviz-inspiration.com",children:"dataviz-inspiration.com"})," ","showcases many examples. Definitely the best place to get ... inspiration!"]}),(0,i.jsx)("div",{className:"border mb-10",children:(0,i.jsx)(s,{height:250,imgLink:"https://github.com/holtzy/dataviz-inspiration/blob/main/public/misc/overview1.png?raw=true",opacity:.3,children:(0,i.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,i.jsxs)("div",{style:{maxWidth:400},className:"flex flex-col items-center",children:[(0,i.jsxs)("p",{className:"text-center text-sm",children:[(0,i.jsx)("a",{href:"https://www.dataviz-inspiration.com",children:"dataviz-inspiration.com"})," ","showcases hundreds of stunning dataviz projects. Have a look to get some ideas on how to make your ",(0,i.jsx)("span",{children:o})," ","looks good!"]}),(0,i.jsx)(a.J,{href:"https://www.dataviz-inspiration.com",isFilled:!0,size:"md",children:"visit"})]})})})})]})}},4893:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var i=n(5893),r=function(e){var t=e.children,n=e.onClick,r=e.isFilled,a=e.size,s=void 0===a?"md":a,o="rounded m-1 cursor-pointer border-reactGallery border ";return"sm"===s&&(o+="text-sm py-1 px-2"),"md"===s&&(o+="text-md py-2 px-4"),o+=r?" bg-reactGallery hover:bg-reactGallery text-white":" bg-white hover:bg-reactGallery hover:text-white text-reactGallery",(0,i.jsx)("button",{className:o,onClick:n,children:t})}},8193:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var i=n(5893),r=n(4725),a=n.n(r),s=n(7294),o=function(e){var t=e.code,n=(0,s.useRef)(null);return(0,s.useEffect)((function(){n.current&&a().highlightElement(n.current)}),[n,t]),(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsx)("pre",{className:"rounded-md line-numbers",children:(0,i.jsx)("code",{ref:n,className:"p-0 language-js",children:t})})})}},217:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var i=n(7294),r=function(e){var t=function(){return{width:e.current?e.current.offsetWidth:0,height:e.current?e.current.offsetHeight:0}},n=(0,i.useState)(t),r=n[0],a=n[1],s=function(){a(t())};return(0,i.useEffect)((function(){return window.addEventListener("resize",s),function(){return window.removeEventListener("resize",s)}}),[]),(0,i.useLayoutEffect)((function(){s()}),[]),r}},3946:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var i=n(5893),r=n(7294),a=n(4813),s=n(8807),o=n(7197),l=n(6978),c=n(3485),d=n(8193),h=n(33),u=n(1664),m=[{name:"Mark",value:90},{name:"Robert",value:12},{name:"Emily",value:34},{name:"Marion",value:53},{name:"Nicolas",value:98},{name:"M\xe9lanie",value:23},{name:"Gabriel",value:18},{name:"Jean",value:104},{name:"Paul",value:2}],f=n(2535);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{i||null==o.return||o.return()}finally{if(r)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p={top:30,right:30,bottom:30,left:30},v=function(e){var t=e.width,n=e.height,a=e.data,s=t-p.right-p.left,o=n-p.top-p.bottom,l=a.sort((function(e,t){return t.value-e.value})).map((function(e){return e.name})),c=(0,r.useMemo)((function(){return f.tiA().domain(l).range([0,o]).padding(.3)}),[a,n]),d=(0,r.useMemo)((function(){var e=x(f.Wem(a.map((function(e){return e.value}))),2),t=(e[0],e[1]);return f.BYU().domain([0,t||10]).range([0,s])}),[a,t]),h=a.map((function(e,t){return(0,i.jsxs)("g",{children:[(0,i.jsx)("rect",{x:d(0),y:c(e.name),width:d(e.value),height:c.bandwidth(),opacity:.7,stroke:"#9d174d",fill:"#9d174d",fillOpacity:.3,strokeWidth:1,rx:1}),(0,i.jsx)("text",{x:d(e.value)-7,y:c(e.name)+c.bandwidth()/2,textAnchor:"end",alignmentBaseline:"central",fontSize:12,children:e.value}),(0,i.jsx)("text",{x:d(0)+7,y:c(e.name)+c.bandwidth()/2,textAnchor:"start",alignmentBaseline:"central",fontSize:12,children:e.name})]},t)})),u=d.ticks(5).slice(1).map((function(e,t){return(0,i.jsxs)("g",{children:[(0,i.jsx)("line",{x1:d(e),x2:d(e),y1:0,y2:o,stroke:"#808080",opacity:.2}),(0,i.jsx)("text",{x:d(e),y:o+10,textAnchor:"middle",alignmentBaseline:"central",fontSize:9,stroke:"#808080",opacity:.8,children:e})]},t)}));return(0,i.jsx)("div",{children:(0,i.jsx)("svg",{width:t,height:n,children:(0,i.jsxs)("g",{width:s,height:o,transform:"translate(".concat([p.left,p.top].join(","),")"),children:[u,h]})})})},b=function(e){var t=e.width,n=void 0===t?700:t,r=e.height,a=void 0===r?400:r;return(0,i.jsx)(v,{data:m,width:n,height:a})},g=n(3440),j=(0,i.jsxs)("p",{children:["A ",(0,i.jsx)("a",{href:"https://www.data-to-viz.com/graph/barplot.html",children:"barplot"})," ","displays a numeric value for several groups of a dataset using rectangles. This section describes how to build barplots on the web in a react context. It starts very basic and then explain how to add more complex features like windowing, dark mode and more."]}),w='\nconst data = [\n  {name:"Mark", value: 90},\n  {name:"Robert", value: 12},\n  {name:"Emily", value: 34},\n  {name:"Marion", value: 53},\n  {name:"Nicolas", value: 98},\n]\n'.trim();"\n// data is something like [12, 4, 7, 9, ....]\nconst binBuilder = d3\n  .bin()\n  .domain([min, max])\n  .thresholds(yScale.ticks(14)) // how many bins we want?\n  .value((d) => d); // accessor function, just return the value since we're dealing with an array of number\nconst bins = binBuilder(data);\n".trim(),"\nconst areaBuilder = d3\n  .area()\n  .x0((d) => wScale(-d.length))\n  .x1((d) => wScale(d.length))\n  .y((d) => yScale(d.x0))\n  .curve(d3.curveBumpY);\nconst area = areaBuilder(bins);\n".trim();function y(){return(0,i.jsxs)(a.A,{title:"Barplot with React",seoDescription:"How to build a barplot with React and D3.js. A set of re-usable components",children:[(0,i.jsx)(s.Z,{title:"Barplot",description:j,chartType:"barplot"}),(0,i.jsxs)(c.U,{title:"Dataset",startOpen:!0,children:[(0,i.jsxs)("p",{children:["The dataset required to build a barplot is usually an array where each item is an object providing the ",(0,i.jsx)("code",{children:"name"})," and the"," ",(0,i.jsx)("code",{children:"value"})," of the group."]}),(0,i.jsx)("br",{}),(0,i.jsx)("p",{children:"Here is a minimal example"}),(0,i.jsx)(d.d,{code:w}),(0,i.jsxs)("p",{children:["Note: if your data is in ",(0,i.jsx)("code",{children:".csv"})," formart, you can translate it thanks to the ",(0,i.jsx)("code",{children:"d3.csv()"})," function as suggested"," ",(0,i.jsx)("a",{href:"https://d3-graph-gallery.com/graph/barplot_horizontal.html",children:"here"}),"."]})]}),(0,i.jsxs)(c.U,{title:"Most basic barplot",startOpen:!0,children:[(0,i.jsxs)("p",{children:["There is nothing really tricky when it comes to build a basic barplot with react, all is pretty close to the"," ",(0,i.jsx)("a",{href:"https://d3-graph-gallery.com/barplot",children:"d3-only examples"}),"."]}),(0,i.jsxs)("p",{children:["First of all you probably want to add some margins around the dimensions provided in the component properties as described"," ",(0,i.jsx)(u.default,{href:"/build-axis-with-react",children:"here"}),"."]}),(0,i.jsxs)("p",{children:["Then, since we're building a horizontal barchart here the Y axis is showing groups. It means we can build it using the handy"," ",(0,i.jsx)("code",{children:"d3.scaleBand()"})," function. Don't forget to pass a"," ",(0,i.jsx)("code",{children:"padding"})," to it to have some space between bars. Note that it makes sense to wrap the axis creation in a ",(0,i.jsx)("code",{children:"useMemo"})," ","hook. You don't want to recompute this axis if only the"," ",(0,i.jsx)("code",{children:"width"})," changes (like if the window is resized for instance)"]}),(0,i.jsx)(h.$,{vizName:"BarplotBasic",VizComponent:b,height:400,maxWidth:600,caption:"Most basic barplot built with d3.js for scales, and react for rendering"})]}),(0,i.jsx)(g.Z,{chartId:"barplot"}),(0,i.jsx)(c.U,{title:"Vertical barplot",startOpen:!0,children:(0,i.jsx)("p",{children:"The vertical option is less common since it makes is much harder to read the labels. But if you really need it, it is just a matter of swaping the X and Y axes of the previous example. Here is a working version."})}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{className:"full-bleed border-t h-0 bg-gray-100 my-3"}),(0,i.jsx)(o.Z,{chartFamily:"partOfAWhole"}),(0,i.jsx)("div",{className:"mt-20"}),(0,i.jsx)(l.Z,{})]})}}},function(e){e.O(0,[3888,5660,4509,5884,9774,2888,179],(function(){return t=4142,e(e.s=t);var t}));var t=e.O();_N_E=t}]);