(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6818],{6390:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/react-dataviz-animation-with-react-spring",function(){return i(6024)}])},3485:function(t,e,i){"use strict";i.d(e,{U:function(){return s}});var n=i(5893),r=i(7294),s=function(t){var e=t.startOpen,i=t.title,s=t.children,a=t.toc,o=(0,r.useState)(e),l=o[0],c=o[1],d=l?"max-h-full":"max-h-0",h=l?"overflow-visible":"overflow-hidden";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("h2",{className:"cursor-pointer",onClick:function(){return c(!l)},id:a,children:[l?(0,n.jsx)("span",{className:"text-purple-700 w-4 mr-2 hover:text-purple-900 inline-block",children:"-"}):(0,n.jsx)("span",{className:"text-purple-700 w-4 mr-2 hover:text-purple-900 inline-block",children:"+"}),i]}),(0,n.jsx)("div",{className:"transition-max-height ease-in duration-300  "+d+" "+h,children:s})]})}},7197:function(t,e,i){"use strict";i.d(e,{Z:function(){return u}});var n=i(5893),r=(i(7294),i(6761)),s=i(1878),a=i(1664),o=s.c.filter((function(t){return"general"===t.family})).map((function(t){return t.logo}));function l(t){var e=t.chartLogo,i=t.caption,s=t.link,l=t.isAvailable,d=t.size,h=o.includes(e),u=l?"opacity-100":"opacity-20",x=l?"cursor-pointer":"cursor-not-allowed";return(0,n.jsx)(a.default,{href:l?s:"subscribe",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsxs)("div",{style:{width:d,height:d},className:"relative mr-2 rounded-full "+u+" "+x,children:[(0,n.jsx)("div",{className:"absolute",children:(0,n.jsx)(r.Z,{chartLogo:e})}),h?(0,n.jsx)("div",{className:"absolute opacity-0 hover:opacity-60 flex items-center justify-center w-full h-full z-30",children:(0,n.jsx)(c,{size:d})}):(0,n.jsx)("div",{style:{backgroundColor:"var(--react-gallery)"},className:"opacity-0 hover:opacity-60 flex items-center justify-center w-full h-full rounded-full z-30",children:(0,n.jsx)("span",{className:"text-white text-4xl",children:"+"})})]}),(0,n.jsx)("p",{className:"font-light text-sm text-gray-600 "+u,children:i})]})})}var c=function(t){var e=t.size;return(0,n.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 100 100",className:"fill-current text-purple-800",children:(0,n.jsx)("path",{d:"M50,0 L100,20 L100,80 L50,100 L0,80 L0,20 Z"})})},d=i(3414),h={distribution:"Distribution",correlation:"Correlation",ranking:"Ranking",partOfAWhole:"Part Of A Whole",evolution:"Evolution",map:"Map",flow:"Flow",general:"General Knowledge"};function u(t){var e=t.chartFamily,i=s.c.filter((function(t){return t.family===e})).map((function(t,e){var i=(0,d.y)(t.reactURL);return(0,n.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,n.jsx)(l,{link:i,chartLogo:t.logo,caption:t.label,isAvailable:t.isAvailable,size:129})},e)}));return(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:e+"  mt-4 text-md border-b mb-2 border-gray-100 tracking-wider",children:null===h||void 0===h?void 0:h[e]}),(0,n.jsx)("div",{className:"flex flex-row justify-start flex-wrap",children:i})]})}},33:function(t,e,i){"use strict";i.d(e,{$:function(){return c}});var n=i(5893),r=i(7294),s=i(217),a=i(4893),o=i(5380),l=i(7975),c=function(t){var e=t.VizComponent,i=t.vizName,c=t.height,d=void 0===c?400:c,h=t.maxWidth,u=void 0===h?800:h,x=t.caption,f=(0,r.useState)(!1),p=f[0],m=f[1],v=(0,r.useRef)(null),j=(0,s.B)(v);return(0,n.jsx)("div",{style:{marginLeft:"-50vw",left:"50%"},className:"my-4 py-4 w-screen relative",children:p?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center w-full",children:[(0,n.jsx)("div",{style:{maxWidth:2e3},className:"w-full z-50",children:(0,n.jsx)(l.X,{vizName:i})}),(0,n.jsx)("div",{className:"flex justify-center mt-2",children:(0,n.jsx)(a.z,{size:"sm",onClick:function(){return m(!p)},children:"Hide Sandbox"})})]}):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,n.jsx)("div",{className:"bg-gray-50 w-screen flex justify-center",children:(0,n.jsx)("div",{style:{height:d,width:"100%",maxWidth:u},ref:v,children:(0,n.jsx)(e,{height:d,width:j.width})})}),(0,n.jsx)(o.Y,{children:x}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(a.z,{size:"sm",onClick:function(){return m(!p)},children:"Show code"})})]})})}},7975:function(t,e,i){"use strict";i.d(e,{X:function(){return r}});var n=i(5893),r=(i(7294),function(t){var e="https://codesandbox.io/embed/github/holtzy/react-graph-gallery/tree/main/viz/"+t.vizName+"?fontsize=14&hidenavigation=1&theme=dark&expanddevtools=0";return(0,n.jsx)("iframe",{src:e,style:{width:"100%",height:"500px",border:"solid",borderWidth:2,borderRadius:"4px",overflow:"hidden"},allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})})},1884:function(t,e,i){"use strict";i.d(e,{A:function(){return u}});var n=i(5893),r=i(3185),s=i(1261),a=i(7294),o=i(3924),l=i.n(o);function c(){var t=(0,a.useState)([]),e=t[0],i=t[1],r=(0,a.useState)(0),s=r[0],o=r[1];return(0,a.useEffect)((function(){var t=Array.from(document.querySelectorAll("h2"));i(t)}),[]),(0,a.useEffect)((function(){var t=function(){var t=e.map((function(t){return t.offsetTop-t.scrollTop+t.clientTop})),i=window.scrollY+150,n=t.reduce((function(t,e){return Math.abs(e-i)<Math.abs(t-i)?e:t}),0),r=t.findIndex((function(t){return t===n}));o(-1===r?0:r)};return window.addEventListener("scroll",t),function(){return window.removeEventListener("scroll",t)}}),[e]),(0,n.jsx)("div",{className:l().tableOfContent,children:e.map((function(t,i){return(0,n.jsx)("p",{className:s===i?"".concat(l().tocItem," ").concat(l().tocItemActive):l().tocItem,onClick:function(t){t.preventDefault(),e[i].scrollIntoView({behavior:"smooth",block:"start",alignToTop:!0})},children:t.id.charAt(0).toUpperCase()+t.id.slice(1)},t.id)}))})}var d=i(8171),h=i(6978),u=function(t){var e=t.children,i=t.title,a=t.seoDescription;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.A,{title:i,seoDescription:a}),(0,n.jsxs)("div",{className:"wrapper",children:[(0,n.jsx)(r.Z,{}),e]}),(0,n.jsx)(h.Z,{}),(0,n.jsx)("div",{className:"wrapper",children:(0,n.jsx)(s.Z,{})}),(0,n.jsx)(c,{})]})}},1687:function(t,e,i){"use strict";i.d(e,{J:function(){return s}});var n=i(5893),r=i(1664),s=function(t){var e=t.children,i=t.href,s=t.isFilled,a=t.size,o=void 0===a?"md":a,l=t.isFaded,c=i.startsWith("www")||i.startsWith("http"),d="font-normal rounded mr-1 cursor-pointer border-reactGallery border ";d+=s?" bg-reactGallery hover:bg-reactGallery text-white ":" bg-white hover:bg-reactGallery hover:text-white text-reactGallery ","sm"===o&&(d+="text-sm py-1 px-2 "),"md"===o&&(d+="text-md py-2 px-4 "),l&&(d+="opacity-60");var h=(0,n.jsx)("span",{className:d,children:e});return c?(0,n.jsx)("a",{href:i,children:h}):(0,n.jsx)(r.default,{href:i,passHref:!0,children:(0,n.jsx)("a",{children:h})})}},4974:function(t,e,i){"use strict";i.d(e,{b:function(){return r}});var n=i(5893),r=function(t){var e=t.children;return(0,n.jsx)("span",{className:"font-semibol bg-purple-100 p-1",children:e})}},8807:function(t,e,i){"use strict";i.d(e,{Z:function(){return h}});var n=i(5893),r=(i(7294),i(1878)),s=i(3414),a=i(3919),o=i(1687),l=i(3187),c=i.n(l),d=function(t){var e=t.direction,i=t.text,r=t.children;return(0,n.jsx)("span",{className:c().tooltip+" "+c()[e],id:i,children:r})};function h(t){var e=t.title,i=t.description,l=t.chartType,c=t.showSectionLink,h=void 0!==c&&c,u=t.showInspirationLink,x=void 0===u||u,f=t.showD3GalleryLink,p=void 0===f||f,m=r.c.filter((function(t){return t.id===l}))[0];return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"w-full pt-1 sm:pt-28 pb-20 ",children:[(0,n.jsx)("h1",{children:e}),(0,n.jsx)(a.r,{}),(0,n.jsx)("div",{className:"max-w-xxl py-2",children:(0,n.jsx)("p",{children:i})}),l&&(0,n.jsx)("span",{className:"text-gray-400 text-sm font-light",children:"Useful links"}),l&&(0,n.jsxs)("div",{className:"flex flex-row flex-wrap",children:[h&&(0,n.jsx)(d,{text:"kkkk",direction:"bottom",children:(0,n.jsx)(o.J,{href:(0,s.y)(m.reactURL),size:"sm",children:m.label+" section"})}),x&&(0,n.jsx)(d,{text:"Hundreds of stunning dataviz projects to gather inspiration",direction:"bottom",children:(0,n.jsx)(o.J,{href:"https://www.dataviz-inspiration.com/"+m.id,size:"sm",children:"inspiration"})}),p&&(0,n.jsx)(d,{text:"Pure d3 implementation, no React",direction:"bottom",children:(0,n.jsx)(o.J,{href:m.d3URL,size:"sm",children:"d3 gallery"})}),(0,n.jsx)(d,{text:"Dataviz theory about this chart",direction:"bottom",children:(0,n.jsx)(o.J,{href:m.dataToVizURL,isFilled:!0,size:"sm",children:"About this chart"})})]})]})})}},4893:function(t,e,i){"use strict";i.d(e,{z:function(){return r}});var n=i(5893),r=function(t){var e=t.children,i=t.onClick,r=t.isFilled,s=t.size,a=void 0===s?"md":s,o="rounded m-1 cursor-pointer border-reactGallery border ";return"sm"===a&&(o+="text-sm py-1 px-2"),"md"===a&&(o+="text-md py-2 px-4"),o+=r?" bg-reactGallery hover:bg-reactGallery text-white":" bg-white hover:bg-reactGallery hover:text-white text-reactGallery",(0,n.jsx)("button",{className:o,onClick:i,children:e})}},5380:function(t,e,i){"use strict";i.d(e,{Y:function(){return r}});var n=i(5893),r=function(t){var e=t.children;return(0,n.jsx)("p",{className:"text-sm text-gray-500 max-w-xs italic text-center mt-4 font-light",children:e})}},217:function(t,e,i){"use strict";i.d(e,{B:function(){return r}});var n=i(7294),r=function(t){var e=function(){return{width:t.current?t.current.offsetWidth:0,height:t.current?t.current.offsetHeight:0}},i=(0,n.useState)(e),r=i[0],s=i[1],a=function(){s(e())};return(0,n.useEffect)((function(){return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),(0,n.useLayoutEffect)((function(){a()}),[]),r}},6024:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return _}});var n=i(5893),r=i(7294),s=i(1884),a=i(8807),o=i(6978),l=i(33),c=i(7197),d=i(3485),h=i(217),u=i(4974),x=i(441),f=i(3728),p=function(t){var e=t.position,i=t.width,r=t.height,s=t.fill,a=(0,x.q_)({to:{position:e,fill:s},config:x.vc.molasses});return(0,n.jsx)("svg",{width:i,height:r,children:(0,n.jsx)(f.q.circle,{stroke:a.fill,fill:a.fill,strokeWidth:2,fillOpacity:.4,r:38,cx:a.position,cy:50})})},m={border:"1px solid #9a6fb0",borderRadius:"3px",padding:"4px 8px",margin:"10px 2px",fontSize:14,color:"#9a6fb0",opacity:.7},v=function(t){var e=t.width,i=t.height,s=(0,r.useState)(40),a=s[0],o=s[1];return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{style:m,onClick:function(){return o(40)},children:"Left"}),(0,n.jsx)("button",{style:m,onClick:function(){return o(e-40)},children:"Right"})]}),(0,n.jsx)("div",{style:{width:e,height:i},children:(0,n.jsx)(p,{position:a,width:e,height:i,fill:40===a?"#9a6fb0":"#69b3a2"})})]})},j=function(t){var e=t.width,i=void 0===e?700:e,r=t.height,s=void 0===r?400:r;return(0,n.jsx)(v,{width:i,height:s})},g=function(t){var e=t.xOffset,i=t.value;(0,x.q_)({to:{xOffset:e},config:x.vc.molasses});return(0,n.jsxs)(f.q.g,{transform:"translate(".concat(e,", 0)"),children:[(0,n.jsx)("line",{y2:6,stroke:"currentColor"}),(0,n.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:i})]})},w=function(t){var e=t.xScale,i=t.pixelsPerTick,s=e.range(),a=(0,r.useMemo)((function(){var t=s[1]-s[0],n=Math.floor(t/i);return e.ticks(n).map((function(t){return{value:t,xOffset:e(t)}}))}),[e]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:["M",s[0],0,"L",s[1],0].join(" "),fill:"none",stroke:"currentColor"}),a.map((function(t,e){var i=t.value,r=t.xOffset;return(0,n.jsx)(g,{value:i,xOffset:r},e)}))]})},b=i(2535),y={border:"1px solid #9a6fb0",borderRadius:"3px",padding:"4px 8px",margin:"10px 2px",fontSize:14,color:"#9a6fb0",opacity:.7},N=function(t){var e=t.width,i=t.height,s=(0,r.useState)(40),a=s[0],o=s[1],l=b.BYU().domain([0,a]).range([0,e]);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{style:y,onClick:function(){return o(40)},children:"40"}),(0,n.jsx)("button",{style:y,onClick:function(){return o(400)},children:"400"})]}),(0,n.jsx)("div",{style:{width:e,height:i},children:(0,n.jsx)("svg",{width:e-50,height:i,children:(0,n.jsx)(w,{xScale:l,pixelsPerTick:60})})})]})},k=function(t){var e=t.width,i=void 0===e?700:e,r=t.height,s=void 0===r?400:r;return(0,n.jsx)(N,{width:i,height:s})},z=(0,n.jsxs)("p",{children:["This post is dedicated to ",(0,n.jsx)("code",{children:"react-spring"}),", a javascript library for spring animations. It quickly explains what it is and how it works, and then explains how it can be used in the field of data visualization."]});"\nconst TICK_LENGTH = 6;\nexport const AxisBottom = ({ xScale, pixelsPerTick }) => {\n".trim();function _(){var t=(0,r.useRef)(null),e=(0,h.B)(t);return(0,n.jsxs)(s.A,{title:"React-spring for data visualization",seoDescription:"This blogpost explains how to use react-spring to smoothly animate transitions on your charts made with react and d3.js.",children:[(0,n.jsx)(a.Z,{title:"React-spring for data visualization",description:z}),(0,n.jsxs)("div",{className:"w-full flex flex-col justify-center items-center",children:[(0,n.jsx)("div",{style:{height:150,width:"100%",maxWidth:500},ref:t,children:(0,n.jsx)(v,{width:e.width,height:e.height})}),(0,n.jsxs)("p",{className:"text-sm text-gray-500 max-w-md italic text-center mt-4 font-light",children:["A minimal react-spring dataviz example. A viz component expect a"," ",(0,n.jsx)("code",{children:"position"})," and a ",(0,n.jsx)("code",{children:"color"})," prop. But it smoothly animates the transition."]})]}),(0,n.jsxs)(d.U,{title:"What is a spring animation?",startOpen:!0,children:[(0,n.jsxs)("p",{children:["Spring animations are different than typical CSS easing animation. They're built on spring physics, which gives a more fluid and organic feel. The best way to be introduced to this concept is to read Josh Comeau's"," ",(0,n.jsx)("a",{href:"https://www.joshwcomeau.com/animation/a-friendly-introduction-to-spring-physics/",children:"friendly Introduction to Spring Physics"})]}),(0,n.jsx)("p",{children:"To quote him directly:"}),(0,n.jsx)(u.b,{children:"Spring physics are like a secret ingredient; they make all animations taste better"})]}),(0,n.jsxs)(d.U,{title:"Most basic react spring example",startOpen:!0,children:[(0,n.jsxs)("p",{children:["The best tool to build a spring animation in the react world is"," ",(0,n.jsx)("a",{href:"https://react-spring.io/",children:"react-spring"}),", a library dedicated to it. If you're not familiar with it already you probably want to take a look at their"," ",(0,n.jsx)("a",{href:"https://react-spring.io/",children:"home page"}),"."]}),(0,n.jsx)("p",{children:"Let's start with a basic example showing how to animate a very basic viz component that just renders a circle."}),(0,n.jsx)(l.$,{vizName:"ReactSpringMostBasic",VizComponent:j,maxWidth:800,height:200,caption:"A very basic animation using react and react-spring."}),(0,n.jsx)("p",{children:"The useSpring funtion can take 2 types of input: an object or a function"}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"if object, it returns an object that has the values of our animation"}),(0,n.jsx)("li",{children:"if function, it returns an array of length 2. First item is the object mentionned above. item 2 is the api that controls the spring. api is used for imperative style"})]})]}),(0,n.jsxs)(d.U,{title:"Animating axes",startOpen:!0,children:[(0,n.jsx)("p",{children:"A common hassle is to animate axes, since it's a lot of svg elements."}),(0,n.jsx)(l.$,{vizName:"ReactSpringAxis",VizComponent:k,maxWidth:800,height:200,caption:"A very basic animation using react and react-spring."})]}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("hr",{className:"full-bleed bord er bg-gray-200 mb-3 mt-10"}),(0,n.jsx)(c.Z,{chartFamily:"general"}),(0,n.jsx)("div",{className:"mt-20"}),(0,n.jsx)(o.Z,{})]})}},3187:function(t){t.exports={tooltip:"tooltip_tooltip__Fv96Y",right:"tooltip_right__lXq9G",left:"tooltip_left__hUc5l",bottom:"tooltip_bottom__Qzoh5",top:"tooltip_top__qDz28"}},3924:function(t){t.exports={tableOfContent:"table-of-content_tableOfContent__oi0XB",tocItem:"table-of-content_tocItem__fZBSX",tocItemActive:"table-of-content_tocItemActive__kiClt"}}},function(t){t.O(0,[3888,7524,358,9774,2888,179],(function(){return e=6390,t(t.s=e);var e}));var e=t.O();_N_E=e}]);