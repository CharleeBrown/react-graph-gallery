(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[237],{3035:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bubble-plot",function(){return t(5668)}])},7197:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var i=t(5893),r=(t(7294),t(6761)),o=t(1878),p=t(1664),c=o.c.filter((function(e){return"general"===e.family})).map((function(e){return e.logo}));function a(e){var n=e.chartLogo,t=e.caption,o=e.link,a=e.isAvailable,s=e.size,d=c.includes(n),u=a?"opacity-100":"opacity-20",f=a?"cursor-pointer":"cursor-not-allowed";return(0,i.jsx)(p.default,{href:a?o:"subscribe",children:(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsxs)("div",{style:{width:s,height:s},className:"relative mr-2 rounded-full "+u+" "+f,children:[(0,i.jsx)("div",{className:"absolute",children:(0,i.jsx)(r.Z,{chartLogo:n})}),d?(0,i.jsx)("div",{className:"absolute opacity-0 hover:opacity-60 flex items-center justify-center w-full h-full z-30",children:(0,i.jsx)(l,{size:s})}):(0,i.jsx)("div",{style:{backgroundColor:"var(--react-gallery)"},className:"opacity-0 hover:opacity-60 flex items-center justify-center w-full h-full rounded-full z-30",children:(0,i.jsx)("span",{className:"text-white text-4xl",children:"+"})})]}),(0,i.jsx)("p",{className:"font-light text-sm text-gray-600 "+u,children:t})]})})}var l=function(e){var n=e.size;return(0,i.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 100 100",className:"fill-current text-purple-800",children:(0,i.jsx)("path",{d:"M50,0 L100,20 L100,80 L50,100 L0,80 L0,20 Z"})})},s=t(3414),d={distribution:"Distribution",correlation:"Correlation",ranking:"Ranking",partOfAWhole:"Part Of A Whole",evolution:"Evolution",map:"Map",flow:"Flow",general:"General Knowledge"};function u(e){var n=e.chartFamily,t=o.c.filter((function(e){return e.family===n})).map((function(e,n){var t=(0,s.y)(e.reactURL);return(0,i.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,i.jsx)(a,{link:t,chartLogo:e.logo,caption:e.label,isAvailable:e.isAvailable,size:129})},n)}));return(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:n+"  mt-4 text-md border-b mb-2 border-gray-100 tracking-wider",children:null===d||void 0===d?void 0:d[n]}),(0,i.jsx)("div",{className:"flex flex-row justify-start flex-wrap",children:t})]})}},33:function(e,n,t){"use strict";t.d(n,{$:function(){return l}});var i=t(5893),r=t(7294),o=t(217),p=t(4893),c=t(5380),a=t(7975),l=function(e){var n=e.VizComponent,t=e.vizName,l=e.height,s=void 0===l?400:l,d=e.maxWidth,u=void 0===d?800:d,f=e.caption,x=(0,r.useState)(!1),h=x[0],g=x[1],y=(0,r.useRef)(null),m=(0,o.B)(y);return(0,i.jsx)("div",{style:{marginLeft:"-50vw",left:"50%"},className:"my-4 py-4 w-screen relative",children:h?(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center w-full",children:[(0,i.jsx)("div",{style:{maxWidth:2e3},className:"w-full z-50",children:(0,i.jsx)(a.X,{vizName:t})}),(0,i.jsx)("div",{className:"flex justify-center mt-2",children:(0,i.jsx)(p.z,{size:"sm",onClick:function(){return g(!h)},children:"Hide Sandbox"})})]}):(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,i.jsx)("div",{className:"bg-gray-100 bg-opacity-50 w-screen flex justify-center z-50 pointer-events-none",children:(0,i.jsx)("div",{style:{height:s,width:"100%",maxWidth:u},ref:y,className:"pointer-events-auto",children:(0,i.jsx)(n,{height:s,width:m.width})})}),(0,i.jsx)(c.Y,{children:f}),(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(p.z,{size:"sm",onClick:function(){return g(!h)},children:"Show code"})})]})})}},7975:function(e,n,t){"use strict";t.d(n,{X:function(){return r}});var i=t(5893),r=(t(7294),function(e){var n="https://codesandbox.io/embed/github/holtzy/react-graph-gallery/tree/main/viz/"+e.vizName+"?fontsize=14&hidenavigation=1&theme=dark&expanddevtools=0";return(0,i.jsx)("iframe",{src:n,style:{width:"100%",height:"500px",border:"solid",borderWidth:2,borderRadius:"4px",overflow:"hidden"},allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})})},1884:function(e,n,t){"use strict";t.d(n,{A:function(){return u}});var i=t(5893),r=t(3185),o=t(1261),p=t(7294),c=t(3924),a=t.n(c);function l(){var e=(0,p.useState)([]),n=e[0],t=e[1],r=(0,p.useState)(0),o=r[0],c=r[1];return(0,p.useEffect)((function(){var e=Array.from(document.querySelectorAll("h2"));t(e)}),[]),(0,p.useEffect)((function(){var e=function(){var e=n.map((function(e){return e.offsetTop-e.scrollTop+e.clientTop})),t=window.scrollY+150,i=e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}),0),r=e.findIndex((function(e){return e===i}));c(-1===r?0:r)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[n]),(0,i.jsx)("div",{className:a().tableOfContent,children:n.map((function(e,t){return(0,i.jsx)("p",{className:o===t?"".concat(a().tocItem," ").concat(a().tocItemActive):a().tocItem,onClick:function(e){e.preventDefault(),n[t].scrollIntoView({behavior:"smooth",block:"start",alignToTop:!0})},children:e.id.charAt(0).toUpperCase()+e.id.slice(1)},e.id)}))})}var s=t(8171),d=t(6978),u=function(e){var n=e.children,t=e.title,p=e.seoDescription;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.A,{title:t,seoDescription:p}),(0,i.jsxs)("div",{className:"wrapper",children:[(0,i.jsx)(r.Z,{}),n]}),(0,i.jsx)(d.Z,{}),(0,i.jsx)("div",{className:"wrapper",children:(0,i.jsx)(o.Z,{})}),(0,i.jsx)(l,{})]})}},1687:function(e,n,t){"use strict";t.d(n,{J:function(){return o}});var i=t(5893),r=t(1664),o=function(e){var n=e.children,t=e.href,o=e.isFilled,p=e.size,c=void 0===p?"md":p,a=e.isFaded,l=t.startsWith("www")||t.startsWith("http"),s="font-normal rounded mr-1 cursor-pointer border-reactGallery border ";s+=o?" bg-reactGallery hover:bg-reactGallery text-white ":" bg-white hover:bg-reactGallery hover:text-white text-reactGallery ","sm"===c&&(s+="text-sm py-1 px-2 "),"md"===c&&(s+="text-md py-2 px-4 "),a&&(s+="opacity-60");var d=(0,i.jsx)("span",{className:s,children:n});return l?(0,i.jsx)("a",{href:t,target:"_blank",children:d}):(0,i.jsx)(r.default,{href:t,passHref:!0,children:(0,i.jsx)("a",{children:d})})}},8807:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var i=t(5893),r=(t(7294),t(1878)),o=t(3414),p=t(3919),c=t(1687),a=t(3187),l=t.n(a),s=function(e){var n=e.direction,t=e.text,r=e.children;return(0,i.jsx)("span",{className:l().tooltip+" "+l()[n],id:t,children:r})};function d(e){var n=e.title,t=e.description,a=e.chartType,l=e.showSectionLink,d=void 0!==l&&l,u=e.showInspirationLink,f=void 0===u||u,x=e.showD3GalleryLink,h=void 0===x||x,g=r.c.filter((function(e){return e.id===a}))[0];return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"w-full pt-1 sm:pt-28 pb-20 ",children:[(0,i.jsx)("h1",{children:n}),(0,i.jsx)(p.r,{}),(0,i.jsx)("div",{className:"max-w-xxl py-2",children:(0,i.jsx)("p",{children:t})}),a&&(0,i.jsx)("span",{className:"text-gray-400 text-sm font-light",children:"Useful links"}),a&&(0,i.jsxs)("div",{className:"flex flex-row flex-wrap",children:[d&&(0,i.jsx)(s,{text:"kkkk",direction:"bottom",children:(0,i.jsx)(c.J,{href:(0,o.y)(g.reactURL),size:"sm",children:g.label+" section"})}),f&&(0,i.jsx)(s,{text:"Hundreds of stunning dataviz projects to gather inspiration",direction:"bottom",children:(0,i.jsx)(c.J,{href:"https://www.dataviz-inspiration.com/"+g.id,size:"sm",children:"inspiration"})}),h&&(0,i.jsx)(s,{text:"Pure d3 implementation, no React",direction:"bottom",children:(0,i.jsx)(c.J,{href:g.d3URL,size:"sm",children:"d3 gallery"})}),(0,i.jsx)(s,{text:"Dataviz theory about this chart",direction:"bottom",children:(0,i.jsx)(c.J,{href:g.dataToVizURL,isFilled:!0,size:"sm",children:"About this chart"})})]})]})})}},4893:function(e,n,t){"use strict";t.d(n,{z:function(){return r}});var i=t(5893),r=function(e){var n=e.children,t=e.onClick,r=e.isFilled,o=e.size,p=void 0===o?"md":o,c="rounded m-1 cursor-pointer border-reactGallery border ";return"sm"===p&&(c+="text-sm py-1 px-2"),"md"===p&&(c+="text-md py-2 px-4"),c+=r?" bg-reactGallery hover:bg-reactGallery text-white":" bg-white hover:bg-reactGallery hover:text-white text-reactGallery",(0,i.jsx)("button",{className:c,onClick:t,children:n})}},5380:function(e,n,t){"use strict";t.d(n,{Y:function(){return r}});var i=t(5893),r=function(e){var n=e.children;return(0,i.jsx)("p",{className:"text-sm text-gray-500 max-w-xs italic text-center mt-4 font-light",children:n})}},8193:function(e,n,t){"use strict";t.d(n,{d:function(){return c}});var i=t(5893),r=t(4725),o=t.n(r),p=t(7294),c=function(e){var n=e.code,t=(0,p.useRef)(null);return(0,p.useEffect)((function(){t.current&&o().highlightElement(t.current)}),[t,n]),(0,i.jsx)("div",{className:"mb-6",children:(0,i.jsx)("pre",{className:"rounded-md line-numbers",children:(0,i.jsx)("code",{ref:t,className:"p-0 language-js",children:n})})})}},3990:function(e,n,t){"use strict";t.d(n,{X:function(){return p}});var i=t(5893),r=t(5102),o=t.n(r),p=function(e){var n=e.img,t=e.title,r=e.description,p=e.link,c=e.alt;return(0,i.jsxs)("figure",{className:o().container,children:[(0,i.jsx)("img",{src:"/chart/"+n,className:o().image,alt:c}),(0,i.jsxs)("figcaption",{children:[(0,i.jsx)("p",{className:o().title,children:(0,i.jsx)("b",{children:t})}),(0,i.jsx)("p",{className:"font-light",children:r}),(0,i.jsx)("a",{href:p})]})]})}},2199:function(e,n,t){"use strict";t.d(n,{E:function(){return r}});var i=t(5893),r=(t(7294),function(e){var n=e.children;return(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:n})})},217:function(e,n,t){"use strict";t.d(n,{B:function(){return r}});var i=t(7294),r=function(e){var n=function(){return{width:e.current?e.current.offsetWidth:0,height:e.current?e.current.offsetHeight:0}},t=(0,i.useState)(n),r=t[0],o=t[1],p=function(){o(n())};return(0,i.useEffect)((function(){return window.addEventListener("resize",p),function(){return window.removeEventListener("resize",p)}}),[]),(0,i.useLayoutEffect)((function(){p()}),[]),r}},5668:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return S}});var i=t(5893),r=t(7294),o=t(1884),p=t(8807),c=t(7197),a=t(8193),l=t(33),s=t(1664),d=[{country:"Afghanistan",continent:"Asia",lifeExp:43.828,pop:31889923,gdpPercap:974.5803384},{country:"Albania",continent:"Europe",lifeExp:76.423,pop:3600523,gdpPercap:5937.029526},{country:"Algeria",continent:"Africa",lifeExp:72.301,pop:33333216,gdpPercap:6223.367465},{country:"Angola",continent:"Africa",lifeExp:42.731,pop:12420476,gdpPercap:4797.231267},{country:"Argentina",continent:"Americas",lifeExp:75.32,pop:40301927,gdpPercap:12779.37964},{country:"Australia",continent:"Oceania",lifeExp:81.235,pop:20434176,gdpPercap:34435.36744},{country:"Austria",continent:"Europe",lifeExp:79.829,pop:8199783,gdpPercap:36126.4927},{country:"Bahrain",continent:"Asia",lifeExp:75.635,pop:708573,gdpPercap:29796.04834},{country:"Bangladesh",continent:"Asia",lifeExp:64.062,pop:150448339,gdpPercap:1391.253792},{country:"Belgium",continent:"Europe",lifeExp:79.441,pop:10392226,gdpPercap:33692.60508},{country:"Benin",continent:"Africa",lifeExp:56.728,pop:8078314,gdpPercap:1441.284873},{country:"Bolivia",continent:"Americas",lifeExp:65.554,pop:9119152,gdpPercap:3822.137084},{country:"Bosnia and Herzegovina",continent:"Europe",lifeExp:74.852,pop:4552198,gdpPercap:7446.298803},{country:"Botswana",continent:"Africa",lifeExp:50.728,pop:1639131,gdpPercap:12569.85177},{country:"Brazil",continent:"Americas",lifeExp:72.39,pop:190010647,gdpPercap:9065.800825},{country:"Bulgaria",continent:"Europe",lifeExp:73.005,pop:7322858,gdpPercap:10680.79282},{country:"Burkina Faso",continent:"Africa",lifeExp:52.295,pop:14326203,gdpPercap:1217.032994},{country:"Burundi",continent:"Africa",lifeExp:49.58,pop:8390505,gdpPercap:430.0706916},{country:"Cambodia",continent:"Asia",lifeExp:59.723,pop:14131858,gdpPercap:1713.778686},{country:"Cameroon",continent:"Africa",lifeExp:50.43,pop:17696293,gdpPercap:2042.09524},{country:"Canada",continent:"Americas",lifeExp:80.653,pop:33390141,gdpPercap:36319.23501},{country:"Central African Republic",continent:"Africa",lifeExp:44.741,pop:4369038,gdpPercap:706.016537},{country:"Chad",continent:"Africa",lifeExp:50.651,pop:10238807,gdpPercap:1704.063724},{country:"Chile",continent:"Americas",lifeExp:78.553,pop:16284741,gdpPercap:13171.63885},{country:"China",continent:"Asia",lifeExp:72.961,pop:1318683096,gdpPercap:4959.114854},{country:"Colombia",continent:"Americas",lifeExp:72.889,pop:44227550,gdpPercap:7006.580419},{country:"Comoros",continent:"Africa",lifeExp:65.152,pop:710960,gdpPercap:986.1478792},{country:"Congo, Dem. Rep.",continent:"Africa",lifeExp:46.462,pop:64606759,gdpPercap:277.5518587},{country:"Congo, Rep.",continent:"Africa",lifeExp:55.322,pop:3800610,gdpPercap:3632.557798},{country:"Costa Rica",continent:"Americas",lifeExp:78.782,pop:4133884,gdpPercap:9645.06142},{country:"Cote d'Ivoire",continent:"Africa",lifeExp:48.328,pop:18013409,gdpPercap:1544.750112},{country:"Croatia",continent:"Europe",lifeExp:75.748,pop:4493312,gdpPercap:14619.22272},{country:"Cuba",continent:"Americas",lifeExp:78.273,pop:11416987,gdpPercap:8948.102923},{country:"Czech Republic",continent:"Europe",lifeExp:76.486,pop:10228744,gdpPercap:22833.30851},{country:"Denmark",continent:"Europe",lifeExp:78.332,pop:5468120,gdpPercap:35278.41874},{country:"Djibouti",continent:"Africa",lifeExp:54.791,pop:496374,gdpPercap:2082.481567},{country:"Dominican Republic",continent:"Americas",lifeExp:72.235,pop:9319622,gdpPercap:6025.374752},{country:"Ecuador",continent:"Americas",lifeExp:74.994,pop:13755680,gdpPercap:6873.262326},{country:"Egypt",continent:"Africa",lifeExp:71.338,pop:80264543,gdpPercap:5581.180998},{country:"El Salvador",continent:"Americas",lifeExp:71.878,pop:6939688,gdpPercap:5728.353514},{country:"Equatorial Guinea",continent:"Africa",lifeExp:51.579,pop:551201,gdpPercap:12154.08975},{country:"Eritrea",continent:"Africa",lifeExp:58.04,pop:4906585,gdpPercap:641.3695236},{country:"Ethiopia",continent:"Africa",lifeExp:52.947,pop:76511887,gdpPercap:690.8055759},{country:"Finland",continent:"Europe",lifeExp:79.313,pop:5238460,gdpPercap:33207.0844},{country:"France",continent:"Europe",lifeExp:80.657,pop:61083916,gdpPercap:30470.0167},{country:"Gabon",continent:"Africa",lifeExp:56.735,pop:1454867,gdpPercap:13206.48452},{country:"Gambia",continent:"Africa",lifeExp:59.448,pop:1688359,gdpPercap:752.7497265},{country:"Germany",continent:"Europe",lifeExp:79.406,pop:82400996,gdpPercap:32170.37442},{country:"Ghana",continent:"Africa",lifeExp:60.022,pop:22873338,gdpPercap:1327.60891},{country:"Greece",continent:"Europe",lifeExp:79.483,pop:10706290,gdpPercap:27538.41188},{country:"Guatemala",continent:"Americas",lifeExp:70.259,pop:12572928,gdpPercap:5186.050003},{country:"Guinea",continent:"Africa",lifeExp:56.007,pop:9947814,gdpPercap:942.6542111},{country:"Guinea-Bissau",continent:"Africa",lifeExp:46.388,pop:1472041,gdpPercap:579.231743},{country:"Haiti",continent:"Americas",lifeExp:60.916,pop:8502814,gdpPercap:1201.637154},{country:"Honduras",continent:"Americas",lifeExp:70.198,pop:7483763,gdpPercap:3548.330846},{country:"Hong Kong, China",continent:"Asia",lifeExp:82.208,pop:6980412,gdpPercap:39724.97867},{country:"Hungary",continent:"Europe",lifeExp:73.338,pop:9956108,gdpPercap:18008.94444},{country:"Iceland",continent:"Europe",lifeExp:81.757,pop:301931,gdpPercap:36180.78919},{country:"India",continent:"Asia",lifeExp:64.698,pop:1110396331,gdpPercap:2452.210407},{country:"Indonesia",continent:"Asia",lifeExp:70.65,pop:223547e3,gdpPercap:3540.651564},{country:"Iran",continent:"Asia",lifeExp:70.964,pop:69453570,gdpPercap:11605.71449},{country:"Iraq",continent:"Asia",lifeExp:59.545,pop:27499638,gdpPercap:4471.061906},{country:"Ireland",continent:"Europe",lifeExp:78.885,pop:4109086,gdpPercap:40675.99635},{country:"Israel",continent:"Asia",lifeExp:80.745,pop:6426679,gdpPercap:25523.2771},{country:"Italy",continent:"Europe",lifeExp:80.546,pop:58147733,gdpPercap:28569.7197},{country:"Jamaica",continent:"Americas",lifeExp:72.567,pop:2780132,gdpPercap:7320.880262},{country:"Japan",continent:"Asia",lifeExp:82.603,pop:127467972,gdpPercap:31656.06806},{country:"Jordan",continent:"Asia",lifeExp:72.535,pop:6053193,gdpPercap:4519.461171},{country:"Kenya",continent:"Africa",lifeExp:54.11,pop:35610177,gdpPercap:1463.249282},{country:"Korea, Dem. Rep.",continent:"Asia",lifeExp:67.297,pop:23301725,gdpPercap:1593.06548},{country:"Korea, Rep.",continent:"Asia",lifeExp:78.623,pop:49044790,gdpPercap:23348.13973},{country:"Kuwait",continent:"Asia",lifeExp:77.588,pop:2505559,gdpPercap:47306.98978},{country:"Lebanon",continent:"Asia",lifeExp:71.993,pop:3921278,gdpPercap:10461.05868},{country:"Lesotho",continent:"Africa",lifeExp:42.592,pop:2012649,gdpPercap:1569.331442},{country:"Liberia",continent:"Africa",lifeExp:45.678,pop:3193942,gdpPercap:414.5073415},{country:"Libya",continent:"Africa",lifeExp:73.952,pop:6036914,gdpPercap:12057.49928},{country:"Madagascar",continent:"Africa",lifeExp:59.443,pop:19167654,gdpPercap:1044.770126},{country:"Malawi",continent:"Africa",lifeExp:48.303,pop:13327079,gdpPercap:759.3499101},{country:"Malaysia",continent:"Asia",lifeExp:74.241,pop:24821286,gdpPercap:12451.6558},{country:"Mali",continent:"Africa",lifeExp:54.467,pop:12031795,gdpPercap:1042.581557},{country:"Mauritania",continent:"Africa",lifeExp:64.164,pop:3270065,gdpPercap:1803.151496},{country:"Mauritius",continent:"Africa",lifeExp:72.801,pop:1250882,gdpPercap:10956.99112},{country:"Mexico",continent:"Americas",lifeExp:76.195,pop:108700891,gdpPercap:11977.57496},{country:"Mongolia",continent:"Asia",lifeExp:66.803,pop:2874127,gdpPercap:3095.772271},{country:"Montenegro",continent:"Europe",lifeExp:74.543,pop:684736,gdpPercap:9253.896111},{country:"Morocco",continent:"Africa",lifeExp:71.164,pop:33757175,gdpPercap:3820.17523},{country:"Mozambique",continent:"Africa",lifeExp:42.082,pop:19951656,gdpPercap:823.6856205},{country:"Myanmar",continent:"Asia",lifeExp:62.069,pop:47761980,gdpPercap:944},{country:"Namibia",continent:"Africa",lifeExp:52.906,pop:2055080,gdpPercap:4811.060429},{country:"Nepal",continent:"Asia",lifeExp:63.785,pop:28901790,gdpPercap:1091.359778},{country:"Netherlands",continent:"Europe",lifeExp:79.762,pop:16570613,gdpPercap:36797.93332},{country:"New Zealand",continent:"Oceania",lifeExp:80.204,pop:4115771,gdpPercap:25185.00911},{country:"Nicaragua",continent:"Americas",lifeExp:72.899,pop:5675356,gdpPercap:2749.320965},{country:"Niger",continent:"Africa",lifeExp:56.867,pop:12894865,gdpPercap:619.6768924},{country:"Nigeria",continent:"Africa",lifeExp:46.859,pop:135031164,gdpPercap:2013.977305},{country:"Norway",continent:"Europe",lifeExp:80.196,pop:4627926,gdpPercap:49357.19017},{country:"Oman",continent:"Asia",lifeExp:75.64,pop:3204897,gdpPercap:22316.19287},{country:"Pakistan",continent:"Asia",lifeExp:65.483,pop:169270617,gdpPercap:2605.94758},{country:"Panama",continent:"Americas",lifeExp:75.537,pop:3242173,gdpPercap:9809.185636},{country:"Paraguay",continent:"Americas",lifeExp:71.752,pop:6667147,gdpPercap:4172.838464},{country:"Peru",continent:"Americas",lifeExp:71.421,pop:28674757,gdpPercap:7408.905561},{country:"Philippines",continent:"Asia",lifeExp:71.688,pop:91077287,gdpPercap:3190.481016},{country:"Poland",continent:"Europe",lifeExp:75.563,pop:38518241,gdpPercap:15389.92468},{country:"Portugal",continent:"Europe",lifeExp:78.098,pop:10642836,gdpPercap:20509.64777},{country:"Puerto Rico",continent:"Americas",lifeExp:78.746,pop:3942491,gdpPercap:19328.70901},{country:"Reunion",continent:"Africa",lifeExp:76.442,pop:798094,gdpPercap:7670.122558},{country:"Romania",continent:"Europe",lifeExp:72.476,pop:22276056,gdpPercap:10808.47561},{country:"Rwanda",continent:"Africa",lifeExp:46.242,pop:8860588,gdpPercap:863.0884639},{country:"Sao Tome and Principe",continent:"Africa",lifeExp:65.528,pop:199579,gdpPercap:1598.435089},{country:"Saudi Arabia",continent:"Asia",lifeExp:72.777,pop:27601038,gdpPercap:21654.83194},{country:"Senegal",continent:"Africa",lifeExp:63.062,pop:12267493,gdpPercap:1712.472136},{country:"Serbia",continent:"Europe",lifeExp:74.002,pop:10150265,gdpPercap:9786.534714},{country:"Sierra Leone",continent:"Africa",lifeExp:42.568,pop:6144562,gdpPercap:862.5407561},{country:"Singapore",continent:"Asia",lifeExp:79.972,pop:4553009,gdpPercap:47143.17964},{country:"Slovak Republic",continent:"Europe",lifeExp:74.663,pop:5447502,gdpPercap:18678.31435},{country:"Slovenia",continent:"Europe",lifeExp:77.926,pop:2009245,gdpPercap:25768.25759},{country:"Somalia",continent:"Africa",lifeExp:48.159,pop:9118773,gdpPercap:926.1410683},{country:"South Africa",continent:"Africa",lifeExp:49.339,pop:43997828,gdpPercap:9269.657808},{country:"Spain",continent:"Europe",lifeExp:80.941,pop:40448191,gdpPercap:28821.0637},{country:"Sri Lanka",continent:"Asia",lifeExp:72.396,pop:20378239,gdpPercap:3970.095407},{country:"Sudan",continent:"Africa",lifeExp:58.556,pop:42292929,gdpPercap:2602.394995},{country:"Swaziland",continent:"Africa",lifeExp:39.613,pop:1133066,gdpPercap:4513.480643},{country:"Sweden",continent:"Europe",lifeExp:80.884,pop:9031088,gdpPercap:33859.74835},{country:"Switzerland",continent:"Europe",lifeExp:81.701,pop:7554661,gdpPercap:37506.41907},{country:"Syria",continent:"Asia",lifeExp:74.143,pop:19314747,gdpPercap:4184.548089},{country:"Taiwan",continent:"Asia",lifeExp:78.4,pop:23174294,gdpPercap:28718.27684},{country:"Tanzania",continent:"Africa",lifeExp:52.517,pop:38139640,gdpPercap:1107.482182},{country:"Thailand",continent:"Asia",lifeExp:70.616,pop:65068149,gdpPercap:7458.396327},{country:"Togo",continent:"Africa",lifeExp:58.42,pop:5701579,gdpPercap:882.9699438},{country:"Trinidad and Tobago",continent:"Americas",lifeExp:69.819,pop:1056608,gdpPercap:18008.50924},{country:"Tunisia",continent:"Africa",lifeExp:73.923,pop:10276158,gdpPercap:7092.923025},{country:"Turkey",continent:"Europe",lifeExp:71.777,pop:71158647,gdpPercap:8458.276384},{country:"Uganda",continent:"Africa",lifeExp:51.542,pop:29170398,gdpPercap:1056.380121},{country:"United Kingdom",continent:"Europe",lifeExp:79.425,pop:60776238,gdpPercap:33203.26128},{country:"United ys",continent:"Americas",lifeExp:78.242,pop:301139947,gdpPercap:42951.65309},{country:"Uruguay",continent:"Americas",lifeExp:76.384,pop:3447496,gdpPercap:10611.46299},{country:"Venezuela",continent:"Americas",lifeExp:73.747,pop:26084662,gdpPercap:11415.80569},{country:"Vietnam",continent:"Asia",lifeExp:74.249,pop:85262356,gdpPercap:2441.576404},{country:"West Bank and Gaza",continent:"Asia",lifeExp:73.422,pop:4018332,gdpPercap:3025.349798},{country:"Yemen, Rep.",continent:"Asia",lifeExp:62.698,pop:22211743,gdpPercap:2280.769906},{country:"Zambia",continent:"Africa",lifeExp:42.384,pop:11746035,gdpPercap:1271.211593},{country:"Zimbabwe",continent:"Africa",lifeExp:43.487,pop:12311143,gdpPercap:469.7092981}],u=t(8875);function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],i=!0,r=!1,o=void 0;try{for(var p,c=e[Symbol.iterator]();!(i=(p=c.next()).done)&&(t.push(p.value),!n||t.length!==n);i=!0);}catch(a){r=!0,o=a}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var x={top:30,right:30,bottom:80,left:100},h=function(e){var n=e.width,t=e.height,o=e.data,p=(0,r.useRef)(null),c=n-x.right-x.left,a=t-x.top-x.bottom,l=(0,r.useMemo)((function(){var e=f(u.Wem(o.map((function(e){return e.lifeExp}))),2),n=e[0],t=e[1];return u.BYU().domain([n,t]).range([a,0]).nice()}),[o,t]),s=(0,r.useMemo)((function(){var e=f(u.Wem(o.map((function(e){return e.gdpPercap}))),2),n=(e[0],e[1]);return u.BYU().domain([0,n]).range([0,c]).nice()}),[o,n]),d=o.map((function(e){return e.continent})).filter((function(e,n,t){return t.indexOf(e)==n})),h=u.PKp().domain(d).range(["#e0ac2b","#e85252","#6689c6","#9a6fb0","#a53253"]),g=(0,r.useMemo)((function(){var e=f(u.Wem(o.map((function(e){return e.pop}))),2),n=e[0],t=e[1];return u.PUr().domain([n,t]).range([4,40])}),[o,n]);(0,r.useEffect)((function(){var e=u.Ys(p.current);e.selectAll("*").remove();var n=u.LLu(s);e.append("g").attr("transform","translate(0,"+(a+20)+")").call(n),e.append("text").attr("font-size",12).attr("text-anchor","end").attr("x",c).attr("y",a+60).text("Gdp per Capita");var t=u.y4O(l);e.append("g").attr("transform","translate(-20,0)").call(t),e.append("text").attr("font-size",12).attr("text-anchor","end").attr("x",0).attr("y",-60).text("Life expectancy").attr("transform","rotate(-90)")}),[s,l,a,c]);var y=o.sort((function(e,n){return n.pop-e.pop})).map((function(e,n){return(0,i.jsx)("circle",{r:g(e.pop),cx:s(e.gdpPercap),cy:l(e.lifeExp),opacity:1,stroke:h(e.continent),fill:h(e.continent),fillOpacity:.4,strokeWidth:1},n)}));return(0,i.jsx)("div",{children:(0,i.jsxs)("svg",{width:n,height:t,children:[(0,i.jsx)("g",{width:c,height:a,transform:"translate(".concat([x.left,x.top].join(","),")"),children:y}),(0,i.jsx)("g",{width:c,height:a,ref:p,transform:"translate(".concat([x.left,x.top].join(","),")")})]})})},g=function(e){var n=e.width,t=void 0===n?700:n,r=e.height,o=void 0===r?400:r;return(0,i.jsx)(h,{data:d,width:t,height:o})},y=[{country:"Afghanistan",continent:"Asia",lifeExp:43.828,pop:31889923,gdpPercap:974.5803384},{country:"Albania",continent:"Europe",lifeExp:76.423,pop:3600523,gdpPercap:5937.029526},{country:"Algeria",continent:"Africa",lifeExp:72.301,pop:33333216,gdpPercap:6223.367465},{country:"Angola",continent:"Africa",lifeExp:42.731,pop:12420476,gdpPercap:4797.231267},{country:"Argentina",continent:"Americas",lifeExp:75.32,pop:40301927,gdpPercap:12779.37964},{country:"Australia",continent:"Oceania",lifeExp:81.235,pop:20434176,gdpPercap:34435.36744},{country:"Austria",continent:"Europe",lifeExp:79.829,pop:8199783,gdpPercap:36126.4927},{country:"Bahrain",continent:"Asia",lifeExp:75.635,pop:708573,gdpPercap:29796.04834},{country:"Bangladesh",continent:"Asia",lifeExp:64.062,pop:150448339,gdpPercap:1391.253792},{country:"Belgium",continent:"Europe",lifeExp:79.441,pop:10392226,gdpPercap:33692.60508},{country:"Benin",continent:"Africa",lifeExp:56.728,pop:8078314,gdpPercap:1441.284873},{country:"Bolivia",continent:"Americas",lifeExp:65.554,pop:9119152,gdpPercap:3822.137084},{country:"Bosnia and Herzegovina",continent:"Europe",lifeExp:74.852,pop:4552198,gdpPercap:7446.298803},{country:"Botswana",continent:"Africa",lifeExp:50.728,pop:1639131,gdpPercap:12569.85177},{country:"Brazil",continent:"Americas",lifeExp:72.39,pop:190010647,gdpPercap:9065.800825},{country:"Bulgaria",continent:"Europe",lifeExp:73.005,pop:7322858,gdpPercap:10680.79282},{country:"Burkina Faso",continent:"Africa",lifeExp:52.295,pop:14326203,gdpPercap:1217.032994},{country:"Burundi",continent:"Africa",lifeExp:49.58,pop:8390505,gdpPercap:430.0706916},{country:"Cambodia",continent:"Asia",lifeExp:59.723,pop:14131858,gdpPercap:1713.778686},{country:"Cameroon",continent:"Africa",lifeExp:50.43,pop:17696293,gdpPercap:2042.09524},{country:"Canada",continent:"Americas",lifeExp:80.653,pop:33390141,gdpPercap:36319.23501},{country:"Central African Republic",continent:"Africa",lifeExp:44.741,pop:4369038,gdpPercap:706.016537},{country:"Chad",continent:"Africa",lifeExp:50.651,pop:10238807,gdpPercap:1704.063724},{country:"Chile",continent:"Americas",lifeExp:78.553,pop:16284741,gdpPercap:13171.63885},{country:"China",continent:"Asia",lifeExp:72.961,pop:1318683096,gdpPercap:4959.114854},{country:"Colombia",continent:"Americas",lifeExp:72.889,pop:44227550,gdpPercap:7006.580419},{country:"Comoros",continent:"Africa",lifeExp:65.152,pop:710960,gdpPercap:986.1478792},{country:"Congo, Dem. Rep.",continent:"Africa",lifeExp:46.462,pop:64606759,gdpPercap:277.5518587},{country:"Congo, Rep.",continent:"Africa",lifeExp:55.322,pop:3800610,gdpPercap:3632.557798},{country:"Costa Rica",continent:"Americas",lifeExp:78.782,pop:4133884,gdpPercap:9645.06142},{country:"Cote d'Ivoire",continent:"Africa",lifeExp:48.328,pop:18013409,gdpPercap:1544.750112},{country:"Croatia",continent:"Europe",lifeExp:75.748,pop:4493312,gdpPercap:14619.22272},{country:"Cuba",continent:"Americas",lifeExp:78.273,pop:11416987,gdpPercap:8948.102923},{country:"Czech Republic",continent:"Europe",lifeExp:76.486,pop:10228744,gdpPercap:22833.30851},{country:"Denmark",continent:"Europe",lifeExp:78.332,pop:5468120,gdpPercap:35278.41874},{country:"Djibouti",continent:"Africa",lifeExp:54.791,pop:496374,gdpPercap:2082.481567},{country:"Dominican Republic",continent:"Americas",lifeExp:72.235,pop:9319622,gdpPercap:6025.374752},{country:"Ecuador",continent:"Americas",lifeExp:74.994,pop:13755680,gdpPercap:6873.262326},{country:"Egypt",continent:"Africa",lifeExp:71.338,pop:80264543,gdpPercap:5581.180998},{country:"El Salvador",continent:"Americas",lifeExp:71.878,pop:6939688,gdpPercap:5728.353514},{country:"Equatorial Guinea",continent:"Africa",lifeExp:51.579,pop:551201,gdpPercap:12154.08975},{country:"Eritrea",continent:"Africa",lifeExp:58.04,pop:4906585,gdpPercap:641.3695236},{country:"Ethiopia",continent:"Africa",lifeExp:52.947,pop:76511887,gdpPercap:690.8055759},{country:"Finland",continent:"Europe",lifeExp:79.313,pop:5238460,gdpPercap:33207.0844},{country:"France",continent:"Europe",lifeExp:80.657,pop:61083916,gdpPercap:30470.0167},{country:"Gabon",continent:"Africa",lifeExp:56.735,pop:1454867,gdpPercap:13206.48452},{country:"Gambia",continent:"Africa",lifeExp:59.448,pop:1688359,gdpPercap:752.7497265},{country:"Germany",continent:"Europe",lifeExp:79.406,pop:82400996,gdpPercap:32170.37442},{country:"Ghana",continent:"Africa",lifeExp:60.022,pop:22873338,gdpPercap:1327.60891},{country:"Greece",continent:"Europe",lifeExp:79.483,pop:10706290,gdpPercap:27538.41188},{country:"Guatemala",continent:"Americas",lifeExp:70.259,pop:12572928,gdpPercap:5186.050003},{country:"Guinea",continent:"Africa",lifeExp:56.007,pop:9947814,gdpPercap:942.6542111},{country:"Guinea-Bissau",continent:"Africa",lifeExp:46.388,pop:1472041,gdpPercap:579.231743},{country:"Haiti",continent:"Americas",lifeExp:60.916,pop:8502814,gdpPercap:1201.637154},{country:"Honduras",continent:"Americas",lifeExp:70.198,pop:7483763,gdpPercap:3548.330846},{country:"Hong Kong, China",continent:"Asia",lifeExp:82.208,pop:6980412,gdpPercap:39724.97867},{country:"Hungary",continent:"Europe",lifeExp:73.338,pop:9956108,gdpPercap:18008.94444},{country:"Iceland",continent:"Europe",lifeExp:81.757,pop:301931,gdpPercap:36180.78919},{country:"India",continent:"Asia",lifeExp:64.698,pop:1110396331,gdpPercap:2452.210407},{country:"Indonesia",continent:"Asia",lifeExp:70.65,pop:223547e3,gdpPercap:3540.651564},{country:"Iran",continent:"Asia",lifeExp:70.964,pop:69453570,gdpPercap:11605.71449},{country:"Iraq",continent:"Asia",lifeExp:59.545,pop:27499638,gdpPercap:4471.061906},{country:"Ireland",continent:"Europe",lifeExp:78.885,pop:4109086,gdpPercap:40675.99635},{country:"Israel",continent:"Asia",lifeExp:80.745,pop:6426679,gdpPercap:25523.2771},{country:"Italy",continent:"Europe",lifeExp:80.546,pop:58147733,gdpPercap:28569.7197},{country:"Jamaica",continent:"Americas",lifeExp:72.567,pop:2780132,gdpPercap:7320.880262},{country:"Japan",continent:"Asia",lifeExp:82.603,pop:127467972,gdpPercap:31656.06806},{country:"Jordan",continent:"Asia",lifeExp:72.535,pop:6053193,gdpPercap:4519.461171},{country:"Kenya",continent:"Africa",lifeExp:54.11,pop:35610177,gdpPercap:1463.249282},{country:"Korea, Dem. Rep.",continent:"Asia",lifeExp:67.297,pop:23301725,gdpPercap:1593.06548},{country:"Korea, Rep.",continent:"Asia",lifeExp:78.623,pop:49044790,gdpPercap:23348.13973},{country:"Kuwait",continent:"Asia",lifeExp:77.588,pop:2505559,gdpPercap:47306.98978},{country:"Lebanon",continent:"Asia",lifeExp:71.993,pop:3921278,gdpPercap:10461.05868},{country:"Lesotho",continent:"Africa",lifeExp:42.592,pop:2012649,gdpPercap:1569.331442},{country:"Liberia",continent:"Africa",lifeExp:45.678,pop:3193942,gdpPercap:414.5073415},{country:"Libya",continent:"Africa",lifeExp:73.952,pop:6036914,gdpPercap:12057.49928},{country:"Madagascar",continent:"Africa",lifeExp:59.443,pop:19167654,gdpPercap:1044.770126},{country:"Malawi",continent:"Africa",lifeExp:48.303,pop:13327079,gdpPercap:759.3499101},{country:"Malaysia",continent:"Asia",lifeExp:74.241,pop:24821286,gdpPercap:12451.6558},{country:"Mali",continent:"Africa",lifeExp:54.467,pop:12031795,gdpPercap:1042.581557},{country:"Mauritania",continent:"Africa",lifeExp:64.164,pop:3270065,gdpPercap:1803.151496},{country:"Mauritius",continent:"Africa",lifeExp:72.801,pop:1250882,gdpPercap:10956.99112},{country:"Mexico",continent:"Americas",lifeExp:76.195,pop:108700891,gdpPercap:11977.57496},{country:"Mongolia",continent:"Asia",lifeExp:66.803,pop:2874127,gdpPercap:3095.772271},{country:"Montenegro",continent:"Europe",lifeExp:74.543,pop:684736,gdpPercap:9253.896111},{country:"Morocco",continent:"Africa",lifeExp:71.164,pop:33757175,gdpPercap:3820.17523},{country:"Mozambique",continent:"Africa",lifeExp:42.082,pop:19951656,gdpPercap:823.6856205},{country:"Myanmar",continent:"Asia",lifeExp:62.069,pop:47761980,gdpPercap:944},{country:"Namibia",continent:"Africa",lifeExp:52.906,pop:2055080,gdpPercap:4811.060429},{country:"Nepal",continent:"Asia",lifeExp:63.785,pop:28901790,gdpPercap:1091.359778},{country:"Netherlands",continent:"Europe",lifeExp:79.762,pop:16570613,gdpPercap:36797.93332},{country:"New Zealand",continent:"Oceania",lifeExp:80.204,pop:4115771,gdpPercap:25185.00911},{country:"Nicaragua",continent:"Americas",lifeExp:72.899,pop:5675356,gdpPercap:2749.320965},{country:"Niger",continent:"Africa",lifeExp:56.867,pop:12894865,gdpPercap:619.6768924},{country:"Nigeria",continent:"Africa",lifeExp:46.859,pop:135031164,gdpPercap:2013.977305},{country:"Norway",continent:"Europe",lifeExp:80.196,pop:4627926,gdpPercap:49357.19017},{country:"Oman",continent:"Asia",lifeExp:75.64,pop:3204897,gdpPercap:22316.19287},{country:"Pakistan",continent:"Asia",lifeExp:65.483,pop:169270617,gdpPercap:2605.94758},{country:"Panama",continent:"Americas",lifeExp:75.537,pop:3242173,gdpPercap:9809.185636},{country:"Paraguay",continent:"Americas",lifeExp:71.752,pop:6667147,gdpPercap:4172.838464},{country:"Peru",continent:"Americas",lifeExp:71.421,pop:28674757,gdpPercap:7408.905561},{country:"Philippines",continent:"Asia",lifeExp:71.688,pop:91077287,gdpPercap:3190.481016},{country:"Poland",continent:"Europe",lifeExp:75.563,pop:38518241,gdpPercap:15389.92468},{country:"Portugal",continent:"Europe",lifeExp:78.098,pop:10642836,gdpPercap:20509.64777},{country:"Puerto Rico",continent:"Americas",lifeExp:78.746,pop:3942491,gdpPercap:19328.70901},{country:"Reunion",continent:"Africa",lifeExp:76.442,pop:798094,gdpPercap:7670.122558},{country:"Romania",continent:"Europe",lifeExp:72.476,pop:22276056,gdpPercap:10808.47561},{country:"Rwanda",continent:"Africa",lifeExp:46.242,pop:8860588,gdpPercap:863.0884639},{country:"Sao Tome and Principe",continent:"Africa",lifeExp:65.528,pop:199579,gdpPercap:1598.435089},{country:"Saudi Arabia",continent:"Asia",lifeExp:72.777,pop:27601038,gdpPercap:21654.83194},{country:"Senegal",continent:"Africa",lifeExp:63.062,pop:12267493,gdpPercap:1712.472136},{country:"Serbia",continent:"Europe",lifeExp:74.002,pop:10150265,gdpPercap:9786.534714},{country:"Sierra Leone",continent:"Africa",lifeExp:42.568,pop:6144562,gdpPercap:862.5407561},{country:"Singapore",continent:"Asia",lifeExp:79.972,pop:4553009,gdpPercap:47143.17964},{country:"Slovak Republic",continent:"Europe",lifeExp:74.663,pop:5447502,gdpPercap:18678.31435},{country:"Slovenia",continent:"Europe",lifeExp:77.926,pop:2009245,gdpPercap:25768.25759},{country:"Somalia",continent:"Africa",lifeExp:48.159,pop:9118773,gdpPercap:926.1410683},{country:"South Africa",continent:"Africa",lifeExp:49.339,pop:43997828,gdpPercap:9269.657808},{country:"Spain",continent:"Europe",lifeExp:80.941,pop:40448191,gdpPercap:28821.0637},{country:"Sri Lanka",continent:"Asia",lifeExp:72.396,pop:20378239,gdpPercap:3970.095407},{country:"Sudan",continent:"Africa",lifeExp:58.556,pop:42292929,gdpPercap:2602.394995},{country:"Swaziland",continent:"Africa",lifeExp:39.613,pop:1133066,gdpPercap:4513.480643},{country:"Sweden",continent:"Europe",lifeExp:80.884,pop:9031088,gdpPercap:33859.74835},{country:"Switzerland",continent:"Europe",lifeExp:81.701,pop:7554661,gdpPercap:37506.41907},{country:"Syria",continent:"Asia",lifeExp:74.143,pop:19314747,gdpPercap:4184.548089},{country:"Taiwan",continent:"Asia",lifeExp:78.4,pop:23174294,gdpPercap:28718.27684},{country:"Tanzania",continent:"Africa",lifeExp:52.517,pop:38139640,gdpPercap:1107.482182},{country:"Thailand",continent:"Asia",lifeExp:70.616,pop:65068149,gdpPercap:7458.396327},{country:"Togo",continent:"Africa",lifeExp:58.42,pop:5701579,gdpPercap:882.9699438},{country:"Trinidad and Tobago",continent:"Americas",lifeExp:69.819,pop:1056608,gdpPercap:18008.50924},{country:"Tunisia",continent:"Africa",lifeExp:73.923,pop:10276158,gdpPercap:7092.923025},{country:"Turkey",continent:"Europe",lifeExp:71.777,pop:71158647,gdpPercap:8458.276384},{country:"Uganda",continent:"Africa",lifeExp:51.542,pop:29170398,gdpPercap:1056.380121},{country:"United Kingdom",continent:"Europe",lifeExp:79.425,pop:60776238,gdpPercap:33203.26128},{country:"United ys",continent:"Americas",lifeExp:78.242,pop:301139947,gdpPercap:42951.65309},{country:"Uruguay",continent:"Americas",lifeExp:76.384,pop:3447496,gdpPercap:10611.46299},{country:"Venezuela",continent:"Americas",lifeExp:73.747,pop:26084662,gdpPercap:11415.80569},{country:"Vietnam",continent:"Asia",lifeExp:74.249,pop:85262356,gdpPercap:2441.576404},{country:"West Bank and Gaza",continent:"Asia",lifeExp:73.422,pop:4018332,gdpPercap:3025.349798},{country:"Yemen, Rep.",continent:"Asia",lifeExp:62.698,pop:22211743,gdpPercap:2280.769906},{country:"Zambia",continent:"Africa",lifeExp:42.384,pop:11746035,gdpPercap:1271.211593},{country:"Zimbabwe",continent:"Africa",lifeExp:43.487,pop:12311143,gdpPercap:469.7092981}],m=function(e){var n=e.scale,t=e.tickNumber,r=n.ticks(t),o=r[r.length-1],p=2*n(o),c=r.map((function(e,t){var r=p/2,o=p-2*n(e),c=p-n(e);return(0,i.jsxs)("g",{children:[(0,i.jsx)("circle",{cx:r,cy:c,r:n(e),fill:"none",stroke:"black"}),(0,i.jsx)("line",{x1:r,x2:r+50,y1:o,y2:o,stroke:"black",strokeDasharray:"2,2"}),(0,i.jsx)("text",{x:r+50+4,y:o,fontSize:10,alignmentBaseline:"middle",children:e})]},t)}));return(0,i.jsx)("svg",{width:"200",height:"100",overflow:"visible",children:c})};function E(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],i=!0,r=!1,o=void 0;try{for(var p,c=e[Symbol.iterator]();!(i=(p=c.next()).done)&&(t.push(p.value),!n||t.length!==n);i=!0);}catch(a){r=!0,o=a}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var P={top:30,right:30,bottom:80,left:100},b=function(e){var n=e.width,t=e.height,o=e.data,p=(0,r.useRef)(null),c=n-P.right-P.left,a=t-P.top-P.bottom,l=(0,r.useMemo)((function(){var e=E(u.Wem(o.map((function(e){return e.lifeExp}))),2),n=e[0],t=e[1];return u.BYU().domain([n,t]).range([a,0]).nice()}),[o,t]),s=(0,r.useMemo)((function(){var e=E(u.Wem(o.map((function(e){return e.gdpPercap}))),2),n=(e[0],e[1]);return u.BYU().domain([0,n]).range([0,c]).nice()}),[o,n]),d=o.map((function(e){return e.continent})).filter((function(e,n,t){return t.indexOf(e)==n})),f=u.PKp().domain(d).range(["#e0ac2b","#e85252","#6689c6","#9a6fb0","#a53253"]),x=(0,r.useMemo)((function(){var e=E(u.Wem(o.map((function(e){return e.pop}))),2),n=(e[0],e[1]);return u.PUr().domain([0,n]).range([4,40])}),[o,n]);(0,r.useEffect)((function(){var e=u.Ys(p.current);e.selectAll("*").remove();var n=u.LLu(s);e.append("g").attr("transform","translate(0,"+(a+20)+")").call(n),e.append("text").attr("font-size",12).attr("text-anchor","end").attr("x",c).attr("y",a+60).text("Gdp per Capita");var t=u.y4O(l);e.append("g").attr("transform","translate(-20,0)").call(t),e.append("text").attr("font-size",12).attr("text-anchor","end").attr("x",0).attr("y",-60).text("Life expectancy").attr("transform","rotate(-90)")}),[s,l,a,c]);var h=o.sort((function(e,n){return n.pop-e.pop})).map((function(e,n){return(0,i.jsx)("circle",{r:x(e.pop),cx:s(e.gdpPercap),cy:l(e.lifeExp),opacity:1,stroke:f(e.continent),fill:f(e.continent),fillOpacity:.4,strokeWidth:1},n)}));return(0,i.jsxs)("div",{style:{position:"relative",width:n,height:t},children:[(0,i.jsxs)("svg",{width:n,height:t,children:[(0,i.jsx)("g",{width:c,height:a,transform:"translate(".concat([P.left,P.top].join(","),")"),children:h}),(0,i.jsx)("g",{width:c,height:a,ref:p,transform:"translate(".concat([P.left,P.top].join(","),")")})]}),(0,i.jsx)("div",{style:{position:"absolute",right:0,bottom:100},children:(0,i.jsx)(m,{scale:x,tickNumber:4})})]})},A=function(e){var n=e.width,t=void 0===n?700:n,r=e.height,o=void 0===r?400:r;return(0,i.jsx)(b,{data:y,width:t,height:o})},j=t(2199),v=t(3990),w=t(1751),k=function(e){var n=e.scale,t=e.tickNumber,r=n.ticks(t),o=r[r.length-1],p=2*n(o),c=p/2+10,a=r.map((function(e,t){var r=p/2,o=p-2*n(e),a=p-n(e);return(0,i.jsxs)("g",{children:[(0,i.jsx)("circle",{cx:r,cy:a,r:n(e),fill:"none",stroke:"black"}),(0,i.jsx)("line",{x1:r,x2:r+c,y1:o,y2:o,stroke:"black",strokeDasharray:"2,2"}),(0,i.jsx)("text",{x:r+c+4,y:o,fontSize:10,alignmentBaseline:"middle",children:e})]},t)}));return(0,i.jsx)("svg",{width:p,height:p,overflow:"visible",children:a})},N=function(e){var n=e.width,t=void 0===n?700:n,r=e.height,o=void 0===r?400:r,p=u.PUr().domain([0,100]).range([0,80]).nice();return(0,i.jsx)("div",{style:{width:t,height:o,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)(k,{scale:p,tickNumber:4})})},z=t(3359),C=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:["A ",(0,i.jsx)("a",{href:"https://www.data-to-viz.com/graph/bubble.html",children:"bubble plot"})," ","is an extension of a ",(0,i.jsx)(s.default,{href:"scatter-plot",children:"scatterplot"}),", where each circle has its size proportional to a numeric value. This page is a step-by-step guide on how to build your own bubble chart for the web, using ",(0,i.jsx)("a",{href:"https://reactjs.org/",children:"React"})," and"," ",(0,i.jsx)("a",{href:"https://d3-graph-gallery.com/histogram",children:"D3.js"}),"."]}),(0,i.jsxs)("p",{children:["This page focuses on the implentation of features that are"," ",(0,i.jsx)("b",{children:"different of the scatterplot"})," that has its"," ",(0,i.jsx)(s.default,{href:"scatter-plot",children:"own dedicated section"}),". It describes how the ",(0,i.jsx)("b",{children:"dataset"})," differs, how the ",(0,i.jsx)("b",{children:"circle size"})," can be mapped to a numeric value and how to explicit it using a ",(0,i.jsx)("b",{children:"legend"}),". Last but not least it explains how to add ",(0,i.jsx)("b",{children:"interactivity"}),": hover effect, tooltip and dataset transition. \ud83d\ude47\u200d\u2642\ufe0f."]})]});function S(){return(0,i.jsxs)(o.A,{title:"Bubble plot with React",seoDescription:"How to build a bubble plot with React and D3.js. A set of re-usable components",children:[(0,i.jsx)(p.Z,{title:"Bubble plot",description:C,chartType:"bubble"}),(0,i.jsx)("h2",{id:"data",children:"The Data"})," ",(0,i.jsxs)("p",{children:["The dataset used to build a bubble plot is usually an array of object where each object is a data point. For each object, at least"," ",(0,i.jsx)("b",{children:"3 properties"})," are required."]}),(0,i.jsxs)("p",{children:["Two properties are used for the ",(0,i.jsx)("b",{children:"X"})," and ",(0,i.jsx)("b",{children:"Y"})," axis, the third one is used for the circle ",(0,i.jsx)("b",{children:"size"}),"."]}),(0,i.jsxs)("p",{children:["Note that you can add more properties to the object. For instance, a"," ",(0,i.jsx)("code",{children:"name"})," can be displayed in the tooltip, and a"," ",(0,i.jsx)("code",{children:"group"})," can be used to color the bubbles."]}),(0,i.jsx)(a.d,{code:B}),(0,i.jsxs)("p",{children:[(0,i.jsx)("u",{children:"Note"}),": this post is mainly based on the"," ",(0,i.jsx)("a",{href:"https://www.data-to-viz.com/story/ThreeNum.html",children:"gapminder"})," ","dataset that provides some info like the life expectancy and the population for every country."]}),(0,i.jsx)("h2",{id:"scatter plot",children:"Extending the scatter plot"}),(0,i.jsxs)("p",{children:["A bubble chart is just an extension of a"," ",(0,i.jsx)(s.default,{href:"/scatter-plot",children:"scatter plot"}),". The only difference is that a third numeric variable is represented, mapped to the"," ",(0,i.jsx)("b",{children:"circle size"}),"."]}),(0,i.jsxs)("p",{children:["As a result, please start by visiting the dedicated scatter plot"," ",(0,i.jsx)(s.default,{href:"/scatter-plot",children:"page"})," that explains how to draw"," ",(0,i.jsx)(s.default,{href:"/scatter-plot#scales%20and%20axes",children:"axes"}),","," ",(0,i.jsx)(s.default,{href:"/scatter-plot#circles",children:"circles"}),", and show how to add basic interactions like"," ",(0,i.jsx)(s.default,{href:"/scatter-plot#hover%20effect",children:"hover effects"})," and"," ",(0,i.jsx)(s.default,{href:"/scatter-plot#tooltip",children:"tooltips"}),"."]}),(0,i.jsxs)(j.E,{children:[(0,i.jsx)(v.X,{link:"scatter-plot#scales%20and%20axes",title:"Scales and axes",description:(0,i.jsx)("p",{children:"How to map your data in a 2d space, and how to draw the axes"}),img:"axis-basic-demo.png",alt:"Picture of an empty chart area with X and Y axes"}),(0,i.jsx)(v.X,{link:"scatter-plot#circles",title:"Basic scatter plot",description:(0,i.jsx)("p",{children:"Add circles to get a basic scatter plot"}),img:"scatterplot-most-basic.png",alt:"Most basic scatterplot made with react and d3"}),(0,i.jsx)(v.X,{link:"scatter-plot#tooltip",title:"Add tooltip",description:(0,i.jsx)("p",{children:"Get more details about each datapoint by adding a tooltip on hover"}),img:"scatterplot-tooltip.png",alt:"Scatterplot with tooltip made with react and d3"}),(0,i.jsx)(v.X,{link:"scatter-plot#hover%20effect",title:"Add a hover effect",description:(0,i.jsx)("p",{children:"Highlight a specific group on hover"}),img:"scatterplot-hover-effect.png",alt:"Scatterplot with hover effect made with react and d3"}),(0,i.jsx)(v.X,{link:"scatter-plot#hover%20effect",title:"Real life use-case",description:(0,i.jsx)("p",{children:"Reproduction of a data wrapper chart representing countries CO2 data"}),img:"scatterplot-co2.png",alt:"Real life example of a scatterplot made with react and d3"})]}),(0,i.jsx)("p",{className:"mt-4",children:"Once you understood those fundamental concepts, you're ready to browse the following examples to build a bubble chart."}),(0,i.jsx)("h2",{id:"bubble",children:"Control the circle sizes to make bubbles"}),(0,i.jsxs)("p",{children:["We need to make the circle size ",(0,i.jsx)("b",{children:"proportional"})," to a numeric value. Note that it is the area that must be proportional,"," ",(0,i.jsx)("a",{href:"https://www.data-to-viz.com/caveat/radius_or_area.html",children:"not the radius"}),"."]}),(0,i.jsxs)("p",{children:["To do so, d3.js offers a ",(0,i.jsx)("code",{children:"scaleSqrt()"})," function that constructs a new continuous ",(0,i.jsx)("b",{children:"power scale"}),". That's the transformation we need. Building the scale looks like this:"]}),(0,i.jsx)(a.d,{code:T}),(0,i.jsx)("p",{children:"Note that a bubble chart often has circle overlaps. It's strongly advised to use transparency and to sort the data: draw the big bubbles below, the small ones on top."}),(0,i.jsx)(l.$,{VizComponent:g,vizName:"BubblePlotBasic",maxWidth:600,height:500,caption:"A clean bubble chart built with d3.js in a react context. A color scale is used to represent a categorical variable."}),(0,i.jsx)("div",{className:"my-10",children:(0,i.jsxs)("blockquote",{children:[(0,i.jsx)("b",{children:"Note"}),": The above example uses the ",(0,i.jsx)("b",{children:"d3.js imperative style"})," ","to build the axes. This can also be done building your own axis component like"," ",(0,i.jsx)(s.default,{href:"scatter-plot#scales%20and%20axes",children:"here"}),". I'll write more about this in the near ",(0,i.jsx)(s.default,{href:"/subscribe",children:"future"}),"."]})}),(0,i.jsxs)("p",{children:["This is starting to look not too bad, but we definitely need a"," ",(0,i.jsx)("b",{children:"legend"})," here, to understand what the size and color of each circle mean."]}),(0,i.jsx)("h2",{id:"legend",children:"Adding a legend"}),(0,i.jsxs)("p",{children:["There are"," ",(0,i.jsx)("a",{href:"https://d3-graph-gallery.com/graph/custom_legend.html",children:"many different ways"})," ","to add a legend to a d3.js graph. What we mainly need here is to make sense of the ",(0,i.jsx)("b",{children:"bubble size"}),". I suggest to use a set of ",(0,i.jsx)("b",{children:"nested"})," ","bubbles, showing a few of the bubble sizes used on the chart with their respective values."]}),(0,i.jsx)(l.$,{VizComponent:N,vizName:"BubbleLegend",maxWidth:300,height:300,caption:"A legend to make sense of circle size, based on a d3 scale."}),(0,i.jsxs)("p",{children:["This legend is implemented in a ",(0,i.jsx)("code",{children:"BubbleLegend"})," component that expects 2 props:",(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"scale"}),": the size scale that we described"," ",(0,i.jsx)("a",{href:"#bubble",children:"above"}),", built with the ",(0,i.jsx)("code",{children:"scaleSqrt"})," ","function."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"tickNumber"}),": the number of circles to show on the legend."]})]}),(0,i.jsxs)("p",{children:["Note that ",(0,i.jsx)("code",{children:"tickNumber"})," is a target. The legend component uses the ",(0,i.jsx)("code",{children:"tick()"})," function with this value, which returns a smart number of circle to approximate the goal while keeping some nice, smart values."]}),(0,i.jsx)("p",{children:"You can check the complete implementation of the legend here:"}),(0,i.jsx)(z.U,{startOpen:!1,title:(0,i.jsxs)("span",{children:[(0,i.jsx)("code",{children:"BubbleLegend"}),": a component to build a legend for circle sizes"]}),children:(0,i.jsx)(a.d,{code:L})})]}),(0,i.jsxs)("p",{children:["It's important to note that the component does ",(0,i.jsx)("b",{children:"not"})," expect any dimension as prop. The ",(0,i.jsx)("code",{children:"width"})," and ",(0,i.jsx)("code",{children:"height"})," of the SVG element that is created will be computed fron the ",(0,i.jsx)("code",{children:"scale"})," ","that is provided."]}),(0,i.jsx)("p",{children:"As a result, you only need to think about the position of the legend on your chart. Here is an example adding it at the bottom right of the chart."}),(0,i.jsx)(l.$,{VizComponent:A,vizName:"BubblePlotLegend",maxWidth:600,height:500,caption:"Adding a legend to make sense of the bubble size. Legend is hand made, adding svg shapes with React."}),(0,i.jsx)("h2",{id:"real life",children:"Real-life application"}),(0,i.jsx)("p",{children:"Let's apply the concepts learned above to a real-life example."}),(0,i.jsxs)("p",{children:["I like this scatterplot originally published on the data wrapper"," ",(0,i.jsx)("a",{href:"https://blog.datawrapper.de/climate-risk-readiness-responsibility/",children:"blog"}),". It shows a strong correlation between vulnerability to climate change and CO2 emissions."]}),(0,i.jsx)("br",{}),(0,i.jsx)("p",{children:"The chart has several features that are interesting to reproduce fom a technical point of view:"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:["Custom ",(0,i.jsx)("b",{children:"annotation"}),": only a fraction of the country names are written"]}),(0,i.jsx)("li",{children:"Hover effect: the hovered country is highlighted with a black stroke. After a short delay, countries of other groups are dimmed. Note that the effect is triggered once the mouse approaches the marker, no need to be perfectly on top."}),(0,i.jsx)("li",{children:"Tooltip: highly customized and linked to the mouse position"})]}),(0,i.jsx)(l.$,{VizComponent:w.z,vizName:"ScatterplotClimateCrisis",maxWidth:700,height:900,caption:(0,i.jsxs)("span",{children:["Reproduction of a chart originally published by"," ",(0,i.jsx)("a",{href:"https://blog.datawrapper.de/climate-risk-readiness-responsibility/",children:"Data Wrapper"})," ","using react and d3.js."]})}),(0,i.jsx)("div",{className:"full-bleed border-t h-0 bg-gray-100 mb-3 mt-24"}),(0,i.jsx)(c.Z,{chartFamily:"correlation"}),(0,i.jsx)("div",{className:"mt-20"})]})}var B='\nconst data = [\n  {\n    "x": 43.828,\n    "y": 31889923,\n    "size": 974.5803384\n    "name": "Afghanistan",\n    "group": "Asia",\n  },\n  {\n    "x": 76.423,\n    "y": 3600523,\n    "size": 5937.029526\n    "name": "Albania",\n    "group": "Europe",\n  },\n  ...\n]\n'.trim(),L='\ntype BubbleLegendProps = {\n  scale: d3.ScaleLinear<number, number, never>;\n  tickNumber: number;\n};\n\nexport const BubbleLegend = ({ scale, tickNumber }: BubbleLegendProps) => {\n  const ticks = scale.ticks(tickNumber);\n  const maxValue = ticks[ticks.length - 1];\n\n  const diameter = scale(maxValue) * 2; // diameter of the biggest circle\n\n  const dashWidth = diameter / 2 + 10;\n\n  const allCircles = ticks.map((tick, i) => {\n    const xCenter = diameter / 2;\n    const yCircleTop = diameter - 2 * scale(tick);\n    const yCircleCenter = diameter - scale(tick);\n\n    return (\n      <g key={i}>\n        <circle\n          cx={xCenter}\n          cy={yCircleCenter}\n          r={scale(tick)}\n          fill="none"\n          stroke="black"\n        />\n        <line\n          x1={xCenter}\n          x2={xCenter + dashWidth}\n          y1={yCircleTop}\n          y2={yCircleTop}\n          stroke="black"\n          strokeDasharray={"2,2"}\n        />\n        <text\n          x={xCenter + dashWidth + 4}\n          y={yCircleTop}\n          fontSize={10}\n          alignmentBaseline="middle"\n        >\n          {tick}\n        </text>\n      </g>\n    );\n  });\n\n  return (\n    <svg width={diameter} height={diameter} overflow="visible">\n      {allCircles}\n    </svg>\n  );\n};\n'.trim(),T="\nreturn d3\n  .scaleSqrt()\n  .domain([min, max])\n  .range([BUBBLE_MIN_SIZE, BUBBLE_MAX_SIZE]);\n".trim()},5102:function(e){e.exports={container:"graphLinkImage_container__6vbL1",title:"graphLinkImage_title__86b4Y"}},3187:function(e){e.exports={tooltip:"tooltip_tooltip__Fv96Y",right:"tooltip_right__lXq9G",left:"tooltip_left__hUc5l",bottom:"tooltip_bottom__Qzoh5",top:"tooltip_top__qDz28"}},3924:function(e){e.exports={tableOfContent:"table-of-content_tableOfContent__oi0XB",tocItem:"table-of-content_tocItem__fZBSX",tocItemActive:"table-of-content_tocItemActive__kiClt"}}},function(e){e.O(0,[8109,5660,358,7784,9774,2888,179],(function(){return n=3035,e(e.s=n);var n}));var n=e.O();_N_E=n}]);