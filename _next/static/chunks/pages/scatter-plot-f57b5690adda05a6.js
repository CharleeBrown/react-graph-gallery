(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1792],{4657:function(e,o,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/scatter-plot",function(){return r(9438)}])},2173:function(e,o,r){"use strict";r.d(o,{r:function(){return c}});var a=r(5893),t=r(1664),i=r(1878),n=r(3359),s=r(8193),c=function(e){var o=e.chartId,r=i.c.filter((function(e){return e.id===o}))[0].label;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{id:"responsiveness",children:"Responsive "+r+" with react"}),(0,a.jsxs)("p",{children:["The component above is not responsive. It expects 2 props called"," ",(0,a.jsx)("code",{children:"width"})," and ",(0,a.jsx)("code",{children:"height"})," and will render a ",r," of those dimensions."]}),(0,a.jsxs)("p",{children:["Making the ",r," responsive requires to add a ",(0,a.jsx)("b",{children:"wrapper"})," component that gets the dimension of the parent ",(0,a.jsx)("code",{children:"div"}),", and listen to a potential dimension change. This is possible thanks to a hook called"," ",(0,a.jsx)("code",{children:"useDimensions"})," that will do the job for us."]}),(0,a.jsx)(n.U,{startOpen:!1,title:"useDimensions: a hook to make your viz responsive",children:(0,a.jsx)(s.d,{code:l})}),(0,a.jsxs)("p",{children:["I'm in the process of writing a complete blog post on the topic."," ",(0,a.jsx)(t.default,{href:"/subscribe",children:"Subscribe to the project"})," to know when it's ready."]}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{})]})},l='\nexport const useDimensions = (targetRef: React.RefObject<HTMLDivElement>) => {\n\n  const getDimensions = () => {\n    return {\n      width: targetRef.current ? targetRef.current.offsetWidth : 0,\n      height: targetRef.current ? targetRef.current.offsetHeight : 0\n    };\n  };\n\n  const [dimensions, setDimensions] = useState(getDimensions);\n\n  const handleResize = () => {\n    setDimensions(getDimensions());\n  };\n\n  useEffect(() => {\n    window.addEventListener("resize", handleResize);\n    return () => window.removeEventListener("resize", handleResize);\n  }, []);\n\n  useLayoutEffect(() => {\n    handleResize();\n  }, []);\n\n  return dimensions;\n}\n'.trim()},3359:function(e,o,r){"use strict";r.d(o,{U:function(){return t}});var a=r(5893),t=function(e){e.startOpen;var o=e.title,r=e.children;return(0,a.jsxs)("details",{className:"bg-gray-50 py-2 px-4 rounded-md my-2",children:[(0,a.jsx)("summary",{className:"cursor-pointer",children:o}),r]})}},9438:function(e,o,r){"use strict";r.r(o),r.d(o,{default:function(){return I}});var a=r(5893),t=r(7294),i=r(1884),n=r(8807),s=r(7197),c=r(8193),l=r(33),d=r(993),u=[{name:"Afghanistan",x:.579127974169232,y:.239126606182841,categoryy:"RED",size:.159824372036919,color:"#c71e1d"},{name:"Albania",x:.414296228670883,y:.409452983371096,categoryy:"GREEN",size:1.69224831964856,color:"#00dca6"},{name:"Algeria",x:.389748333847268,y:.33068109430508,categoryy:"YELLOW",size:3.9776504588966,color:"#fa8c00"},{name:"Angola",x:.50532047523413,y:.262540372073311,categoryy:"RED",size:.792137069457626,color:"#c71e1d"},{name:"Antigua and Barbuda",x:.476997634158097,y:.445502844232243,categoryy:"BLUE",size:5.35447645499165,color:"#18a1cd"},{name:"Argentina",x:.406644187783349,y:.382984241046119,categoryy:"YELLOW",size:3.74065029063396,color:"#fa8c00"},{name:"Armenia",x:.395828800362673,y:.507571569291164,categoryy:"GREEN",size:2.08606067775467,color:"#00dca6"},{name:"Australia",x:.320237387751433,y:.690156787839352,categoryy:"GREEN",size:15.2382671504147,color:"#00dca6"},{name:"Austria",x:.283778088642241,y:.68665626105961,categoryy:"GREEN",size:7.2939842524557,color:"#00dca6"},{name:"Azerbaijan",x:.437297489158371,y:.438662422225791,categoryy:"BLUE",size:3.54239782750878,color:"#18a1cd"},{name:"Bahamas",x:.457091046686675,y:.424584161286116,categoryy:"BLUE",size:7.29166109736758,color:"#18a1cd"},{name:"Bahrain",x:.451570981043787,y:.506402068441481,categoryy:"BLUE",size:20.2661027913927,color:"#18a1cd",annotation:"right"},{name:"Bangladesh",x:.540541477723985,y:.278169384035553,categoryy:"RED",size:.556529455394022,color:"#c71e1d"},{name:"Barbados",x:.38595855876077,y:.536692412450074,categoryy:"GREEN",size:4.35508203232516,color:"#00dca6"},{name:"Belarus",x:.344871941616698,y:.501969625748656,categoryy:"GREEN",size:6.12223776544422,color:"#00dca6"},{name:"Belgium",x:.345962866549964,y:.600662947200381,categoryy:"GREEN",size:8.09558395403513,color:"#00dca6"},{name:"Belize",x:.4580070142531,y:.334759598880295,categoryy:"RED",size:1.63955000933746,color:"#c71e1d"},{name:"Benin",x:.572222301609624,y:.336605947759305,categoryy:"RED",size:.618583745834187,color:"#c71e1d"},{name:"Bhutan",x:.519266852623236,y:.476220953489274,categoryy:"BLUE",size:1.37597720898904,color:"#18a1cd"},{name:"Bolivia",x:.459757626143376,y:.286764268477931,categoryy:"RED",size:1.94039800503704,color:"#c71e1d"},{name:"Bosnia and Herzegovina",x:.368691574865469,y:.362408329731066,categoryy:"YELLOW",size:6.38291804321729,color:"#fa8c00"},{name:"Botswana",x:.46597224285913,y:.432771276990344,categoryy:"BLUE",size:3.14710707065972,color:"#18a1cd"},{name:"Brazil",x:.395471620559677,y:.35771468951001,categoryy:"YELLOW",size:2.05781083913756,color:"#fa8c00"},{name:"Brunei Darussalam",x:.37141027581382,y:.533100628846571,categoryy:"GREEN",size:16.1321585500862,color:"#00dca6"},{name:"Bulgaria",x:.365433623977627,y:.464001251102273,categoryy:"GREEN",size:5.61085727989368,color:"#00dca6"},{name:"Burkina Faso",x:.546813190049424,y:.290420088841339,categoryy:"RED",size:.246046245966625,color:"#c71e1d"},{name:"Burundi",x:.557556129966142,y:.267934246229784,categoryy:"RED",size:.062442671221937,color:"#c71e1d"},{name:"Cambodia",x:.507016430269283,y:.281663243165067,categoryy:"RED",size:.981406549971231,color:"#c71e1d"},{name:"Cameroon",x:.479758927813646,y:.258881746461065,categoryy:"RED",size:.364424921654471,color:"#c71e1d"},{name:"Canada",x:.300828794077842,y:.651613874467236,categoryy:"GREEN",size:15.4306128276297,color:"#00dca6"},{name:"Cape Verde",x:.413089718618035,y:.443865532361666,categoryy:"GREEN",size:1.18195567512973,color:"#00dca6"},{name:"Central African Republic",x:.592627144849475,y:.135595938472813,categoryy:"RED",size:.0505776483111769,color:"#c71e1d"},{name:"Chad",x:.657945603513661,y:.191685215161874,categoryy:"RED",size:.1410934124928,color:"#c71e1d",annotation:"bottom"},{name:"Chile",x:.324555053301059,y:.54272754798027,categoryy:"GREEN",size:4.82111829925293,color:"#00dca6"},{name:"China",x:.395612598396916,y:.552967567166084,categoryy:"GREEN",size:7.60593696057347,color:"#00dca6"},{name:"Colombia",x:.417235208162047,y:.378494336398517,categoryy:"YELLOW",size:1.60987083062336,color:"#fa8c00"},{name:"Comoros",x:.530662009584337,y:.280681881384671,categoryy:"RED",size:.376076363303223,color:"#c71e1d"},{name:"Congo",x:.522542549789341,y:.219282389752764,categoryy:"RED",size:1.34931601739946,color:"#c71e1d"},{name:"The Democratic Republic of Congo",x:.586037432704819,y:.207552355543295,categoryy:"RED",size:.0369855862465028,color:"#c71e1d"},{name:"Costa Rica",x:.382542503288403,y:.45827917336291,categoryy:"GREEN",size:1.63247155826708,color:"#00dca6"},{name:"Cote d'Ivoire",x:.51290448737715,y:.305080511398472,categoryy:"RED",size:.421129515397207,color:"#c71e1d"},{name:"Croatia",x:.392475341093212,y:.488179565408804,categoryy:"GREEN",size:4.06370783264011,color:"#00dca6"},{name:"Cuba",x:.435315317999228,y:.34975367562749,categoryy:"RED",size:2.28614606482985,color:"#c71e1d"},{name:"Cyprus",x:.365165764751173,y:.516949897111718,categoryy:"GREEN",size:5.99879528274471,color:"#00dca6"},{name:"Czech Republic",x:.302833602625537,y:.555018810496946,categoryy:"GREEN",size:9.02278615795801,color:"#00dca6",annotation:"left"},{name:"Denmark",x:.353538132824533,y:.77545846168407,categoryy:"GREEN",size:5.10798850907958,color:"#00dca6"},{name:"Djibouti",x:.480784656143433,y:.329372435651344,categoryy:"RED",size:.431407700717039,color:"#c71e1d"},{name:"Dominica",x:.446063063959427,y:.518993728865508,categoryy:"BLUE",size:2.36742426732591,color:"#18a1cd"},{name:"Dominican Republic",x:.426534383630144,y:.355894581490989,categoryy:"YELLOW",size:2.53562795178678,color:"#fa8c00"},{name:"Ecuador",x:.447384739764334,y:.335181308998329,categoryy:"RED",size:2.26146981694915,color:"#c71e1d"},{name:"Egypt",x:.441629495785939,y:.343858525274108,categoryy:"RED",size:2.48405991083232,color:"#c71e1d"},{name:"El Salvador",x:.44400821988805,y:.346666807511202,categoryy:"RED",size:1.20863713626374,color:"#c71e1d"},{name:"Equatorial Guinea",x:.443788562863465,y:.236992667746831,categoryy:"RED",size:3.94548003191235,color:"#c71e1d"},{name:"Eritrea",x:.590837015905184,y:.212355547875245,categoryy:"RED",size:.251635846107416,color:"#c71e1d"},{name:"Estonia",x:.363234597779934,y:.618477834692047,categoryy:"GREEN",size:7.67227790917304,color:"#00dca6"},{name:"Ethiopia",x:.563030420255687,y:.306121825323745,categoryy:"RED",size:.16381342920099,color:"#c71e1d"},{name:"Fiji",x:.436204151790743,y:.472425835105015,categoryy:"BLUE",size:1.83155327542587,color:"#18a1cd"},{name:"Finland",x:.309758545807706,y:.750667267315567,categoryy:"GREEN",size:7.37285476082008,color:"#00dca6"},{name:"France",x:.309778348241167,y:.648524987466746,categoryy:"GREEN",size:4.46877008881409,color:"#00dca6"},{name:"Gabon",x:.423869106193023,y:.297962162664258,categoryy:"YELLOW",size:2.41648401116093,color:"#fa8c00"},{name:"Gambia",x:.545363626154438,y:.328818963998126,categoryy:"RED",size:.247050718368434,color:"#c71e1d"},{name:"Georgia",x:.409754145759607,y:.566164135033675,categoryy:"GREEN",size:2.71762422558518,color:"#00dca6"},{name:"Germany",x:.293203933662162,y:.690177173155596,categoryy:"GREEN",size:7.91162101567715,color:"#00dca6"},{name:"Ghana",x:.470845563459753,y:.350604238196081,categoryy:"RED",size:.658823540945168,color:"#c71e1d"},{name:"Greece",x:.327295728286493,y:.531361436157473,categoryy:"GREEN",size:5.59618906985928,color:"#00dca6"},{name:"Grenada",x:.390286164809319,y:.462066615617136,categoryy:"GREEN",size:2.94637607465065,color:"#00dca6"},{name:"Guatemala",x:.447415737786393,y:.315931525390814,categoryy:"RED",size:1.16297092439764,color:"#c71e1d"},{name:"Guinea",x:.53209034100728,y:.312703709206483,categoryy:"RED",size:.30928854143783,color:"#c71e1d"},{name:"Guinea-Bissau",x:.658196949582899,y:.269287965355595,categoryy:"RED",size:.171792957797251,color:"#c71e1d"},{name:"Guyana",x:.459289153358978,y:.312166775035405,categoryy:"RED",size:3.64089285507658,color:"#c71e1d"},{name:"Haiti",x:.531400735738813,y:.231958824501077,categoryy:"RED",size:.294768413969466,color:"#c71e1d"},{name:"Honduras",x:.462281442569754,y:.267311064883928,categoryy:"RED",size:1.04862299152317,color:"#c71e1d"},{name:"Hungary",x:.372480514784131,y:.499735629062906,categoryy:"GREEN",size:4.74663102989868,color:"#00dca6"},{name:"Iceland",x:.321201889636473,y:.716842151233647,categoryy:"GREEN",size:4.54844225751086,color:"#00dca6"},{name:"India",x:.506309491761447,y:.385969707771795,categoryy:"RED",size:1.79762011876852,color:"#c71e1d",annotation:"right"},{name:"Indonesia",x:.451379367661926,y:.386502075192424,categoryy:"RED",size:2.2903971480842,color:"#c71e1d"},{name:"Iran",x:.389113802698113,y:.388919933311032,categoryy:"YELLOW",size:7.59836484538996,color:"#fa8c00"},{name:"Iraq",x:.439442200742317,y:.298124620928909,categoryy:"RED",size:4.44062412949085,color:"#c71e1d"},{name:"Ireland",x:.31879252381871,y:.598480012906524,categoryy:"GREEN",size:7.24514322077522,color:"#00dca6"},{name:"Israel",x:.315589871788162,y:.54192577031707,categoryy:"GREEN",size:6.91959371834315,color:"#00dca6"},{name:"Italy",x:.323221211466696,y:.522700128120751,categoryy:"GREEN",size:5.31131544170879,color:"#00dca6"},{name:"Jamaica",x:.426361919319396,y:.403371202065648,categoryy:"YELLOW",size:2.84573001224876,color:"#fa8c00"},{name:"Japan",x:.379281267058302,y:.68952534602986,categoryy:"GREEN",size:8.54098020491546,color:"#00dca6"},{name:"Jordan",x:.379495319944051,y:.407491599159921,categoryy:"YELLOW",size:2.43820411172168,color:"#fa8c00"},{name:"Kazakhstan",x:.358157794803846,y:.517119451686512,categoryy:"GREEN",size:11.4569378323984,color:"#00dca6"},{name:"Kenya",x:.52515927548217,y:.299105690830078,categoryy:"RED",size:.423783898343557,color:"#c71e1d"},{name:"Kiribati",x:"",y:.449909035589355,categoryy:"",size:.765254094757829,color:"#00dca6"},{name:"North Korea",x:.471776416398444,y:.343975443639431,categoryy:"RED",size:2.18341993045969,color:"#c71e1d"},{name:"South Korea",x:.381214292300005,y:.724714631564898,categoryy:"GREEN",size:11.7993253802233,color:"#00dca6"},{name:"Kuwait",x:.382952808603876,y:.466524933236865,categoryy:"GREEN",size:22.0224164011923,color:"#00dca6"},{name:"Kyrgyzstan",x:.349928968594813,y:.393521644436588,categoryy:"YELLOW",size:1.55664325620875,color:"#fa8c00"},{name:"Lao",x:.526229195662484,y:.328270922381999,categoryy:"RED",size:2.60968183422462,color:"#c71e1d"},{name:"Latvia",x:.394663556061106,y:.581806615798219,categoryy:"GREEN",size:3.95543586167438,color:"#00dca6"},{name:"Lebanon",x:.419840113177868,y:.29055677444246,categoryy:"YELLOW",size:4.07689427350833,color:"#fa8c00"},{name:"Lesotho",x:.483622003002353,y:.311348178491256,categoryy:"RED",size:.362307409340339,color:"#c71e1d"},{name:"Liberia",x:.602923636671224,y:.278468506718157,categoryy:"RED",size:.238993430019259,color:"#c71e1d"},{name:"Libyan Arab Jamahiriya",x:.433808728943607,y:.270715042092784,categoryy:"RED",size:8.38072934435112,color:"#c71e1d"},{name:"Liechtenstein",x:"",y:.646897020923828,categoryy:"",size:3.94529210837622,color:"#00dca6"},{name:"Lithuania",x:.376500082803261,y:.595683719899232,categoryy:"GREEN",size:4.19807602212644,color:"#00dca6"},{name:"Luxembourg",x:.300923464496665,y:.672333281966928,categoryy:"GREEN",size:15.3064265559542,color:"#00dca6"},{name:"Macedonia",x:.372623930242324,y:.469304159370385,categoryy:"GREEN",size:3.99673721344351,color:"#00dca6"},{name:"Madagascar",x:.561024350301769,y:.266448672657836,categoryy:"RED",size:.152766255296265,color:"#c71e1d"},{name:"Malawi",x:.548120613023809,y:.287902079851243,categoryy:"RED",size:.0778366839170854,color:"#c71e1d"},{name:"Malaysia",x:.377174509298064,y:.51003132021892,categoryy:"GREEN",size:7.92712603743521,color:"#00dca6"},{name:"Maldives",x:.524909948262336,y:.436463048293251,categoryy:"BLUE",size:3.97395626217534,color:"#18a1cd"},{name:"Mali",x:.597837838719196,y:.292367235704986,categoryy:"RED",size:.29657101956316,color:"#c71e1d"},{name:"Malta",x:.338239620713551,y:.509800393582871,categoryy:"GREEN",size:3.29324560594014,color:"#00dca6"},{name:"Marshall Islands",x:"",y:.358853804071648,categoryy:"",size:3.06169323795406,color:"#fa8c00"},{name:"Mauritania",x:.57053816634114,y:.357162416638664,categoryy:"RED",size:.872793555310964,color:"#c71e1d"},{name:"Mauritius",x:.429222788316528,y:.568485093437368,categoryy:"GREEN",size:3.29459100560393,color:"#00dca6"},{name:"Mexico",x:.416855031096561,y:.366048158951361,categoryy:"YELLOW",size:3.52160004771504,color:"#fa8c00"},{name:"Micronesia",x:.58481139609837,y:.354059187904058,categoryy:"RED",size:1.58156950692426,color:"#c71e1d"},{name:"Moldova",x:.43059559809177,y:.433954007376656,categoryy:"GREEN",size:3.32461016755783,color:"#00dca6"},{name:"Monaco",x:"",y:.747460170235827,categoryy:"",size:0,color:""},{name:"Mongolia",x:.390625898814803,y:.460150763503009,categoryy:"GREEN",size:7.15312008585735,color:"#00dca6"},{name:"Montenegro",x:.377478358991001,y:.469314494630395,categoryy:"GREEN",size:4.17987599373753,color:"#00dca6"},{name:"Morocco",x:.379831115739779,y:.432120035971812,categoryy:"GREEN",size:1.95987228468546,color:"#00dca6"},{name:"Mozambique",x:.517378287756857,y:.26856351051554,categoryy:"RED",size:.246986411762639,color:"#c71e1d"},{name:"Myanmar",x:.530017941069212,y:.282121928535599,categoryy:"RED",size:.679428522562061,color:"#c71e1d"},{name:"Namibia",x:.474326209142085,y:.376780474287339,categoryy:"RED",size:1.69170542764537,color:"#c71e1d"},{name:"Nauru",x:"",y:.488117997362031,categoryy:"",size:5.57413588432697,color:"#00dca6"},{name:"Nepal",x:.521157364020822,y:.355569664079479,categoryy:"RED",size:.470136453499051,color:"#c71e1d"},{name:"Netherlands",x:.351482629304698,y:.684251309478929,categoryy:"GREEN",size:8.43707462722941,color:"#00dca6"},{name:"New Zealand",x:.310285683134415,y:.704072479187762,categoryy:"GREEN",size:6.83041418732592,color:"#00dca6"},{name:"Nicaragua",x:.446047927180731,y:.27192623003162,categoryy:"RED",size:.80054959429675,color:"#c71e1d"},{name:"Niger",x:.674887864647746,y:.333103573230323,categoryy:"RED",size:.0922322514104962,color:"#c71e1d"},{name:"Nigeria",x:.500130060130056,y:.250858246124371,categoryy:"RED",size:.573636206051187,color:"#c71e1d"},{name:"Norway",x:.256937713659564,y:.765146394646355,categoryy:"GREEN",size:6.7222699848575,color:"#00dca6",annotation:"top"},{name:"Oman",x:.414309307480994,y:.505513017825569,categoryy:"GREEN",size:15.2824363897061,color:"#00dca6"},{name:"Pakistan",x:.529820845091259,y:.310739347542506,categoryy:"RED",size:.879965499388893,color:"#c71e1d"},{name:"Palau",x:"",y:.423944653490986,categoryy:"",size:13.8881173268152,color:"#00dca6"},{name:"Panama",x:.390607443962236,y:.380313392428509,categoryy:"YELLOW",size:3.1414549958525,color:"#fa8c00"},{name:"Papua New Guinea",x:.536499048014022,y:.284290881932771,categoryy:"RED",size:.863707513959878,color:"#c71e1d"},{name:"Paraguay",x:.402442984844219,y:.363232490634256,categoryy:"YELLOW",size:1.16542523160477,color:"#fa8c00"},{name:"Peru",x:.433897229050545,y:.405183276769228,categoryy:"RED",size:1.74559192668502,color:"#c71e1d"},{name:"Philippines",x:.46273500759628,y:.340289877118321,categoryy:"RED",size:1.34502905731688,color:"#c71e1d"},{name:"Poland",x:.326582332669501,y:.545914250448128,categoryy:"GREEN",size:7.77364183861292,color:"#00dca6"},{name:"Portugal",x:.334892663914555,y:.578285064887328,categoryy:"GREEN",size:4.33976842606964,color:"#00dca6"},{name:"Qatar",x:.375388146127246,y:.534836526441998,categoryy:"GREEN",size:32.4744687618012,color:"#00dca6",annotation:"top"},{name:"Romania",x:.41276891923584,y:.435258172436792,categoryy:"GREEN",size:3.81743447683141,color:"#00dca6"},{name:"Russia",x:.350086960932479,y:.550336507662827,categoryy:"GREEN",size:11.7972029330523,color:"#00dca6"},{name:"Rwanda",x:.585759622490261,y:.425694749993365,categoryy:"BLUE",size:.105330369319572,color:"#18a1cd"},{name:"Saint Kitts and Nevis",x:.455403240609411,y:.566297662352556,categoryy:"BLUE",size:4.73180149146383,color:"#18a1cd"},{name:"Saint Lucia",x:.358878152737247,y:.445981459370643,categoryy:"GREEN",size:2.95412905964426,color:"#00dca6"},{name:"Saint Vincent and the Grenadines",x:"",y:.476475038417491,categoryy:"",size:2.35096245208338,color:"#00dca6"},{name:"Samoa",x:.487125673344199,y:.428495697547221,categoryy:"BLUE",size:1.52212413389075,color:"#18a1cd"},{name:"San Marino",x:"",y:.631015375943487,categoryy:"",size:0,color:""},{name:"Sao Tome and Principe",x:.528152203534612,y:.36161655065492,categoryy:"RED",size:.697518721217886,color:"#c71e1d"},{name:"Saudi Arabia",x:.406825885099599,y:.542993951930033,categoryy:"GREEN",size:15.2845787251876,color:"#00dca6"},{name:"Senegal",x:.53162747952589,y:.349655224311338,categoryy:"RED",size:.651679183707327,color:"#c71e1d"},{name:"Serbia",x:.432304973316506,y:.445012806412086,categoryy:"BLUE",size:6.61604693907974,color:"#18a1cd"},{name:"Seychelles",x:.468967404541626,y:.458107227599462,categoryy:"BLUE",size:6.24839963436737,color:"#18a1cd"},{name:"Sierra Leone",x:.563010625438905,y:.316063662782151,categoryy:"RED",size:.115189572752666,color:"#c71e1d"},{name:"Singapore",x:.392647604851657,y:.804268920793762,categoryy:"GREEN",size:8.30707949147546,color:"#00dca6",annotation:"right"},{name:"Slovakia",x:.366319226414073,y:.513056872831698,categoryy:"GREEN",size:5.69841625532024,color:"#00dca6"},{name:"Slovenia",x:.321559534064566,y:.603749115548556,categoryy:"GREEN",size:6.51220937780615,color:"#00dca6"},{name:"Solomon Islands",x:.57143884101154,y:.41448385967728,categoryy:"BLUE",size:.537457043456558,color:"#18a1cd"},{name:"Somalia",x:.673150839543958,y:.35616184055415,categoryy:"RED",size:.0446807095514156,color:"#c71e1d",annotation:"top"},{name:"South Africa",x:.41521543947398,y:.363998680425148,categoryy:"YELLOW",size:7.5077360921292,color:"#fa8c00"},{name:"Spain",x:.299602964122048,y:.536000249437802,categoryy:"GREEN",size:5.09135092007508,color:"#00dca6"},{name:"Sri Lanka",x:.47790043415621,y:.398112578348733,categoryy:"RED",size:1.09067562659476,color:"#c71e1d"},{name:"Sudan",x:.61753215612247,y:.263189013564703,categoryy:"RED",size:.481626765087475,color:"#c71e1d",annotation:"right"},{name:"Suriname",x:.406363004076513,y:.331987401426588,categoryy:"YELLOW",size:4.55825378527259,color:"#fa8c00"},{name:"Swaziland",x:.518891652236368,y:.311584815572833,categoryy:"RED",size:.836140045223269,color:"#c71e1d"},{name:"Sweden",x:.296002310661626,y:.722726257586917,categoryy:"GREEN",size:3.4050379189887,color:"#00dca6"},{name:"Switzerland",x:.255255646782898,y:.693764112944982,categoryy:"GREEN",size:4.35904146198319,color:"#00dca6"},{name:"Syrian Arab Republic",x:.465686231291926,y:.22701644796155,categoryy:"RED",size:1.50613944194882,color:"#c71e1d"},{name:"Tajikistan",x:.406757477567452,y:.329314923778286,categoryy:"YELLOW",size:1.01061869242185,color:"#fa8c00"},{name:"Tanzania",x:.520017098642886,y:.301620405654246,categoryy:"RED",size:.214634960133583,color:"#c71e1d"},{name:"Thailand",x:.438031382250299,y:.48662099368828,categoryy:"BLUE",size:3.83609001895282,color:"#18a1cd"},{name:"Timor-Leste",x:.499529530788676,y:.369816205867742,categoryy:"RED",size:.479460533259382,color:"#c71e1d"},{name:"Togo",x:.521241553835046,y:.348885991950586,categoryy:"RED",size:.29323120707198,color:"#c71e1d"},{name:"Tonga",x:.578524657440662,y:.410171593306513,categoryy:"BLUE",size:1.53114440054471,color:"#18a1cd"},{name:"Trinidad and Tobago",x:.375851233308117,y:.340518565921696,categoryy:"YELLOW",size:12.3228548692176,color:"#fa8c00",annotation:"left"},{name:"Tunisia",x:.390124932904683,y:.439754081665497,categoryy:"GREEN",size:2.55756420759521,color:"#00dca6"},{name:"Turkey",x:.350169853473182,y:.484070717444201,categoryy:"GREEN",size:4.75658474979861,color:"#00dca6"},{name:"Turkmenistan",x:.409275319639616,y:.235173717284733,categoryy:"YELLOW",size:12.2633540880676,color:"#fa8c00"},{name:"Tuvalu",x:"",y:.586165716786722,categoryy:"",size:.858000838823044,color:""},{name:"Uganda",x:.580074955629479,y:.287850209612222,categoryy:"RED",size:.132370788404111,color:"#c71e1d"},{name:"Ukraine",x:.383332295600238,y:.427213910082223,categoryy:"GREEN",size:3.93658353086744,color:"#00dca6"},{name:"United Arab Emirates",x:.369916823716952,y:.584618000723111,categoryy:"GREEN",size:19.3295632814806,color:"#00dca6"},{name:"United Kingdom",x:.296110804575754,y:.683382095357435,categoryy:"GREEN",size:5.22051448799294,color:"#00dca6"},{name:"U.S.",x:.329037801149844,y:.653280669789446,categoryy:"GREEN",size:14.6734106066885,color:"#00dca6",annotation:"right"},{name:"Uruguay",x:.406487227940893,y:.521350585399937,categoryy:"GREEN",size:1.87478454308499,color:"#00dca6"},{name:"Uzbekistan",x:.396931800721177,y:.385858175863724,categoryy:"YELLOW",size:3.47554445038462,color:"#fa8c00"},{name:"Vanuatu",x:.54753800197206,y:.357798268517472,categoryy:"RED",size:.700275419810089,color:"#c71e1d"},{name:"Venezuela",x:.389147764584799,y:.190085207630194,categoryy:"YELLOW",size:3.93956620857458,color:"#fa8c00"},{name:"Viet Nam",x:.482720492259469,y:.42513663297744,categoryy:"BLUE",size:3.4883126360288,color:"#18a1cd"},{name:"Yemen",x:.558355340681069,y:.247884481371503,categoryy:"RED",size:.380633360910495,color:"#c71e1d"},{name:"Zambia",x:.520933533409937,y:.321071576240754,categoryy:"RED",size:.38071705091289,color:"#c71e1d"},{name:"Zimbabwe",x:.55396968957582,y:.215652875914677,categoryy:"RED",size:.802978519634142,color:"#c71e1d"}],y=r(2535),h=function(e){var o=e.x,r=e.y,t=e.width,i=e.height;return(0,a.jsxs)("g",{children:[(0,a.jsx)("line",{x1:0,x2:t,y1:r,y2:r,stroke:"#ababab",strokeDasharray:"2"}),(0,a.jsx)("line",{x1:o,x2:o,y1:0,y2:i,stroke:"#ababab",strokeDasharray:"2"}),(0,a.jsx)("text",{x:0,y:r-15,fill:"#ababab",fontSize:16,textRendering:"optimizeLegibility",dominantBaseline:"Auto",children:"High Readiness"}),(0,a.jsx)("text",{x:0,y:r-37,fill:"#ababab",fontSize:16,textRendering:"optimizeLegibility",dominantBaseline:"Auto",children:"\u2191"}),(0,a.jsx)("text",{x:0,y:r+15,fill:"#ababab",fontSize:16,textRendering:"optimizeLegibility",dominantBaseline:"Hanging",children:"Low Readiness"}),(0,a.jsx)("text",{x:0,y:r+37,fill:"#ababab",fontSize:16,textRendering:"optimizeLegibility",dominantBaseline:"Hanging",children:"\u2193"})]})},p=r(9908),x=r.n(p),g=r(1931),m=r.n(g),f=function(e){var o=e.interactionData;if(!o)return null;var r=o.xPos,t=o.yPos,i=o.name,n=o.color,s=o.x,c=o.y,l=o.size;return(0,a.jsxs)("div",{className:m().tooltip,style:{left:r,top:t},children:[(0,a.jsx)("b",{className:m().title,children:i}),(0,a.jsxs)("div",{className:m().topHalfContainer,style:{borderColor:n},children:[(0,a.jsxs)("div",{className:m().row,children:[(0,a.jsx)("span",{children:"Vulnerability index"}),(0,a.jsx)("b",{children:Math.round(100*s)/100})]}),(0,a.jsxs)("div",{className:m().row,children:[(0,a.jsx)("span",{children:"Readiness index"}),(0,a.jsx)("b",{children:Math.round(100*c)/100})]})]}),(0,a.jsx)("div",{className:m().separator}),(0,a.jsxs)("div",{className:m().row,children:[(0,a.jsxs)("span",{children:["CO2 emission",(0,a.jsx)("br",{}),"(tons per capita)"]}),(0,a.jsx)("b",{children:Math.round(100*l)/100})]})]})};function b(e,o,r){return o in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}var z=function(e){var o=e.width,r=e.height,i=e.data.sort((function(e,o){return o.size-e.size})),n=(0,t.useState)(),s=n[0],c=n[1],l=y.BYU().domain([.23,.69]).range([0,o]),d=y.BYU().domain([.12,.83]).range([r,0]),u=y.PUr().domain([0,32]).range([3,40]),p=i.map((function(e,o){var r=u(e.size),t=l(e.x)-r/2,i=d(e.y)-r/2,n=s&&s.color!==e.color?x().scatterplotSquare+" "+x().dimmed:x().scatterplotSquare;return(0,a.jsx)("g",{onMouseMove:function(){return c(function(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),a.forEach((function(o){b(e,o,r[o])}))}return e}({xPos:t,yPos:i},e))},onMouseLeave:function(){return c(void 0)},children:(0,a.jsx)("rect",{x:t,y:i,opacity:1,fill:e.color,width:r,height:r,className:n})},o)})),g=i.filter((function(e){return e.annotation})).map((function(e,o){var r=u(e.size),t=l(e.x),i=d(e.y),n="left"===e.annotation?t-r/2-5:"right"===e.annotation?t+r/2+5:t,c="top"===e.annotation?i-r/2-7:"bottom"===e.annotation?i+r/2+7:i,y=s&&s.color!==e.color?x().dimmed:"",h="left"===e.annotation?"end":"right"===e.annotation?"start":"middle";return(0,a.jsxs)("g",{className:y,children:[(0,a.jsx)("rect",{x:t-r/2,y:i-r/2,opacity:1,fill:"none",strokeWidth:1,stroke:"black",width:r,height:r}),(0,a.jsx)("text",{x:n,y:c,fontSize:12,fontWeight:500,textAnchor:h,dominantBaseline:"middle",children:e.name})]},o)}));return(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("svg",{width:o,height:r,shapeRendering:"crispEdges",children:(0,a.jsxs)("g",{children:[(0,a.jsx)(h,{x:l(.43),y:d(.41),width:o,height:r}),p,g]})}),(0,a.jsx)("div",{style:{position:"absolute",width:o,height:r,top:0,left:0,pointerEvents:"none"},children:(0,a.jsx)(f,{interactionData:s})})]})},j=function(e){var o=e.width,r=void 0===o?700:o,t=e.height,i=void 0===t?400:t;return(0,a.jsxs)("div",{style:{paddingTop:20,paddingBottom:20},children:[(0,a.jsxs)("div",{style:{height:120},children:[(0,a.jsx)("p",{style:{color:"#000",fontFamily:"Roboto,sans-serif",fontSize:22,fontStyle:"normal",fontWeight:700,lineHeight:1.2},children:"The countries with the highest vulnerability to climate change have the lowest CO2 emissions"}),(0,a.jsxs)("p",{style:{color:"#000",fontFamily:"Roboto,sans-serif",fontSize:14,fontStyle:"normal",fontWeight:400,lineHeight:1.2},children:["All countries sorted by their ",(0,a.jsx)("b",{children:"vulnerability"})," and ",(0,a.jsx)("b",{children:"readiness"})," ","to climate change. The ",(0,a.jsx)("b",{children:"size shows the CO2 emission"})," per person in that country."]})]}),(0,a.jsx)(z,{data:u,width:r,height:i-120-40})]})},E=r(7115),v=r(2236),G=r(2173),w=r(3440),R=r(3359),A=[{subGroup:"Afghanistan",group:"Asia",y:43.828,size:31889923,x:974.5803384},{subGroup:"Albania",group:"Europe",y:76.423,size:3600523,x:5937.029526},{subGroup:"Algeria",group:"Africa",y:72.301,size:33333216,x:6223.367465},{subGroup:"Angola",group:"Africa",y:42.731,size:12420476,x:4797.231267},{subGroup:"Argentina",group:"Americas",y:75.32,size:40301927,x:12779.37964},{subGroup:"Australia",group:"Oceania",y:81.235,size:20434176,x:34435.36744},{subGroup:"Austria",group:"Europe",y:79.829,size:8199783,x:36126.4927},{subGroup:"Bahrain",group:"Asia",y:75.635,size:708573,x:29796.04834},{subGroup:"Bangladesh",group:"Asia",y:64.062,size:150448339,x:1391.253792},{subGroup:"Belgium",group:"Europe",y:79.441,size:10392226,x:33692.60508},{subGroup:"Benin",group:"Africa",y:56.728,size:8078314,x:1441.284873},{subGroup:"Bolivia",group:"Americas",y:65.554,size:9119152,x:3822.137084},{subGroup:"Bosnia and Herzegovina",group:"Europe",y:74.852,size:4552198,x:7446.298803},{subGroup:"Botswana",group:"Africa",y:50.728,size:1639131,x:12569.85177},{subGroup:"Brazil",group:"Americas",y:72.39,size:190010647,x:9065.800825},{subGroup:"Bulgaria",group:"Europe",y:73.005,size:7322858,x:10680.79282},{subGroup:"Burkina Faso",group:"Africa",y:52.295,size:14326203,x:1217.032994},{subGroup:"Burundi",group:"Africa",y:49.58,size:8390505,x:430.0706916},{subGroup:"Cambodia",group:"Asia",y:59.723,size:14131858,x:1713.778686},{subGroup:"Cameroon",group:"Africa",y:50.43,size:17696293,x:2042.09524},{subGroup:"Canada",group:"Americas",y:80.653,size:33390141,x:36319.23501},{subGroup:"Central African Republic",group:"Africa",y:44.741,size:4369038,x:706.016537},{subGroup:"Chad",group:"Africa",y:50.651,size:10238807,x:1704.063724},{subGroup:"Chile",group:"Americas",y:78.553,size:16284741,x:13171.63885},{subGroup:"China",group:"Asia",y:72.961,size:1318683096,x:4959.114854},{subGroup:"Colombia",group:"Americas",y:72.889,size:44227550,x:7006.580419},{subGroup:"Comoros",group:"Africa",y:65.152,size:710960,x:986.1478792},{subGroup:"Congo, Dem. Rep.",group:"Africa",y:46.462,size:64606759,x:277.5518587},{subGroup:"Congo, Rep.",group:"Africa",y:55.322,size:3800610,x:3632.557798},{subGroup:"Costa Rica",group:"Americas",y:78.782,size:4133884,x:9645.06142},{subGroup:"Cote d'Ivoire",group:"Africa",y:48.328,size:18013409,x:1544.750112},{subGroup:"Croatia",group:"Europe",y:75.748,size:4493312,x:14619.22272},{subGroup:"Cuba",group:"Americas",y:78.273,size:11416987,x:8948.102923},{subGroup:"Czech Republic",group:"Europe",y:76.486,size:10228744,x:22833.30851},{subGroup:"Denmark",group:"Europe",y:78.332,size:5468120,x:35278.41874},{subGroup:"Djibouti",group:"Africa",y:54.791,size:496374,x:2082.481567},{subGroup:"Dominican Republic",group:"Americas",y:72.235,size:9319622,x:6025.374752},{subGroup:"Ecuador",group:"Americas",y:74.994,size:13755680,x:6873.262326},{subGroup:"Egypt",group:"Africa",y:71.338,size:80264543,x:5581.180998},{subGroup:"El Salvador",group:"Americas",y:71.878,size:6939688,x:5728.353514},{subGroup:"Equatorial Guinea",group:"Africa",y:51.579,size:551201,x:12154.08975},{subGroup:"Eritrea",group:"Africa",y:58.04,size:4906585,x:641.3695236},{subGroup:"Ethiopia",group:"Africa",y:52.947,size:76511887,x:690.8055759},{subGroup:"Finland",group:"Europe",y:79.313,size:5238460,x:33207.0844},{subGroup:"France",group:"Europe",y:80.657,size:61083916,x:30470.0167},{subGroup:"Gabon",group:"Africa",y:56.735,size:1454867,x:13206.48452},{subGroup:"Gambia",group:"Africa",y:59.448,size:1688359,x:752.7497265},{subGroup:"Germany",group:"Europe",y:79.406,size:82400996,x:32170.37442},{subGroup:"Ghana",group:"Africa",y:60.022,size:22873338,x:1327.60891},{subGroup:"Greece",group:"Europe",y:79.483,size:10706290,x:27538.41188},{subGroup:"Guatemala",group:"Americas",y:70.259,size:12572928,x:5186.050003},{subGroup:"Guinea",group:"Africa",y:56.007,size:9947814,x:942.6542111},{subGroup:"Guinea-Bissau",group:"Africa",y:46.388,size:1472041,x:579.231743},{subGroup:"Haiti",group:"Americas",y:60.916,size:8502814,x:1201.637154},{subGroup:"Honduras",group:"Americas",y:70.198,size:7483763,x:3548.330846},{subGroup:"Hong Kong, China",group:"Asia",y:82.208,size:6980412,x:39724.97867},{subGroup:"Hungary",group:"Europe",y:73.338,size:9956108,x:18008.94444},{subGroup:"Iceland",group:"Europe",y:81.757,size:301931,x:36180.78919},{subGroup:"India",group:"Asia",y:64.698,size:1110396331,x:2452.210407},{subGroup:"Indonesia",group:"Asia",y:70.65,size:223547e3,x:3540.651564},{subGroup:"Iran",group:"Asia",y:70.964,size:69453570,x:11605.71449},{subGroup:"Iraq",group:"Asia",y:59.545,size:27499638,x:4471.061906},{subGroup:"Ireland",group:"Europe",y:78.885,size:4109086,x:40675.99635},{subGroup:"Israel",group:"Asia",y:80.745,size:6426679,x:25523.2771},{subGroup:"Italy",group:"Europe",y:80.546,size:58147733,x:28569.7197},{subGroup:"Jamaica",group:"Americas",y:72.567,size:2780132,x:7320.880262},{subGroup:"Japan",group:"Asia",y:82.603,size:127467972,x:31656.06806},{subGroup:"Jordan",group:"Asia",y:72.535,size:6053193,x:4519.461171},{subGroup:"Kenya",group:"Africa",y:54.11,size:35610177,x:1463.249282},{subGroup:"Korea, Dem. Rep.",group:"Asia",y:67.297,size:23301725,x:1593.06548},{subGroup:"Korea, Rep.",group:"Asia",y:78.623,size:49044790,x:23348.13973},{subGroup:"Kuwait",group:"Asia",y:77.588,size:2505559,x:47306.98978},{subGroup:"Lebanon",group:"Asia",y:71.993,size:3921278,x:10461.05868},{subGroup:"Lesotho",group:"Africa",y:42.592,size:2012649,x:1569.331442},{subGroup:"Liberia",group:"Africa",y:45.678,size:3193942,x:414.5073415},{subGroup:"Libya",group:"Africa",y:73.952,size:6036914,x:12057.49928},{subGroup:"Madagascar",group:"Africa",y:59.443,size:19167654,x:1044.770126},{subGroup:"Malawi",group:"Africa",y:48.303,size:13327079,x:759.3499101},{subGroup:"Malaysia",group:"Asia",y:74.241,size:24821286,x:12451.6558},{subGroup:"Mali",group:"Africa",y:54.467,size:12031795,x:1042.581557},{subGroup:"Mauritania",group:"Africa",y:64.164,size:3270065,x:1803.151496},{subGroup:"Mauritius",group:"Africa",y:72.801,size:1250882,x:10956.99112},{subGroup:"Mexico",group:"Americas",y:76.195,size:108700891,x:11977.57496},{subGroup:"Mongolia",group:"Asia",y:66.803,size:2874127,x:3095.772271},{subGroup:"Montenegro",group:"Europe",y:74.543,size:684736,x:9253.896111},{subGroup:"Morocco",group:"Africa",y:71.164,size:33757175,x:3820.17523},{subGroup:"Mozambique",group:"Africa",y:42.082,size:19951656,x:823.6856205},{subGroup:"Myanmar",group:"Asia",y:62.069,size:47761980,x:944},{subGroup:"Namibia",group:"Africa",y:52.906,size:2055080,x:4811.060429},{subGroup:"Nepal",group:"Asia",y:63.785,size:28901790,x:1091.359778},{subGroup:"Netherlands",group:"Europe",y:79.762,size:16570613,x:36797.93332},{subGroup:"New Zealand",group:"Oceania",y:80.204,size:4115771,x:25185.00911},{subGroup:"Nicaragua",group:"Americas",y:72.899,size:5675356,x:2749.320965},{subGroup:"Niger",group:"Africa",y:56.867,size:12894865,x:619.6768924},{subGroup:"Nigeria",group:"Africa",y:46.859,size:135031164,x:2013.977305},{subGroup:"Norway",group:"Europe",y:80.196,size:4627926,x:49357.19017},{subGroup:"Oman",group:"Asia",y:75.64,size:3204897,x:22316.19287},{subGroup:"Pakistan",group:"Asia",y:65.483,size:169270617,x:2605.94758},{subGroup:"Panama",group:"Americas",y:75.537,size:3242173,x:9809.185636},{subGroup:"Paraguay",group:"Americas",y:71.752,size:6667147,x:4172.838464},{subGroup:"Peru",group:"Americas",y:71.421,size:28674757,x:7408.905561},{subGroup:"Philippines",group:"Asia",y:71.688,size:91077287,x:3190.481016},{subGroup:"Poland",group:"Europe",y:75.563,size:38518241,x:15389.92468},{subGroup:"Portugal",group:"Europe",y:78.098,size:10642836,x:20509.64777},{subGroup:"Puerto Rico",group:"Americas",y:78.746,size:3942491,x:19328.70901},{subGroup:"Reunion",group:"Africa",y:76.442,size:798094,x:7670.122558},{subGroup:"Romania",group:"Europe",y:72.476,size:22276056,x:10808.47561},{subGroup:"Rwanda",group:"Africa",y:46.242,size:8860588,x:863.0884639},{subGroup:"Sao Tome and Principe",group:"Africa",y:65.528,size:199579,x:1598.435089},{subGroup:"Saudi Arabia",group:"Asia",y:72.777,size:27601038,x:21654.83194},{subGroup:"Senegal",group:"Africa",y:63.062,size:12267493,x:1712.472136},{subGroup:"Serbia",group:"Europe",y:74.002,size:10150265,x:9786.534714},{subGroup:"Sierra Leone",group:"Africa",y:42.568,size:6144562,x:862.5407561},{subGroup:"Singapore",group:"Asia",y:79.972,size:4553009,x:47143.17964},{subGroup:"Slovak Republic",group:"Europe",y:74.663,size:5447502,x:18678.31435},{subGroup:"Slovenia",group:"Europe",y:77.926,size:2009245,x:25768.25759},{subGroup:"Somalia",group:"Africa",y:48.159,size:9118773,x:926.1410683},{subGroup:"South Africa",group:"Africa",y:49.339,size:43997828,x:9269.657808},{subGroup:"Spain",group:"Europe",y:80.941,size:40448191,x:28821.0637},{subGroup:"Sri Lanka",group:"Asia",y:72.396,size:20378239,x:3970.095407},{subGroup:"Sudan",group:"Africa",y:58.556,size:42292929,x:2602.394995},{subGroup:"Swaziland",group:"Africa",y:39.613,size:1133066,x:4513.480643},{subGroup:"Sweden",group:"Europe",y:80.884,size:9031088,x:33859.74835},{subGroup:"Switzerland",group:"Europe",y:81.701,size:7554661,x:37506.41907},{subGroup:"Syria",group:"Asia",y:74.143,size:19314747,x:4184.548089},{subGroup:"Taiwan",group:"Asia",y:78.4,size:23174294,x:28718.27684},{subGroup:"Tanzania",group:"Africa",y:52.517,size:38139640,x:1107.482182},{subGroup:"Thailand",group:"Asia",y:70.616,size:65068149,x:7458.396327},{subGroup:"Togo",group:"Africa",y:58.42,size:5701579,x:882.9699438},{subGroup:"Trinidad and Tobago",group:"Americas",y:69.819,size:1056608,x:18008.50924},{subGroup:"Tunisia",group:"Africa",y:73.923,size:10276158,x:7092.923025},{subGroup:"Turkey",group:"Europe",y:71.777,size:71158647,x:8458.276384},{subGroup:"Uganda",group:"Africa",y:51.542,size:29170398,x:1056.380121},{subGroup:"United Kingdom",group:"Europe",y:79.425,size:60776238,x:33203.26128},{subGroup:"United ys",group:"Americas",y:78.242,size:301139947,x:42951.65309},{subGroup:"Uruguay",group:"Americas",y:76.384,size:3447496,x:10611.46299},{subGroup:"Venezuela",group:"Americas",y:73.747,size:26084662,x:11415.80569},{subGroup:"Vietnam",group:"Asia",y:74.249,size:85262356,x:2441.576404},{subGroup:"West Bank and Gaza",group:"Asia",y:73.422,size:4018332,x:3025.349798},{subGroup:"Yemen, Rep.",group:"Asia",y:62.698,size:22211743,x:2280.769906},{subGroup:"Zambia",group:"Africa",y:42.384,size:11746035,x:1271.211593},{subGroup:"Zimbabwe",group:"Africa",y:43.487,size:12311143,x:469.7092981}],D=function(e){var o=e.yScale,r=e.pixelsPerTick,i=e.width,n=o.range(),s=(0,t.useMemo)((function(){var e=n[0]-n[1],a=Math.floor(e/r);return o.ticks(a).map((function(e){return{value:e,yOffset:o(e)}}))}),[o]);return(0,a.jsx)(a.Fragment,{children:s.map((function(e){var o=e.value,r=e.yOffset;return(0,a.jsxs)("g",{transform:"translate(0, ".concat(r,")"),children:[(0,a.jsx)("line",{x1:-10,x2:i+10,stroke:"#D2D7D3",strokeWidth:.5,shapeRendering:"crispEdges"}),(0,a.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-20px)",fill:"#D2D7D3"},children:o},o)]},o)}))})},N=function(e){var o=e.xScale,r=e.pixelsPerTick,i=e.height,n=o.range(),s=(0,t.useMemo)((function(){var e=n[1]-n[0],a=Math.floor(e/r);return o.ticks(a).map((function(e){return{value:e,xOffset:o(e)}}))}),[o]);return(0,a.jsx)(a.Fragment,{children:s.map((function(e){var o=e.value,r=e.xOffset;return(0,a.jsxs)("g",{transform:"translate(".concat(r,", 0)"),children:[(0,a.jsx)("line",{y1:10,y2:-i-10,stroke:"#D2D7D3",strokeWidth:.5,shapeRendering:"crispEdges"}),(0,a.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)",fill:"#D2D7D3"},children:o},o)]},o)}))})},S=r(9939),k=r.n(S),L=function(e){var o=e.interactionData;return o?(0,a.jsx)("div",{className:k().tooltip,style:{left:o.xPos,top:o.yPos},children:o.name}):null},T={top:60,right:60,bottom:60,left:60},O=function(e){var o=e.width,r=e.height,i=e.data,n=o-T.right-T.left,s=r-T.top-T.bottom,c=(0,t.useState)(null),l=c[0],d=c[1],u=y.BYU().domain([35,85]).range([s,0]),h=y.BYU().domain([-3e3,5e4]).range([0,n]),p=i.map((function(e){return String(e.group)})),x=y.PKp().domain(p).range(["#e0ac2b","#e85252","#6689c6","#9a6fb0","#a53253"]),g=i.map((function(e,o){return(0,a.jsx)("circle",{r:8,cx:h(e.x),cy:u(e.y),stroke:x(e.group),fill:x(e.group),fillOpacity:.7,onMouseEnter:function(){return d({xPos:h(e.x),yPos:u(e.y),name:e.subGroup})},onMouseLeave:function(){return d(null)}},o)}));return(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("svg",{width:o,height:r,children:(0,a.jsxs)("g",{width:n,height:s,transform:"translate(".concat([T.left,T.top].join(","),")"),children:[(0,a.jsx)(D,{yScale:u,pixelsPerTick:40,width:n}),(0,a.jsx)("g",{transform:"translate(0, ".concat(s,")"),children:(0,a.jsx)(N,{xScale:h,pixelsPerTick:40,height:s})}),g]})}),(0,a.jsx)("div",{style:{width:n,height:s,position:"absolute",top:0,left:0,pointerEvents:"none",marginLeft:T.left,marginTop:T.top},children:(0,a.jsx)(L,{interactionData:l})})]})},B=function(e){var o=e.width,r=void 0===o?700:o,t=e.height,i=void 0===t?400:t;return(0,a.jsx)(O,{data:A,width:r,height:i})},M=r(1664),C=r(9317),P=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["A ",(0,a.jsx)("a",{href:"https://www.data-to-viz.com/graph/scatter.html",children:"scatterplot"})," ","displays the relationship between 2 numeric variables. This page is a step-by-step guide on how to build your own scatterplot for the web, using"," ",(0,a.jsx)("a",{href:"https://reactjs.org/",children:"React"})," and"," ",(0,a.jsx)("a",{href:"https://www.d3-graph-gallery.com",children:"D3.js"}),"."]}),(0,a.jsxs)("p",{children:["It starts with very basic concepts like ",(0,a.jsx)("b",{children:"data structure"}),","," ",(0,a.jsx)("b",{children:"scales"})," and svg circle ",(0,a.jsx)("b",{children:"rendering"}),". It then shows how to add interactivity to the chart with ",(0,a.jsx)("b",{children:"hover effects"})," and ",(0,a.jsx)("b",{children:"tooltips"}),". At the end of the post, you should be able to build you own ready-to-publish scatterplot \ud83d\ude47\u200d\u2642\ufe0f."]})]});function I(){return(0,a.jsxs)(i.A,{title:"Scatterplot with React",seoDescription:"How to build a violin plot with React and D3.js. A set of re-usable components",children:[(0,a.jsx)(n.Z,{title:(0,a.jsxs)("h1",{children:["Scatterplot"," ",(0,a.jsx)("span",{className:"text-gray-100 hidden sm:inline",children:"with React and d3.js"})]}),description:P,chartType:"scatter"}),(0,a.jsx)("h2",{id:"data",children:"The Data"}),(0,a.jsxs)("p",{children:["The dataset used to build a scatterplot is usually an"," ",(0,a.jsx)("b",{children:"array of objects"}),"."]}),(0,a.jsxs)("p",{children:["For each object, at least 2 properties are required: ",(0,a.jsx)("code",{children:"x"})," and"," ",(0,a.jsx)("code",{children:"y"}),". The value of ",(0,a.jsx)("code",{children:"x"})," will control the position of the datapoint on the horizontal axis. The value of ",(0,a.jsx)("code",{children:"y"})," will be linked with the vertical axis."]}),(0,a.jsx)(c.d,{code:W}),(0,a.jsxs)("p",{children:["We will see later in this guide that some additional properties can become useful. For instance, a third numeric value could be added as a"," ",(0,a.jsx)("code",{children:"size"})," property, and a categorical property could be used as a ",(0,a.jsx)("code",{children:"group"})," to control the ",(0,a.jsx)("b",{children:"color"}),"."]}),(0,a.jsxs)("p",{children:["This tutorial starts by using dummy data for the most simple examples. It then uses the famous"," ",(0,a.jsx)("a",{href:"https://www.data-to-viz.com/story/ThreeNum.html",children:"gapminder"})," ","dataset that provides the ",(0,a.jsx)("b",{children:"life expectancy"})," and the"," ",(0,a.jsx)("b",{children:"population size"})," for every country."]}),(0,a.jsx)("h2",{id:"skeleton",children:"Component skeleton"}),(0,a.jsxs)("p",{children:["The goal here is to create a ",(0,a.jsx)("code",{children:"Scatterplot"})," component that will be stored in a ",(0,a.jsx)("code",{children:"Scatterplot.tsx"})," file. This component requires 3 props to render: a ",(0,a.jsx)("code",{children:"width"}),", a ",(0,a.jsx)("code",{children:"height"})," ","and some ",(0,a.jsx)("code",{children:"data"}),"."]}),(0,a.jsxs)("p",{children:["The shape of the ",(0,a.jsx)("code",{children:"data"})," is described above. The"," ",(0,a.jsx)("code",{children:"width"})," and",(0,a.jsx)("code",{children:"height"})," will be use to render a ",(0,a.jsx)("code",{children:"svg"})," element in the DOM, in which we will insert the scatterplot."]}),(0,a.jsxs)("p",{children:["To put it in a nutshell, that's the skeleton of our"," ",(0,a.jsx)("code",{children:"Scatterplot"})," component:"]}),(0,a.jsx)(c.d,{code:F}),(0,a.jsxs)("p",{children:["It's fundamental to understand that with this code organization, d3.js will be used to prepare the svg ",(0,a.jsx)("code",{children:"circle"}),", but it's react that will render them in the ",(0,a.jsx)("code",{children:"return()"})," statement. We won't use d3 methods like ",(0,a.jsx)("code",{children:"append"})," that you can find in usual"," ",(0,a.jsx)("a",{href:"https://www.d3-graph-gallery/com",children:"d3.js examples"}),"."]}),(0,a.jsx)("h2",{id:"Scales and axes",children:"Scales and axes"}),(0,a.jsx)("h3",{children:"\u2192 Scales"}),(0,a.jsxs)("p",{children:["Building a scatterplot requires to transform a ",(0,a.jsx)("b",{children:"dimension"})," (a numeric variable like life expectancy) in a ",(0,a.jsx)("b",{children:"position in pixels"}),". This is done using a fundamental dataviz concept called ",(0,a.jsx)("b",{children:"scale"}),"."]}),(0,a.jsxs)("p",{children:["D3.js comes with a handful set of"," ",(0,a.jsx)("a",{href:"https://github.com/d3/d3-scale",children:"predefined scales"}),"."," ",(0,a.jsx)("code",{children:"scaleLinear"})," is what we need for the X and Y axis. Here is a quick overview on how to build and use a scale:"]}),(0,a.jsx)(c.d,{code:H}),(0,a.jsxs)("p",{children:["To dig more into d3 scales, visit this"," ",(0,a.jsx)("a",{href:"https://d3-graph-gallery.com/graph/custom_axis.html",children:"dedicated page"}),". It's a crucial concept that will be used everywhere in this website."]}),(0,a.jsx)("h3",{children:"\u2192 Axes"}),(0,a.jsxs)("p",{children:["Axes are rather complicated elements. They are composed of a main"," ",(0,a.jsx)("b",{children:"segment"}),", several ",(0,a.jsx)("b",{children:"ticks"})," that each have a ",(0,a.jsx)("b",{children:"label"}),", and are often decorated with a ",(0,a.jsx)("b",{children:"title"}),"."]}),(0,a.jsxs)("p",{children:["D3.js offers some powerful"," ",(0,a.jsx)("a",{href:"https://d3-graph-gallery.com/graph/custom_axis.html",children:"functions"})," ","to draw those axes for you, based on the scales discussed above. For instance, one could call ",(0,a.jsx)("code",{children:"axisBottom()"})," in a"," ",(0,a.jsx)("code",{children:"useEffect"})," hook to imperatively draw the X axis into a specific DOM element. But this comes with a number of caveats and is thus not the option used in this gallery."]}),(0,a.jsxs)("p",{children:["Instead, I suggest to create the axes from scratch and store them in 2 react components called ",(0,a.jsx)("code",{children:"AxisBottom"})," and"," ",(0,a.jsx)("code",{children:"AxisLeft"}),". Those components expect a d3 scale as input and does all the svg drawing for us."]}),(0,a.jsx)(l.$,{VizComponent:E.c,vizName:"AxisBasic",maxWidth:500,height:300,caption:(0,a.jsx)("p",{children:"Compute scales to map numeric values to a 2d canvas. Use custom react components to render axes with react from this scales."})}),(0,a.jsxs)("p",{children:["The code for those X and Y axis components is provided below. The following examples will show how straightforward it is to tweak them to reach other ",(0,a.jsx)("b",{children:"chart styles"}),"."]}),(0,a.jsx)(R.U,{startOpen:!1,title:"code for the X axis react component",children:(0,a.jsx)(c.d,{code:U})}),(0,a.jsx)(R.U,{startOpen:!1,title:"code for the Y axis react component",children:(0,a.jsx)(c.d,{code:_})}),(0,a.jsxs)("p",{children:[(0,a.jsx)("br",{}),(0,a.jsx)("u",{children:"Note"}),": do not forget to use the ",(0,a.jsx)("code",{children:"crispEdges"})," value of the ",(0,a.jsx)("code",{children:"shape-rendering"})," svg attribute. Otherwise the vertical and horizontal segments might be blurry."]}),(0,a.jsx)("h2",{id:"Add markers",children:"Add circles"}),(0,a.jsxs)("p",{children:["We are now pretty close from a first scatterplot. There is just one more critical part missing: ",(0,a.jsx)("b",{children:"markers"}),"."]}),(0,a.jsxs)("p",{children:["To add them, we have to ",(0,a.jsx)("code",{children:"map()"})," on the data input and add a svg ",(0,a.jsx)("code",{children:"circle"})," for each. That's the code snippet that needs to be added:"]}),(0,a.jsx)(c.d,{code:Y}),(0,a.jsxs)("p",{children:[(0,a.jsx)("b",{children:"That's it!"})," \ud83c\udf89"]}),(0,a.jsxs)("p",{children:["Calling the ",(0,a.jsx)("code",{children:"allShapes"})," object in the ",(0,a.jsx)("code",{children:"return()"})," ","statement of the component will add as many circles as needed."]}),(0,a.jsxs)("p",{children:["Note that styling attributes are written as prop here. In production, you should consider adding a ",(0,a.jsx)("code",{children:"class"})," to those circles and setting it using css."]}),(0,a.jsx)(l.$,{VizComponent:d.C,vizName:"ScatterplotBasic",maxWidth:500,height:500,caption:"Add a svg circle for each item of the dataset to get a first scatterplot"}),(0,a.jsxs)("p",{children:["That's not the best scatterplot in the world yet, but it's definitely a"," ",(0,a.jsx)("b",{children:"first working version"}),"."]}),(0,a.jsx)(G.r,{chartId:"scatter"}),(0,a.jsx)("h2",{id:"Tooltips",children:"Tooltips"}),(0,a.jsxs)("p",{children:["There is a very common ",(0,a.jsx)("b",{children:"frustration"})," with scatterplots: you're interested in a specific data points (let's say it's out of the general trend for instance), but you ",(0,a.jsx)("b",{children:"ignore everything"})," about this item."]}),(0,a.jsx)("p",{children:"This is when tooltips come into play. You can add as much information as you want in it, making the chart much more insightful."}),(0,a.jsxs)("p",{children:["In the following chart based on the"," ",(0,a.jsx)("a",{href:"https://www.data-to-viz.com/story/ThreeNum.html",children:"gapminder"})," ","dataset, don't you want to know what are the countries with the highest life expectancy or GDP per capita? Labeling all circles would result in a very ",(0,a.jsx)("b",{children:"cluttered"})," figure, so let's learn how to add tooltips instead."]}),(0,a.jsx)(l.$,{VizComponent:B,vizName:"ScatterplotTooltip",maxWidth:500,height:500,caption:"Scatterplot with tooltip. Hover over a circle to get the corresponding country name."}),(0,a.jsxs)("p",{children:["There are ",(0,a.jsx)("b",{children:"many different approaches"})," to build tooltips, and I'm"," ",(0,a.jsx)(M.default,{href:"/subscribe",children:"preparing a whole dedicated blog post"})," on the topic."]}),(0,a.jsxs)("p",{children:["Here I'm suggesting to start with an internal state using the"," ",(0,a.jsx)("code",{children:"useState"})," hook. ",(0,a.jsx)("code",{children:"interactionData"})," is an object providing everything you need to draw a tooltip. It usually has 2"," ",(0,a.jsx)("code",{children:"xPos"})," and ",(0,a.jsx)("code",{children:"yPos"})," properties that are the position of the tooltip. It then has as many props as needed to fill the tooltip. (I'm just adding the country name in my example)"]}),(0,a.jsx)(c.d,{code:K}),(0,a.jsxs)("p",{children:[(0,a.jsx)("code",{children:"setInteractiondata"})," is a function allowing to update this state. We can use it on each circle to update"," ",(0,a.jsx)("code",{children:"interactionData"})," each time it is hovered over:"]}),(0,a.jsx)(c.d,{code:q}),(0,a.jsxs)("p",{children:["We can now create a ",(0,a.jsx)("code",{children:"Tooltip"})," component that will render only when the ",(0,a.jsx)("code",{children:"interactionData"})," is not ",(0,a.jsx)("code",{children:"null"}),". It is usually more convenient to render the tooltip using ",(0,a.jsx)("code",{children:"html"}),", not ",(0,a.jsx)("code",{children:"svg"})," (it is easier to customize it)."]}),(0,a.jsxs)("p",{children:["To do so, the tooltip is rendered in a ",(0,a.jsx)("code",{children:"absolute"})," positioned div that is drawn exactly on top of the chart area, excluding axes. This is how to ",(0,a.jsx)("code",{children:"return"})," statement of our ",(0,a.jsx)("code",{children:"Scatterplot"})," ","component now looks like:"]}),(0,a.jsx)(c.d,{code:V}),(0,a.jsxs)("p",{children:["Now you can add whatever content in the ",(0,a.jsx)("code",{children:"Tooltip"})," component. Check the code below the example above to see an example."]}),(0,a.jsxs)("p",{className:"text-gray-400",children:["This was a rather succint explanation on tooltips. A more"," ",(0,a.jsx)(M.default,{href:"/subscribe",children:"in-depth explanation"})," will be published soon."]}),(0,a.jsx)("h2",{id:"Hover effect",children:"Hover effect"}),(0,a.jsxs)("p",{children:["Showing a tooltip on hover is definitely helpful, but it's often a nice touch to add a ",(0,a.jsx)("b",{children:"hover effect"}),". Hover effects on scatterplots are usually used for 2 main reasons:"]}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:["Highlight ",(0,a.jsx)("b",{children:"one circle"}),": makes sure the tooltip you're reading is associated with the circle you're targeting."]}),(0,a.jsxs)("li",{children:["Highlight ",(0,a.jsx)("b",{children:"a group"}),": it's often interesting to see all the related points in the dataset."]})]}),(0,a.jsx)("p",{children:"Let's implement both on the chart below. Hovering over a country will fade all circles except the ones of the same continent."}),(0,a.jsx)(l.$,{VizComponent:v.d,vizName:"ScatterplotHoverHighlight",maxWidth:500,height:500,caption:"Scatterplot with hover effect: hover over a circle to highlight it and its group"}),(0,a.jsxs)("p",{children:["As for the tooltip example above, everything starts with an internal state (called ",(0,a.jsx)("code",{children:"hoveredGroup"}),") that stores which circle is hovered hover."]}),(0,a.jsx)(c.d,{code:X}),(0,a.jsxs)("p",{children:["Now, this state needs to be updated when the circle is hovered hover."," ",(0,a.jsx)("code",{children:"setHoveredGroup"})," can be passed as a callback to the"," ",(0,a.jsx)("code",{children:"onMouseOver"})," attribute of each circle."]}),(0,a.jsxs)("p",{children:["On top of this, some specific css classes can be attributed to circles depending on the circle that is hovered hover. In the example above, a class called ",(0,a.jsx)("code",{children:"dimmed"})," is added to circles that must disappear."]}),(0,a.jsx)("p",{children:"To put it in a nutshell, the circles are created as follow:"}),(0,a.jsx)(c.d,{code:Z}),(0,a.jsxs)("p",{children:["Last but not least, some css needs to be added to customize the circle depending on if they are in default, ",(0,a.jsx)("code",{children:".dimmed"})," or"," ",(0,a.jsx)("code",{children:":hover"})," mode."]}),(0,a.jsxs)("p",{children:["Note that the ",(0,a.jsx)("code",{children:"filter: saturate(0)"})," is a good way to dim unwanted circles. Also, playing with ",(0,a.jsx)("code",{children:"transition-delay"})," and"," ",(0,a.jsx)("code",{children:"transition-duration"})," adds to animate the transition is a nice touch you should consider. Check the code below the example to see the full css."]}),(0,a.jsxs)("p",{className:"text-gray-400 mt-8",children:["Hover effect is another big topic in data visualization. A dedicated post will be published soon on the topic, feel free to"," ",(0,a.jsx)(M.default,{href:"/subscribe",children:"subscribe"})," to know when."]}),(0,a.jsx)("div",{className:"py-7",children:(0,a.jsx)(C.g,{})}),(0,a.jsx)(w.Z,{chartId:"scatter"}),(0,a.jsx)("h2",{id:"real life",children:"Real life application"}),(0,a.jsx)("p",{children:"Let's apply the concepts learnt above on a real life example."}),(0,a.jsx)("p",{children:"I really like this scatterplot originally published on the data wrapper blog. It shows a strong correlation between vulnerability to climate change and CO2 emissions."}),(0,a.jsx)("br",{}),(0,a.jsx)("p",{children:"The chart has several features that are interesting to reproduce on a technical point of view:"}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:["Custom ",(0,a.jsx)("b",{children:"annotation"}),": only a fraction of the country names are written"]}),(0,a.jsx)("li",{children:"Hover effect: hovered country is highlighted with a black stroke. After a short delay, countries of other groups are dimmed. Note that the effect is triggered once the mouse approaches the marker, no need to be perfectly on top."}),(0,a.jsx)("li",{children:"Tooltip: highly customized and linked to mouse position"})]}),(0,a.jsx)(l.$,{VizComponent:j,vizName:"ScatterplotClimateCrisis",maxWidth:700,height:900,caption:(0,a.jsxs)("span",{children:["Reproduction of a chart originally published by"," ",(0,a.jsx)("a",{href:"https://blog.datawrapper.de/climate-risk-readiness-responsibility/",children:"Data Wrapper"})," ","using react and d3.js."]})}),(0,a.jsx)("h2",{id:"Scales and axes",children:"Useful links"}),(0,a.jsx)("p",{children:"The following links have been useful to create this page:"}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("i",{children:"Building axes in d3.js"})," and the ",(0,a.jsx)("i",{children:"scatterplot section"})," from the"," ",(0,a.jsx)("a",{href:"https://d3-graph-gallery.com/graph/custom_axis.html",children:"d3 graph gallery"})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("a",{href:"https://github.com/d3/d3-scale",children:"Official doc"})," about scales."," "]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("i",{children:"Using React with D3.js"})," on Amelia Wattenberger's"," ",(0,a.jsx)("a",{href:"https://wattenberger.com/blog/react-and-d3",children:"blog"}),"."]}),(0,a.jsxs)("li",{children:["This"," ",(0,a.jsx)("a",{href:"https://stackoverflow.com/questions/49058890/how-to-get-a-react-components-size-height-width-before-render",children:"stack overflow discussion"})," ","about react component's size."]})]}),(0,a.jsx)("div",{className:"full-bleed border-t h-0 bg-gray-100 mb-3 mt-24"}),(0,a.jsx)(s.Z,{chartFamily:"correlation"}),(0,a.jsx)("div",{className:"mt-20"})]})}var W="\nconst data = [\n  {\n    x: 2,\n    y: 4\n  },\n  {\n    x: 8,\n    y: 5\n  }\n]\n".trim(),U='\nimport { useMemo } from "react";\nimport { ScaleLinear } from "d3";\n\ntype AxisBottomProps = {\n  xScale: ScaleLinear<number, number>;\n  pixelsPerTick: number;\n};\n\n// tick length\nconst TICK_LENGTH = 6;\n\nexport const AxisBottom = ({ xScale, pixelsPerTick }: AxisBottomProps) => {\n  const range = xScale.range();\n\n  const ticks = useMemo(() => {\n    const width = range[1] - range[0];\n    const numberOfTicksTarget = Math.floor(width / pixelsPerTick);\n\n    return xScale.ticks(numberOfTicksTarget).map((value) => ({\n      value,\n      xOffset: xScale(value),\n    }));\n  }, [xScale]);\n\n  return (\n    <>\n      {/* Main horizontal line */}\n      <path\n        d={["M", range[0], 0, "L", range[1], 0].join(" ")}\n        fill="none"\n        stroke="currentColor"\n      />\n\n      {/* Ticks and labels */}\n      {ticks.map(({ value, xOffset }) => (\n        <g key={value} transform={\'translate(${xOffset}, 0)\'}>\n          <line y2={TICK_LENGTH} stroke="currentColor" />\n          <text\n            key={value}\n            style={{\n              fontSize: "10px",\n              textAnchor: "middle",\n              transform: "translateY(20px)",\n            }}\n          >\n            {value}\n          </text>\n        </g>\n      ))}\n    </>\n  );\n};\n'.trim(),_="\nconst data = [\n  {\n    x: 2,\n    y: 4\n  },\n  {\n    x: 8,\n    y: 5\n  }\n]\n".trim(),Y='\nconst allShapes = data.map((d, i) => {\n  return (\n    <circle\n      key={i}\n      r={7} // radius\n      cx={xScale(d.y)} // position on the X axis\n      cy={yScale(d.x)} // on the Y axis\n      opacity={1}\n      stroke="#cb1dd1"\n      fill="#cb1dd1"\n      fillOpacity={0.2}\n      strokeWidth={1}\n    />\n  );\n});\n'.trim(),H="\nconst scale = d3.scaleLinear()\n  .domain([0, 10]) // data goes from 0 to 10\n  .range([0, 200]); // axis goes from 0 to 200\n\nscale(0); // 0 -> item with a value of 0 will be at the extreme left of the axis\nscale(5); // 100 -> middle of the axis\nscale(10); // 200 -> extreme right\n".trim(),F='\nimport * as d3 from "d3"; // we will need d3.js\n\ntype ScatterplotProps = {\n  width: number;\n  height: number;\n  data: { x: number; y: number }[];\n};\n\nexport const Scatterplot = ({ width, height, data }: ScatterplotProps) => {\n\n  // read the data\n  // do some stuff with d3\n  // compute all the <circle>\n\n  return (\n    <div>\n      <svg width={width} height={height}>\n        // render all the <circle>\n      </svg>\n    </div>\n  );\n};\n'.trim(),K="\nconst [interactionData, setInteractiondata] = useState<InteractionData | null>(null);\n".trim(),q="\n<circle\n  r={8}\n  cx={xScale(d.x)}\n  cy={yScale(d.y)}\n  onMouseEnter={() => // Each time the circle is hovered hover...\n    setInteractionData({ // ... update the interactionData state with the circle information\n      xPos: xScale(d.x),\n      yPos: yScale(d.y),\n      name: d.subGroup,\n    })\n  }\n  onMouseLeave={() => setInteractionData(null)} // When the user stops hovering, reset the interactionData to null\n/>\n".trim(),V='\nreturn (\n  <div style={{ position: "relative" }}>\n    <svg width={width} height={height}>\n      // axes and circles go here\n    </svg>\n\n    {/* Tooltip */}\n    <div\n      style={{\n        width: boundsWidth, // the width of the chart area excluding axes = width - left margin\n        height: boundsHeight,\n        position: "absolute",\n        top: 0,\n        left: 0,\n        pointerEvents: "none",\n        marginLeft: MARGIN.left,\n        marginTop: MARGIN.top,\n      }}\n    >\n      <Tooltip interactionData={interactionData} />\n    </div>\n'.trim(),X="\nconst [hoveredGroup, setHoveredGroup] = useState<string | null>(null);\n".trim(),Z='\nconst allShapes = data.map((d, i) => {\n  const className = // class if the circle depends on the hover state\n    hoveredGroup && d.group !== hoveredGroup\n      ? styles.scatterplotCircle + " " + styles.dimmed\n      : styles.scatterplotCircle;\n\n  return (\n    <circle\n      key={i}\n      r={5}\n      cx={xScale(d.x)}\n      cy={yScale(d.y)}\n      className={className} // class is attributed here\n      stroke={colorScale(d.group)}\n      fill={colorScale(d.group)}\n      onMouseOver={() => setHoveredGroup(d.group)} // callback to update the state\n      onMouseLeave={() => setHoveredGroup(null)} // and to set it back to null\n    />\n  );\n});\n'.trim()},1151:function(e,o,r){"use strict";r.d(o,{X:function(){return d}});var a=r(5893),t=r(2535),i=function(e){var o=e.width,r=e.height;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("defs",{children:(0,a.jsx)("pattern",{id:"pattern_rkDsm",patternUnits:"userSpaceOnUse",width:"9.5",height:"2.5",patternTransform:"rotate(41)",children:(0,a.jsx)("line",{x1:"0",y:"0",x2:"0",y2:"9.5",stroke:"#D9B9F3",strokeWidth:"1"})})}),(0,a.jsx)("rect",{width:o,height:r,fill:"url(#pattern_rkDsm)",opacity:"1"})]})},n=r(7294),s=function(e){var o=e.xScale,r=e.pixelsPerTick,t=o.range(),i=(0,n.useMemo)((function(){var e=t[1]-t[0],a=Math.floor(e/r);return o.ticks(a).map((function(e){return{value:e,xOffset:o(e)}}))}),[o]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:["M",t[0],0,"L",t[1],0].join(" "),fill:"none",stroke:"currentColor"}),i.map((function(e){var o=e.value,r=e.xOffset;return(0,a.jsxs)("g",{transform:"translate(".concat(r,", 0)"),children:[(0,a.jsx)("line",{y2:6,stroke:"currentColor"}),(0,a.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o)}))]})},c=function(e){var o=e.yScale,r=e.pixelsPerTick,t=o.range(),i=(0,n.useMemo)((function(){var e=t[0]-t[1],a=Math.floor(e/r);return o.ticks(a).map((function(e){return{value:e,yOffset:o(e)}}))}),[o]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:["M",0,t[0],"L",0,t[1]].join(" "),fill:"none",stroke:"currentColor"}),i.map((function(e){var o=e.value,r=e.yOffset;return(0,a.jsxs)("g",{transform:"translate(0, ".concat(r,")"),children:[(0,a.jsx)("line",{x2:-6,stroke:"currentColor"}),(0,a.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-20px)"},children:o},o)]},o)}))]})},l={top:30,right:30,bottom:50,left:50},d=function(e){var o=e.width,r=e.height,n=o-l.right-l.left,d=r-l.top-l.bottom,u=t.BYU().domain([0,10]).range([0,n]),y=t.BYU().domain([0,11]).range([d,0]);return(0,a.jsx)("div",{children:(0,a.jsx)("svg",{width:o,height:r,shapeRendering:"crispEdges",children:(0,a.jsxs)("g",{width:n,height:d,transform:"translate(".concat([l.left,l.top].join(","),")"),overflow:"visible",children:[(0,a.jsx)(i,{width:n,height:d}),(0,a.jsx)(c,{yScale:y,pixelsPerTick:30}),(0,a.jsx)("g",{transform:"translate(0, ".concat(d,")"),children:(0,a.jsx)(s,{xScale:u,pixelsPerTick:60})})]})})})}},7115:function(e,o,r){"use strict";r.d(o,{c:function(){return i}});var a=r(5893),t=r(1151),i=function(e){var o=e.width,r=void 0===o?700:o,i=e.height,n=void 0===i?400:i;return(0,a.jsx)(t.X,{width:r,height:n})}},993:function(e,o,r){"use strict";r.d(o,{C:function(){return u}});var a=r(5893),t=[{x:2,y:4},{x:3,y:5},{x:1,y:2},{x:5,y:5},{x:7,y:8},{x:9,y:9},{x:6,y:8},{x:5,y:4},{x:7,y:5},{x:8,y:9},{x:6,y:9},{x:3,y:6},{x:2,y:1}],i=r(2535),n=r(7294),s=function(e){var o=e.yScale,r=e.pixelsPerTick,t=e.width,i=o.range(),s=(0,n.useMemo)((function(){var e=i[0]-i[1],a=Math.floor(e/r);return o.ticks(a).map((function(e){return{value:e,yOffset:o(e)}}))}),[o]);return(0,a.jsx)(a.Fragment,{children:s.map((function(e){var o=e.value,r=e.yOffset;return(0,a.jsxs)("g",{transform:"translate(0, ".concat(r,")"),shapeRendering:"crispEdges",children:[(0,a.jsx)("line",{x1:-10,x2:t+10,stroke:"#D2D7D3",strokeWidth:.5}),(0,a.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-20px)",fill:"#D2D7D3"},children:o},o)]},o)}))})},c=function(e){var o=e.xScale,r=e.pixelsPerTick,t=e.height,i=o.range(),s=(0,n.useMemo)((function(){var e=i[1]-i[0],a=Math.floor(e/r);return o.ticks(a).map((function(e){return{value:e,xOffset:o(e)}}))}),[o]);return(0,a.jsx)(a.Fragment,{children:s.map((function(e){var o=e.value,r=e.xOffset;return(0,a.jsxs)("g",{transform:"translate(".concat(r,", 0)"),shapeRendering:"crispEdges",children:[(0,a.jsx)("line",{y1:10,y2:-t-10,stroke:"#D2D7D3",strokeWidth:.5}),(0,a.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)",fill:"#D2D7D3"},children:o},o)]},o)}))})},l={top:60,right:60,bottom:60,left:60},d=function(e){var o=e.width,r=e.height,t=e.data,n=o-l.right-l.left,d=r-l.top-l.bottom,u=i.BYU().domain([0,10]).range([d,0]),y=i.BYU().domain([0,10]).range([0,n]),h=t.map((function(e,o){return(0,a.jsx)("circle",{r:13,cx:y(e.y),cy:u(e.x),opacity:1,stroke:"#cb1dd1",fill:"#cb1dd1",fillOpacity:.2,strokeWidth:1},o)}));return(0,a.jsx)("div",{children:(0,a.jsx)("svg",{width:o,height:r,children:(0,a.jsxs)("g",{width:n,height:d,transform:"translate(".concat([l.left,l.top].join(","),")"),children:[(0,a.jsx)(s,{yScale:u,pixelsPerTick:40,width:n}),(0,a.jsx)("g",{transform:"translate(0, ".concat(d,")"),children:(0,a.jsx)(c,{xScale:y,pixelsPerTick:40,height:d})}),h]})})})},u=function(e){var o=e.width,r=void 0===o?700:o,i=e.height,n=void 0===i?400:i;return(0,a.jsx)(d,{data:t,width:r,height:n})}},9908:function(e){e.exports={scatterplotSquare:"scatterplot_scatterplotSquare__ODMf_",dimmed:"scatterplot_dimmed__WOghI"}},1931:function(e){e.exports={tooltip:"tooltip_tooltip__REzT9",title:"tooltip_title__Uf8SO",topHalfContainer:"tooltip_topHalfContainer__xGj5k",row:"tooltip_row__R_KJe",separator:"tooltip_separator__8Zb_x"}},9939:function(e){e.exports={tooltip:"tooltip_tooltip__dixdW"}}},function(e){e.O(0,[3888,5660,358,5443,2236,9774,2888,179],(function(){return o=4657,e(e.s=o);var o}));var o=e.O();_N_E=o}]);